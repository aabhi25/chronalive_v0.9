var o8=Object.defineProperty;var dj=e=>{throw TypeError(e)};var l8=(e,t,r)=>t in e?o8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var le=(e,t,r)=>l8(e,typeof t!="symbol"?t+"":t,r),Sv=(e,t,r)=>t.has(e)||dj("Cannot "+r);var te=(e,t,r)=>(Sv(e,t,"read from private field"),r?r.call(e):t.get(e)),Ut=(e,t,r)=>t.has(e)?dj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),gt=(e,t,r,n)=>(Sv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ir=(e,t,r)=>(Sv(e,t,"access private method"),r);var zm=(e,t,r,n)=>({set _(a){gt(e,t,a,r)},get _(){return te(e,t,n)}});function A8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function R_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L_={exports:{}},ex={},M_={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=Symbol.for("react.element"),c8=Symbol.for("react.portal"),d8=Symbol.for("react.fragment"),u8=Symbol.for("react.strict_mode"),f8=Symbol.for("react.profiler"),h8=Symbol.for("react.provider"),m8=Symbol.for("react.context"),p8=Symbol.for("react.forward_ref"),g8=Symbol.for("react.suspense"),x8=Symbol.for("react.memo"),v8=Symbol.for("react.lazy"),uj=Symbol.iterator;function y8(e){return e===null||typeof e!="object"?null:(e=uj&&e[uj]||e["@@iterator"],typeof e=="function"?e:null)}var H_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K_=Object.assign,V_={};function Du(e,t,r){this.props=e,this.context=t,this.refs=V_,this.updater=r||H_}Du.prototype.isReactComponent={};Du.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Du.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $_(){}$_.prototype=Du.prototype;function bb(e,t,r){this.props=e,this.context=t,this.refs=V_,this.updater=r||H_}var Cb=bb.prototype=new $_;Cb.constructor=bb;K_(Cb,Du.prototype);Cb.isPureReactComponent=!0;var fj=Array.isArray,G_=Object.prototype.hasOwnProperty,Bb={current:null},W_={key:!0,ref:!0,__self:!0,__source:!0};function z_(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)G_.call(t,n)&&!W_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];a.children=A}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:hm,type:e,key:i,ref:o,props:a,_owner:Bb.current}}function w8(e,t){return{$$typeof:hm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jb(e){return typeof e=="object"&&e!==null&&e.$$typeof===hm}function b8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hj=/\/+/g;function Fv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b8(""+e.key):t.toString(36)}function ep(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hm:case c8:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Fv(o,0):n,fj(a)?(r="",e!=null&&(r=e.replace(hj,"$&/")+"/"),ep(a,t,r,"",function(c){return c})):a!=null&&(jb(a)&&(a=w8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(hj,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",fj(e))for(var l=0;l<e.length;l++){i=e[l];var A=n+Fv(i,l);o+=ep(i,t,r,A,a)}else if(A=y8(e),typeof A=="function")for(e=A.call(e),l=0;!(i=e.next()).done;)i=i.value,A=n+Fv(i,l++),o+=ep(i,t,r,A,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xm(e,t,r){if(e==null)return e;var n=[],a=0;return ep(e,n,"","",function(i){return t.call(r,i,a++)}),n}function C8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $s={current:null},tp={transition:null},B8={ReactCurrentDispatcher:$s,ReactCurrentBatchConfig:tp,ReactCurrentOwner:Bb};function X_(){throw Error("act(...) is not supported in production builds of React.")}fr.Children={map:Xm,forEach:function(e,t,r){Xm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xm(e,function(){t++}),t},toArray:function(e){return Xm(e,function(t){return t})||[]},only:function(e){if(!jb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fr.Component=Du;fr.Fragment=d8;fr.Profiler=f8;fr.PureComponent=bb;fr.StrictMode=u8;fr.Suspense=g8;fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B8;fr.act=X_;fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=K_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bb.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)G_.call(t,A)&&!W_.hasOwnProperty(A)&&(n[A]=t[A]===void 0&&l!==void 0?l[A]:t[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){l=Array(A);for(var c=0;c<A;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:hm,type:e.type,key:a,ref:i,props:n,_owner:o}};fr.createContext=function(e){return e={$$typeof:m8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h8,_context:e},e.Consumer=e};fr.createElement=z_;fr.createFactory=function(e){var t=z_.bind(null,e);return t.type=e,t};fr.createRef=function(){return{current:null}};fr.forwardRef=function(e){return{$$typeof:p8,render:e}};fr.isValidElement=jb;fr.lazy=function(e){return{$$typeof:v8,_payload:{_status:-1,_result:e},_init:C8}};fr.memo=function(e,t){return{$$typeof:x8,type:e,compare:t===void 0?null:t}};fr.startTransition=function(e){var t=tp.transition;tp.transition={};try{e()}finally{tp.transition=t}};fr.unstable_act=X_;fr.useCallback=function(e,t){return $s.current.useCallback(e,t)};fr.useContext=function(e){return $s.current.useContext(e)};fr.useDebugValue=function(){};fr.useDeferredValue=function(e){return $s.current.useDeferredValue(e)};fr.useEffect=function(e,t){return $s.current.useEffect(e,t)};fr.useId=function(){return $s.current.useId()};fr.useImperativeHandle=function(e,t,r){return $s.current.useImperativeHandle(e,t,r)};fr.useInsertionEffect=function(e,t){return $s.current.useInsertionEffect(e,t)};fr.useLayoutEffect=function(e,t){return $s.current.useLayoutEffect(e,t)};fr.useMemo=function(e,t){return $s.current.useMemo(e,t)};fr.useReducer=function(e,t,r){return $s.current.useReducer(e,t,r)};fr.useRef=function(e){return $s.current.useRef(e)};fr.useState=function(e){return $s.current.useState(e)};fr.useSyncExternalStore=function(e,t,r){return $s.current.useSyncExternalStore(e,t,r)};fr.useTransition=function(){return $s.current.useTransition()};fr.version="18.3.1";M_.exports=fr;var v=M_.exports;const Xt=R_(v),Nb=A8({__proto__:null,default:Xt},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j8=v,N8=Symbol.for("react.element"),E8=Symbol.for("react.fragment"),S8=Object.prototype.hasOwnProperty,F8=j8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T8={key:!0,ref:!0,__self:!0,__source:!0};function q_(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)S8.call(t,n)&&!T8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:N8,type:e,key:i,ref:o,props:a,_owner:F8.current}}ex.Fragment=E8;ex.jsx=q_;ex.jsxs=q_;L_.exports=ex;var s=L_.exports,Y_={exports:{}},Ua={},J_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,J){var de=H.length;H.push(J);e:for(;0<de;){var se=de-1>>>1,D=H[se];if(0<a(D,J))H[se]=J,H[de]=D,de=se;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var J=H[0],de=H.pop();if(de!==J){H[0]=de;e:for(var se=0,D=H.length,j=D>>>1;se<j;){var k=2*(se+1)-1,M=H[k],S=k+1,_=H[S];if(0>a(M,de))S<D&&0>a(_,M)?(H[se]=_,H[S]=de,se=S):(H[se]=M,H[k]=de,se=k);else if(S<D&&0>a(_,de))H[se]=_,H[S]=de,se=S;else break e}}return J}function a(H,J){var de=H.sortIndex-J.sortIndex;return de!==0?de:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],c=[],d=1,u=null,f=3,m=!1,p=!1,h=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var J=r(c);J!==null;){if(J.callback===null)n(c);else if(J.startTime<=H)n(c),J.sortIndex=J.expirationTime,t(A,J);else break;J=r(c)}}function b(H){if(h=!1,w(H),!p)if(r(A)!==null)p=!0,q(C);else{var J=r(c);J!==null&&ne(b,J.startTime-H)}}function C(H,J){p=!1,h&&(h=!1,y(F),F=-1),m=!0;var de=f;try{for(w(J),u=r(A);u!==null&&(!(u.expirationTime>J)||H&&!P());){var se=u.callback;if(typeof se=="function"){u.callback=null,f=u.priorityLevel;var D=se(u.expirationTime<=J);J=e.unstable_now(),typeof D=="function"?u.callback=D:u===r(A)&&n(A),w(J)}else n(A);u=r(A)}if(u!==null)var j=!0;else{var k=r(c);k!==null&&ne(b,k.startTime-J),j=!1}return j}finally{u=null,f=de,m=!1}}var N=!1,B=null,F=-1,E=5,U=-1;function P(){return!(e.unstable_now()-U<E)}function O(){if(B!==null){var H=e.unstable_now();U=H;var J=!0;try{J=B(!0,H)}finally{J?X():(N=!1,B=null)}}else N=!1}var X;if(typeof g=="function")X=function(){g(O)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,he=ae.port2;ae.port1.onmessage=O,X=function(){he.postMessage(null)}}else X=function(){x(O,0)};function q(H){B=H,N||(N=!0,X())}function ne(H,J){F=x(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,q(C))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(A)},e.unstable_next=function(H){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var de=f;f=J;try{return H()}finally{f=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var de=f;f=H;try{return J()}finally{f=de}},e.unstable_scheduleCallback=function(H,J,de){var se=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?se+de:se):de=se,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,H={id:d++,callback:J,priorityLevel:H,startTime:de,expirationTime:D,sortIndex:-1},de>se?(H.sortIndex=de,t(c,H),r(A)===null&&H===r(c)&&(h?(y(F),F=-1):h=!0,ne(b,de-se))):(H.sortIndex=D,t(A,H),p||m||(p=!0,q(C))),H},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(H){var J=f;return function(){var de=f;f=J;try{return H.apply(this,arguments)}finally{f=de}}}})(Z_);J_.exports=Z_;var _8=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k8=v,ka=_8;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ek=new Set,ch={};function Qc(e,t){Au(e,t),Au(e+"Capture",t)}function Au(e,t){for(ch[e]=t,e=0;e<t.length;e++)ek.add(t[e])}var tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ow=Object.prototype.hasOwnProperty,I8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mj={},pj={};function U8(e){return ow.call(pj,e)?!0:ow.call(mj,e)?!1:I8.test(e)?pj[e]=!0:(mj[e]=!0,!1)}function Q8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D8(e,t,r,n){if(t===null||typeof t>"u"||Q8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gs(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cs[e]=new Gs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cs[t]=new Gs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cs[e]=new Gs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cs[e]=new Gs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cs[e]=new Gs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cs[e]=new Gs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cs[e]=new Gs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cs[e]=new Gs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cs[e]=new Gs(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eb=/[\-:]([a-z])/g;function Sb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eb,Sb);cs[t]=new Gs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eb,Sb);cs[t]=new Gs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eb,Sb);cs[t]=new Gs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cs[e]=new Gs(e,1,!1,e.toLowerCase(),null,!1,!1)});cs.xlinkHref=new Gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cs[e]=new Gs(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fb(e,t,r,n){var a=cs.hasOwnProperty(t)?cs[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D8(t,r,a,n)&&(r=null),n||a===null?U8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fl=k8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qm=Symbol.for("react.element"),xd=Symbol.for("react.portal"),vd=Symbol.for("react.fragment"),Tb=Symbol.for("react.strict_mode"),lw=Symbol.for("react.profiler"),tk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),_b=Symbol.for("react.forward_ref"),Aw=Symbol.for("react.suspense"),cw=Symbol.for("react.suspense_list"),kb=Symbol.for("react.memo"),El=Symbol.for("react.lazy"),nk=Symbol.for("react.offscreen"),gj=Symbol.iterator;function rf(e){return e===null||typeof e!="object"?null:(e=gj&&e[gj]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,Tv;function bf(e){if(Tv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Tv=t&&t[1]||""}return`
`+Tv+e}var _v=!1;function kv(e,t){if(!e||_v)return"";_v=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var A=`
`+a[o].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=o&&0<=l);break}}}finally{_v=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bf(e):""}function P8(e){switch(e.tag){case 5:return bf(e.type);case 16:return bf("Lazy");case 13:return bf("Suspense");case 19:return bf("SuspenseList");case 0:case 2:case 15:return e=kv(e.type,!1),e;case 11:return e=kv(e.type.render,!1),e;case 1:return e=kv(e.type,!0),e;default:return""}}function dw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vd:return"Fragment";case xd:return"Portal";case lw:return"Profiler";case Tb:return"StrictMode";case Aw:return"Suspense";case cw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rk:return(e.displayName||"Context")+".Consumer";case tk:return(e._context.displayName||"Context")+".Provider";case _b:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kb:return t=e.displayName||null,t!==null?t:dw(e.type)||"Memo";case El:t=e._payload,e=e._init;try{return dw(e(t))}catch{}}return null}function O8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dw(t);case 8:return t===Tb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function AA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R8(e){var t=sk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ym(e){e._valueTracker||(e._valueTracker=R8(e))}function ak(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uw(e,t){var r=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=AA(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ik(e,t){t=t.checked,t!=null&&Fb(e,"checked",t,!1)}function fw(e,t){ik(e,t);var r=AA(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hw(e,t.type,r):t.hasOwnProperty("defaultValue")&&hw(e,t.type,AA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hw(e,t,r){(t!=="number"||Sp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cf=Array.isArray;function Id(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+AA(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function mw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(Cf(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:AA(r)}}function ok(e,t){var r=AA(t.value),n=AA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jm,Ak=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jm=Jm||document.createElement("div"),Jm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L8=["Webkit","ms","Moz","O"];Object.keys(Lf).forEach(function(e){L8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lf[t]=Lf[e]})});function ck(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Lf.hasOwnProperty(e)&&Lf[e]?(""+t).trim():t+"px"}function dk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=ck(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var M8=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gw(e,t){if(t){if(M8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function xw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vw=null;function Ib(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yw=null,Ud=null,Qd=null;function bj(e){if(e=gm(e)){if(typeof yw!="function")throw Error(We(280));var t=e.stateNode;t&&(t=ax(t),yw(e.stateNode,e.type,t))}}function uk(e){Ud?Qd?Qd.push(e):Qd=[e]:Ud=e}function fk(){if(Ud){var e=Ud,t=Qd;if(Qd=Ud=null,bj(e),t)for(e=0;e<t.length;e++)bj(t[e])}}function hk(e,t){return e(t)}function mk(){}var Iv=!1;function pk(e,t,r){if(Iv)return e(t,r);Iv=!0;try{return hk(e,t,r)}finally{Iv=!1,(Ud!==null||Qd!==null)&&(mk(),fk())}}function uh(e,t){var r=e.stateNode;if(r===null)return null;var n=ax(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var ww=!1;if(tl)try{var nf={};Object.defineProperty(nf,"passive",{get:function(){ww=!0}}),window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{ww=!1}function H8(e,t,r,n,a,i,o,l,A){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Mf=!1,Fp=null,Tp=!1,bw=null,K8={onError:function(e){Mf=!0,Fp=e}};function V8(e,t,r,n,a,i,o,l,A){Mf=!1,Fp=null,H8.apply(K8,arguments)}function $8(e,t,r,n,a,i,o,l,A){if(V8.apply(this,arguments),Mf){if(Mf){var c=Fp;Mf=!1,Fp=null}else throw Error(We(198));Tp||(Tp=!0,bw=c)}}function Dc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cj(e){if(Dc(e)!==e)throw Error(We(188))}function G8(e){var t=e.alternate;if(!t){if(t=Dc(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Cj(a),e;if(i===n)return Cj(a),t;i=i.sibling}throw Error(We(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function xk(e){return e=G8(e),e!==null?vk(e):null}function vk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vk(e);if(t!==null)return t;e=e.sibling}return null}var yk=ka.unstable_scheduleCallback,Bj=ka.unstable_cancelCallback,W8=ka.unstable_shouldYield,z8=ka.unstable_requestPaint,yn=ka.unstable_now,X8=ka.unstable_getCurrentPriorityLevel,Ub=ka.unstable_ImmediatePriority,wk=ka.unstable_UserBlockingPriority,_p=ka.unstable_NormalPriority,q8=ka.unstable_LowPriority,bk=ka.unstable_IdlePriority,tx=null,oo=null;function Y8(e){if(oo&&typeof oo.onCommitFiberRoot=="function")try{oo.onCommitFiberRoot(tx,e,void 0,(e.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:eH,J8=Math.log,Z8=Math.LN2;function eH(e){return e>>>=0,e===0?32:31-(J8(e)/Z8|0)|0}var Zm=64,e0=4194304;function Bf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Bf(l):(i&=o,i!==0&&(n=Bf(i)))}else o=r&~a,o!==0?n=Bf(o):i!==0&&(n=Bf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ti(t),a=1<<r,n|=e[r],t&=~a;return n}function tH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rH(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ti(i),l=1<<o,A=a[o];A===-1?(!(l&r)||l&n)&&(a[o]=tH(l,t)):A<=t&&(e.expiredLanes|=l),i&=~l}}function Cw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ck(){var e=Zm;return Zm<<=1,!(Zm&4194240)&&(Zm=64),e}function Uv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ti(t),e[t]=r}function nH(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ti(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Qb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ti(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var kr=0;function Bk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jk,Db,Nk,Ek,Sk,Bw=!1,t0=[],Yl=null,Jl=null,Zl=null,fh=new Map,hh=new Map,_l=[],sH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jj(e,t){switch(e){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(t.pointerId)}}function sf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=gm(t),t!==null&&Db(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function aH(e,t,r,n,a){switch(t){case"focusin":return Yl=sf(Yl,e,t,r,n,a),!0;case"dragenter":return Jl=sf(Jl,e,t,r,n,a),!0;case"mouseover":return Zl=sf(Zl,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return fh.set(i,sf(fh.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,hh.set(i,sf(hh.get(i)||null,e,t,r,n,a)),!0}return!1}function Fk(e){var t=LA(e.target);if(t!==null){var r=Dc(t);if(r!==null){if(t=r.tag,t===13){if(t=gk(r),t!==null){e.blockedOn=t,Sk(e.priority,function(){Nk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vw=n,r.target.dispatchEvent(n),vw=null}else return t=gm(r),t!==null&&Db(t),e.blockedOn=r,!1;t.shift()}return!0}function Nj(e,t,r){rp(e)&&r.delete(t)}function iH(){Bw=!1,Yl!==null&&rp(Yl)&&(Yl=null),Jl!==null&&rp(Jl)&&(Jl=null),Zl!==null&&rp(Zl)&&(Zl=null),fh.forEach(Nj),hh.forEach(Nj)}function af(e,t){e.blockedOn===t&&(e.blockedOn=null,Bw||(Bw=!0,ka.unstable_scheduleCallback(ka.unstable_NormalPriority,iH)))}function mh(e){function t(a){return af(a,e)}if(0<t0.length){af(t0[0],e);for(var r=1;r<t0.length;r++){var n=t0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yl!==null&&af(Yl,e),Jl!==null&&af(Jl,e),Zl!==null&&af(Zl,e),fh.forEach(t),hh.forEach(t),r=0;r<_l.length;r++)n=_l[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_l.length&&(r=_l[0],r.blockedOn===null);)Fk(r),r.blockedOn===null&&_l.shift()}var Dd=fl.ReactCurrentBatchConfig,Ip=!0;function oH(e,t,r,n){var a=kr,i=Dd.transition;Dd.transition=null;try{kr=1,Pb(e,t,r,n)}finally{kr=a,Dd.transition=i}}function lH(e,t,r,n){var a=kr,i=Dd.transition;Dd.transition=null;try{kr=4,Pb(e,t,r,n)}finally{kr=a,Dd.transition=i}}function Pb(e,t,r,n){if(Ip){var a=jw(e,t,r,n);if(a===null)Vv(e,t,n,Up,r),jj(e,n);else if(aH(a,e,t,r,n))n.stopPropagation();else if(jj(e,n),t&4&&-1<sH.indexOf(e)){for(;a!==null;){var i=gm(a);if(i!==null&&jk(i),i=jw(e,t,r,n),i===null&&Vv(e,t,n,Up,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Vv(e,t,n,null,r)}}var Up=null;function jw(e,t,r,n){if(Up=null,e=Ib(n),e=LA(e),e!==null)if(t=Dc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Up=e,null}function Tk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X8()){case Ub:return 1;case wk:return 4;case _p:case q8:return 16;case bk:return 536870912;default:return 16}default:return 16}}var Kl=null,Ob=null,np=null;function _k(){if(np)return np;var e,t=Ob,r=t.length,n,a="value"in Kl?Kl.value:Kl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return np=a.slice(e,1<n?1-n:void 0)}function sp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function r0(){return!0}function Ej(){return!1}function Qa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?r0:Ej,this.isPropagationStopped=Ej,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=r0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=r0)},persist:function(){},isPersistent:r0}),t}var Pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rb=Qa(Pu),pm=sn({},Pu,{view:0,detail:0}),AH=Qa(pm),Qv,Dv,of,rx=sn({},pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==of&&(of&&e.type==="mousemove"?(Qv=e.screenX-of.screenX,Dv=e.screenY-of.screenY):Dv=Qv=0,of=e),Qv)},movementY:function(e){return"movementY"in e?e.movementY:Dv}}),Sj=Qa(rx),cH=sn({},rx,{dataTransfer:0}),dH=Qa(cH),uH=sn({},pm,{relatedTarget:0}),Pv=Qa(uH),fH=sn({},Pu,{animationName:0,elapsedTime:0,pseudoElement:0}),hH=Qa(fH),mH=sn({},Pu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pH=Qa(mH),gH=sn({},Pu,{data:0}),Fj=Qa(gH),xH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yH[e])?!!t[e]:!1}function Lb(){return wH}var bH=sn({},pm,{key:function(e){if(e.key){var t=xH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lb,charCode:function(e){return e.type==="keypress"?sp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CH=Qa(bH),BH=sn({},rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tj=Qa(BH),jH=sn({},pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lb}),NH=Qa(jH),EH=sn({},Pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SH=Qa(EH),FH=sn({},rx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TH=Qa(FH),_H=[9,13,27,32],Mb=tl&&"CompositionEvent"in window,Hf=null;tl&&"documentMode"in document&&(Hf=document.documentMode);var kH=tl&&"TextEvent"in window&&!Hf,kk=tl&&(!Mb||Hf&&8<Hf&&11>=Hf),_j=" ",kj=!1;function Ik(e,t){switch(e){case"keyup":return _H.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yd=!1;function IH(e,t){switch(e){case"compositionend":return Uk(t);case"keypress":return t.which!==32?null:(kj=!0,_j);case"textInput":return e=t.data,e===_j&&kj?null:e;default:return null}}function UH(e,t){if(yd)return e==="compositionend"||!Mb&&Ik(e,t)?(e=_k(),np=Ob=Kl=null,yd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kk&&t.locale!=="ko"?null:t.data;default:return null}}var QH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ij(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QH[e.type]:t==="textarea"}function Qk(e,t,r,n){uk(n),t=Qp(t,"onChange"),0<t.length&&(r=new Rb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kf=null,ph=null;function DH(e){Gk(e,0)}function nx(e){var t=Cd(e);if(ak(t))return e}function PH(e,t){if(e==="change")return t}var Dk=!1;if(tl){var Ov;if(tl){var Rv="oninput"in document;if(!Rv){var Uj=document.createElement("div");Uj.setAttribute("oninput","return;"),Rv=typeof Uj.oninput=="function"}Ov=Rv}else Ov=!1;Dk=Ov&&(!document.documentMode||9<document.documentMode)}function Qj(){Kf&&(Kf.detachEvent("onpropertychange",Pk),ph=Kf=null)}function Pk(e){if(e.propertyName==="value"&&nx(ph)){var t=[];Qk(t,ph,e,Ib(e)),pk(DH,t)}}function OH(e,t,r){e==="focusin"?(Qj(),Kf=t,ph=r,Kf.attachEvent("onpropertychange",Pk)):e==="focusout"&&Qj()}function RH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nx(ph)}function LH(e,t){if(e==="click")return nx(t)}function MH(e,t){if(e==="input"||e==="change")return nx(t)}function HH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ui=typeof Object.is=="function"?Object.is:HH;function gh(e,t){if(Ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ow.call(t,a)||!Ui(e[a],t[a]))return!1}return!0}function Dj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pj(e,t){var r=Dj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dj(r)}}function Ok(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ok(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rk(){for(var e=window,t=Sp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sp(e.document)}return t}function Hb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KH(e){var t=Rk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ok(r.ownerDocument.documentElement,r)){if(n!==null&&Hb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Pj(r,i);var o=Pj(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VH=tl&&"documentMode"in document&&11>=document.documentMode,wd=null,Nw=null,Vf=null,Ew=!1;function Oj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ew||wd==null||wd!==Sp(n)||(n=wd,"selectionStart"in n&&Hb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vf&&gh(Vf,n)||(Vf=n,n=Qp(Nw,"onSelect"),0<n.length&&(t=new Rb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wd)))}function n0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bd={animationend:n0("Animation","AnimationEnd"),animationiteration:n0("Animation","AnimationIteration"),animationstart:n0("Animation","AnimationStart"),transitionend:n0("Transition","TransitionEnd")},Lv={},Lk={};tl&&(Lk=document.createElement("div").style,"AnimationEvent"in window||(delete bd.animationend.animation,delete bd.animationiteration.animation,delete bd.animationstart.animation),"TransitionEvent"in window||delete bd.transitionend.transition);function sx(e){if(Lv[e])return Lv[e];if(!bd[e])return e;var t=bd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Lk)return Lv[e]=t[r];return e}var Mk=sx("animationend"),Hk=sx("animationiteration"),Kk=sx("animationstart"),Vk=sx("transitionend"),$k=new Map,Rj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function BA(e,t){$k.set(e,t),Qc(t,[e])}for(var Mv=0;Mv<Rj.length;Mv++){var Hv=Rj[Mv],$H=Hv.toLowerCase(),GH=Hv[0].toUpperCase()+Hv.slice(1);BA($H,"on"+GH)}BA(Mk,"onAnimationEnd");BA(Hk,"onAnimationIteration");BA(Kk,"onAnimationStart");BA("dblclick","onDoubleClick");BA("focusin","onFocus");BA("focusout","onBlur");BA(Vk,"onTransitionEnd");Au("onMouseEnter",["mouseout","mouseover"]);Au("onMouseLeave",["mouseout","mouseover"]);Au("onPointerEnter",["pointerout","pointerover"]);Au("onPointerLeave",["pointerout","pointerover"]);Qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WH=new Set("cancel close invalid load scroll toggle".split(" ").concat(jf));function Lj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$8(n,t,void 0,e),e.currentTarget=null}function Gk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],A=l.instance,c=l.currentTarget;if(l=l.listener,A!==i&&a.isPropagationStopped())break e;Lj(a,l,c),i=A}else for(o=0;o<n.length;o++){if(l=n[o],A=l.instance,c=l.currentTarget,l=l.listener,A!==i&&a.isPropagationStopped())break e;Lj(a,l,c),i=A}}}if(Tp)throw e=bw,Tp=!1,bw=null,e}function Vr(e,t){var r=t[kw];r===void 0&&(r=t[kw]=new Set);var n=e+"__bubble";r.has(n)||(Wk(t,e,2,!1),r.add(n))}function Kv(e,t,r){var n=0;t&&(n|=4),Wk(r,e,n,t)}var s0="_reactListening"+Math.random().toString(36).slice(2);function xh(e){if(!e[s0]){e[s0]=!0,ek.forEach(function(r){r!=="selectionchange"&&(WH.has(r)||Kv(r,!1,e),Kv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[s0]||(t[s0]=!0,Kv("selectionchange",!1,t))}}function Wk(e,t,r,n){switch(Tk(t)){case 1:var a=oH;break;case 4:a=lH;break;default:a=Pb}r=a.bind(null,t,r,e),a=void 0,!ww||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===a||A.nodeType===8&&A.parentNode===a))return;o=o.return}for(;l!==null;){if(o=LA(l),o===null)return;if(A=o.tag,A===5||A===6){n=i=o;continue e}l=l.parentNode}}n=n.return}pk(function(){var c=i,d=Ib(r),u=[];e:{var f=$k.get(e);if(f!==void 0){var m=Rb,p=e;switch(e){case"keypress":if(sp(r)===0)break e;case"keydown":case"keyup":m=CH;break;case"focusin":p="focus",m=Pv;break;case"focusout":p="blur",m=Pv;break;case"beforeblur":case"afterblur":m=Pv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NH;break;case Mk:case Hk:case Kk:m=hH;break;case Vk:m=SH;break;case"scroll":m=AH;break;case"wheel":m=TH;break;case"copy":case"cut":case"paste":m=pH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Tj}var h=(t&4)!==0,x=!h&&e==="scroll",y=h?f!==null?f+"Capture":null:f;h=[];for(var g=c,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=uh(g,y),b!=null&&h.push(vh(g,b,w)))),x)break;g=g.return}0<h.length&&(f=new m(f,p,null,r,d),u.push({event:f,listeners:h}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==vw&&(p=r.relatedTarget||r.fromElement)&&(LA(p)||p[rl]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=c,p=p?LA(p):null,p!==null&&(x=Dc(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(h=Sj,b="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(h=Tj,b="onPointerLeave",y="onPointerEnter",g="pointer"),x=m==null?f:Cd(m),w=p==null?f:Cd(p),f=new h(b,g+"leave",m,r,d),f.target=x,f.relatedTarget=w,b=null,LA(d)===c&&(h=new h(y,g+"enter",p,r,d),h.target=w,h.relatedTarget=x,b=h),x=b,m&&p)t:{for(h=m,y=p,g=0,w=h;w;w=Xc(w))g++;for(w=0,b=y;b;b=Xc(b))w++;for(;0<g-w;)h=Xc(h),g--;for(;0<w-g;)y=Xc(y),w--;for(;g--;){if(h===y||y!==null&&h===y.alternate)break t;h=Xc(h),y=Xc(y)}h=null}else h=null;m!==null&&Mj(u,f,m,h,!1),p!==null&&x!==null&&Mj(u,x,p,h,!0)}}e:{if(f=c?Cd(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=PH;else if(Ij(f))if(Dk)C=MH;else{C=RH;var N=OH}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=LH);if(C&&(C=C(e,c))){Qk(u,C,r,d);break e}N&&N(e,f,c),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&hw(f,"number",f.value)}switch(N=c?Cd(c):window,e){case"focusin":(Ij(N)||N.contentEditable==="true")&&(wd=N,Nw=c,Vf=null);break;case"focusout":Vf=Nw=wd=null;break;case"mousedown":Ew=!0;break;case"contextmenu":case"mouseup":case"dragend":Ew=!1,Oj(u,r,d);break;case"selectionchange":if(VH)break;case"keydown":case"keyup":Oj(u,r,d)}var B;if(Mb)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else yd?Ik(e,r)&&(F="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(kk&&r.locale!=="ko"&&(yd||F!=="onCompositionStart"?F==="onCompositionEnd"&&yd&&(B=_k()):(Kl=d,Ob="value"in Kl?Kl.value:Kl.textContent,yd=!0)),N=Qp(c,F),0<N.length&&(F=new Fj(F,e,null,r,d),u.push({event:F,listeners:N}),B?F.data=B:(B=Uk(r),B!==null&&(F.data=B)))),(B=kH?IH(e,r):UH(e,r))&&(c=Qp(c,"onBeforeInput"),0<c.length&&(d=new Fj("onBeforeInput","beforeinput",null,r,d),u.push({event:d,listeners:c}),d.data=B))}Gk(u,t)})}function vh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=uh(e,r),i!=null&&n.unshift(vh(e,i,a)),i=uh(e,t),i!=null&&n.push(vh(e,i,a))),e=e.return}return n}function Xc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mj(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,A=l.alternate,c=l.stateNode;if(A!==null&&A===n)break;l.tag===5&&c!==null&&(l=c,a?(A=uh(r,i),A!=null&&o.unshift(vh(r,A,l))):a||(A=uh(r,i),A!=null&&o.push(vh(r,A,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var zH=/\r\n?/g,XH=/\u0000|\uFFFD/g;function Hj(e){return(typeof e=="string"?e:""+e).replace(zH,`
`).replace(XH,"")}function a0(e,t,r){if(t=Hj(t),Hj(e)!==t&&r)throw Error(We(425))}function Dp(){}var Sw=null,Fw=null;function Tw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _w=typeof setTimeout=="function"?setTimeout:void 0,qH=typeof clearTimeout=="function"?clearTimeout:void 0,Kj=typeof Promise=="function"?Promise:void 0,YH=typeof queueMicrotask=="function"?queueMicrotask:typeof Kj<"u"?function(e){return Kj.resolve(null).then(e).catch(JH)}:_w;function JH(e){setTimeout(function(){throw e})}function $v(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),mh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);mh(t)}function eA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ou=Math.random().toString(36).slice(2),to="__reactFiber$"+Ou,yh="__reactProps$"+Ou,rl="__reactContainer$"+Ou,kw="__reactEvents$"+Ou,ZH="__reactListeners$"+Ou,eK="__reactHandles$"+Ou;function LA(e){var t=e[to];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rl]||r[to]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vj(e);e!==null;){if(r=e[to])return r;e=Vj(e)}return t}e=r,r=e.parentNode}return null}function gm(e){return e=e[to]||e[rl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function ax(e){return e[yh]||null}var Iw=[],Bd=-1;function jA(e){return{current:e}}function $r(e){0>Bd||(e.current=Iw[Bd],Iw[Bd]=null,Bd--)}function Lr(e,t){Bd++,Iw[Bd]=e.current,e.current=t}var cA={},Bs=jA(cA),aa=jA(!1),dc=cA;function cu(e,t){var r=e.type.contextTypes;if(!r)return cA;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ia(e){return e=e.childContextTypes,e!=null}function Pp(){$r(aa),$r(Bs)}function $j(e,t,r){if(Bs.current!==cA)throw Error(We(168));Lr(Bs,t),Lr(aa,r)}function zk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(We(108,O8(e)||"Unknown",a));return sn({},r,n)}function Op(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cA,dc=Bs.current,Lr(Bs,e),Lr(aa,aa.current),!0}function Gj(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=zk(e,t,dc),n.__reactInternalMemoizedMergedChildContext=e,$r(aa),$r(Bs),Lr(Bs,e)):$r(aa),Lr(aa,r)}var Ro=null,ix=!1,Gv=!1;function Xk(e){Ro===null?Ro=[e]:Ro.push(e)}function tK(e){ix=!0,Xk(e)}function NA(){if(!Gv&&Ro!==null){Gv=!0;var e=0,t=kr;try{var r=Ro;for(kr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ro=null,ix=!1}catch(a){throw Ro!==null&&(Ro=Ro.slice(e+1)),yk(Ub,NA),a}finally{kr=t,Gv=!1}}return null}var jd=[],Nd=0,Rp=null,Lp=0,Ga=[],Wa=0,uc=null,$o=1,Go="";function UA(e,t){jd[Nd++]=Lp,jd[Nd++]=Rp,Rp=e,Lp=t}function qk(e,t,r){Ga[Wa++]=$o,Ga[Wa++]=Go,Ga[Wa++]=uc,uc=e;var n=$o;e=Go;var a=32-Ti(n)-1;n&=~(1<<a),r+=1;var i=32-Ti(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,$o=1<<32-Ti(t)+a|r<<a|n,Go=i+e}else $o=1<<i|r<<a|n,Go=e}function Kb(e){e.return!==null&&(UA(e,1),qk(e,1,0))}function Vb(e){for(;e===Rp;)Rp=jd[--Nd],jd[Nd]=null,Lp=jd[--Nd],jd[Nd]=null;for(;e===uc;)uc=Ga[--Wa],Ga[Wa]=null,Go=Ga[--Wa],Ga[Wa]=null,$o=Ga[--Wa],Ga[Wa]=null}var Fa=null,Sa=null,qr=!1,bi=null;function Yk(e,t){var r=qa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fa=e,Sa=eA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fa=e,Sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=uc!==null?{id:$o,overflow:Go}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fa=e,Sa=null,!0):!1;default:return!1}}function Uw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qw(e){if(qr){var t=Sa;if(t){var r=t;if(!Wj(e,t)){if(Uw(e))throw Error(We(418));t=eA(r.nextSibling);var n=Fa;t&&Wj(e,t)?Yk(n,r):(e.flags=e.flags&-4097|2,qr=!1,Fa=e)}}else{if(Uw(e))throw Error(We(418));e.flags=e.flags&-4097|2,qr=!1,Fa=e}}}function zj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fa=e}function i0(e){if(e!==Fa)return!1;if(!qr)return zj(e),qr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tw(e.type,e.memoizedProps)),t&&(t=Sa)){if(Uw(e))throw Jk(),Error(We(418));for(;t;)Yk(e,t),t=eA(t.nextSibling)}if(zj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sa=eA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sa=null}}else Sa=Fa?eA(e.stateNode.nextSibling):null;return!0}function Jk(){for(var e=Sa;e;)e=eA(e.nextSibling)}function du(){Sa=Fa=null,qr=!1}function $b(e){bi===null?bi=[e]:bi.push(e)}var rK=fl.ReactCurrentBatchConfig;function lf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function o0(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xj(e){var t=e._init;return t(e._payload)}function Zk(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=sA(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,w,b){return g===null||g.tag!==6?(g=Zv(w,y.mode,b),g.return=y,g):(g=a(g,w),g.return=y,g)}function A(y,g,w,b){var C=w.type;return C===vd?d(y,g,w.props.children,b,w.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===El&&Xj(C)===g.type)?(b=a(g,w.props),b.ref=lf(y,g,w),b.return=y,b):(b=dp(w.type,w.key,w.props,null,y.mode,b),b.ref=lf(y,g,w),b.return=y,b)}function c(y,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=ey(w,y.mode,b),g.return=y,g):(g=a(g,w.children||[]),g.return=y,g)}function d(y,g,w,b,C){return g===null||g.tag!==7?(g=nc(w,y.mode,b,C),g.return=y,g):(g=a(g,w),g.return=y,g)}function u(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zv(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qm:return w=dp(g.type,g.key,g.props,null,y.mode,w),w.ref=lf(y,null,g),w.return=y,w;case xd:return g=ey(g,y.mode,w),g.return=y,g;case El:var b=g._init;return u(y,b(g._payload),w)}if(Cf(g)||rf(g))return g=nc(g,y.mode,w,null),g.return=y,g;o0(y,g)}return null}function f(y,g,w,b){var C=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(y,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qm:return w.key===C?A(y,g,w,b):null;case xd:return w.key===C?c(y,g,w,b):null;case El:return C=w._init,f(y,g,C(w._payload),b)}if(Cf(w)||rf(w))return C!==null?null:d(y,g,w,b,null);o0(y,w)}return null}function m(y,g,w,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(g,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qm:return y=y.get(b.key===null?w:b.key)||null,A(g,y,b,C);case xd:return y=y.get(b.key===null?w:b.key)||null,c(g,y,b,C);case El:var N=b._init;return m(y,g,w,N(b._payload),C)}if(Cf(b)||rf(b))return y=y.get(w)||null,d(g,y,b,C,null);o0(g,b)}return null}function p(y,g,w,b){for(var C=null,N=null,B=g,F=g=0,E=null;B!==null&&F<w.length;F++){B.index>F?(E=B,B=null):E=B.sibling;var U=f(y,B,w[F],b);if(U===null){B===null&&(B=E);break}e&&B&&U.alternate===null&&t(y,B),g=i(U,g,F),N===null?C=U:N.sibling=U,N=U,B=E}if(F===w.length)return r(y,B),qr&&UA(y,F),C;if(B===null){for(;F<w.length;F++)B=u(y,w[F],b),B!==null&&(g=i(B,g,F),N===null?C=B:N.sibling=B,N=B);return qr&&UA(y,F),C}for(B=n(y,B);F<w.length;F++)E=m(B,y,F,w[F],b),E!==null&&(e&&E.alternate!==null&&B.delete(E.key===null?F:E.key),g=i(E,g,F),N===null?C=E:N.sibling=E,N=E);return e&&B.forEach(function(P){return t(y,P)}),qr&&UA(y,F),C}function h(y,g,w,b){var C=rf(w);if(typeof C!="function")throw Error(We(150));if(w=C.call(w),w==null)throw Error(We(151));for(var N=C=null,B=g,F=g=0,E=null,U=w.next();B!==null&&!U.done;F++,U=w.next()){B.index>F?(E=B,B=null):E=B.sibling;var P=f(y,B,U.value,b);if(P===null){B===null&&(B=E);break}e&&B&&P.alternate===null&&t(y,B),g=i(P,g,F),N===null?C=P:N.sibling=P,N=P,B=E}if(U.done)return r(y,B),qr&&UA(y,F),C;if(B===null){for(;!U.done;F++,U=w.next())U=u(y,U.value,b),U!==null&&(g=i(U,g,F),N===null?C=U:N.sibling=U,N=U);return qr&&UA(y,F),C}for(B=n(y,B);!U.done;F++,U=w.next())U=m(B,y,F,U.value,b),U!==null&&(e&&U.alternate!==null&&B.delete(U.key===null?F:U.key),g=i(U,g,F),N===null?C=U:N.sibling=U,N=U);return e&&B.forEach(function(O){return t(y,O)}),qr&&UA(y,F),C}function x(y,g,w,b){if(typeof w=="object"&&w!==null&&w.type===vd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qm:e:{for(var C=w.key,N=g;N!==null;){if(N.key===C){if(C=w.type,C===vd){if(N.tag===7){r(y,N.sibling),g=a(N,w.props.children),g.return=y,y=g;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===El&&Xj(C)===N.type){r(y,N.sibling),g=a(N,w.props),g.ref=lf(y,N,w),g.return=y,y=g;break e}r(y,N);break}else t(y,N);N=N.sibling}w.type===vd?(g=nc(w.props.children,y.mode,b,w.key),g.return=y,y=g):(b=dp(w.type,w.key,w.props,null,y.mode,b),b.ref=lf(y,g,w),b.return=y,y=b)}return o(y);case xd:e:{for(N=w.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(y,g.sibling),g=a(g,w.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=ey(w,y.mode,b),g.return=y,y=g}return o(y);case El:return N=w._init,x(y,g,N(w._payload),b)}if(Cf(w))return p(y,g,w,b);if(rf(w))return h(y,g,w,b);o0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,w),g.return=y,y=g):(r(y,g),g=Zv(w,y.mode,b),g.return=y,y=g),o(y)):r(y,g)}return x}var uu=Zk(!0),eI=Zk(!1),Mp=jA(null),Hp=null,Ed=null,Gb=null;function Wb(){Gb=Ed=Hp=null}function zb(e){var t=Mp.current;$r(Mp),e._currentValue=t}function Dw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pd(e,t){Hp=e,Gb=Ed=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ra=!0),e.firstContext=null)}function ai(e){var t=e._currentValue;if(Gb!==e)if(e={context:e,memoizedValue:t,next:null},Ed===null){if(Hp===null)throw Error(We(308));Ed=e,Hp.dependencies={lanes:0,firstContext:e}}else Ed=Ed.next=e;return t}var MA=null;function Xb(e){MA===null?MA=[e]:MA.push(e)}function tI(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Xb(t)):(r.next=a.next,a.next=r),t.interleaved=r,nl(e,n)}function nl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Sl=!1;function qb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tA(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,nl(e,r)}return a=n.interleaved,a===null?(t.next=t,Xb(n)):(t.next=a.next,a.next=t),n.interleaved=t,nl(e,r)}function ap(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qb(e,r)}}function qj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kp(e,t,r,n){var a=e.updateQueue;Sl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var A=l,c=A.next;A.next=null,o===null?i=c:o.next=c,o=A;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=A))}if(i!==null){var u=a.baseState;o=0,d=c=A=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,h=l;switch(f=t,m=r,h.tag){case 1:if(p=h.payload,typeof p=="function"){u=p.call(m,u,f);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=h.payload,f=typeof p=="function"?p.call(m,u,f):p,f==null)break e;u=sn({},u,f);break e;case 2:Sl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,A=u):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(A=u),a.baseState=A,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);hc|=o,e.lanes=o,e.memoizedState=u}}function Yj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(We(191,a));a.call(n)}}}var xm={},lo=jA(xm),wh=jA(xm),bh=jA(xm);function HA(e){if(e===xm)throw Error(We(174));return e}function Yb(e,t){switch(Lr(bh,t),Lr(wh,e),Lr(lo,xm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pw(t,e)}$r(lo),Lr(lo,t)}function fu(){$r(lo),$r(wh),$r(bh)}function nI(e){HA(bh.current);var t=HA(lo.current),r=pw(t,e.type);t!==r&&(Lr(wh,e),Lr(lo,r))}function Jb(e){wh.current===e&&($r(lo),$r(wh))}var rn=jA(0);function Vp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wv=[];function Zb(){for(var e=0;e<Wv.length;e++)Wv[e]._workInProgressVersionPrimary=null;Wv.length=0}var ip=fl.ReactCurrentDispatcher,zv=fl.ReactCurrentBatchConfig,fc=0,nn=null,kn=null,Hn=null,$p=!1,$f=!1,Ch=0,nK=0;function ms(){throw Error(We(321))}function eC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ui(e[r],t[r]))return!1;return!0}function tC(e,t,r,n,a,i){if(fc=i,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ip.current=e===null||e.memoizedState===null?oK:lK,e=r(n,a),$f){i=0;do{if($f=!1,Ch=0,25<=i)throw Error(We(301));i+=1,Hn=kn=null,t.updateQueue=null,ip.current=AK,e=r(n,a)}while($f)}if(ip.current=Gp,t=kn!==null&&kn.next!==null,fc=0,Hn=kn=nn=null,$p=!1,t)throw Error(We(300));return e}function rC(){var e=Ch!==0;return Ch=0,e}function Yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?nn.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function ii(){if(kn===null){var e=nn.alternate;e=e!==null?e.memoizedState:null}else e=kn.next;var t=Hn===null?nn.memoizedState:Hn.next;if(t!==null)Hn=t,kn=e;else{if(e===null)throw Error(We(310));kn=e,e={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Hn===null?nn.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}function Bh(e,t){return typeof t=="function"?t(e):t}function Xv(e){var t=ii(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=kn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,A=null,c=i;do{var d=c.lane;if((fc&d)===d)A!==null&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};A===null?(l=A=u,o=n):A=A.next=u,nn.lanes|=d,hc|=d}c=c.next}while(c!==null&&c!==i);A===null?o=n:A.next=l,Ui(n,t.memoizedState)||(ra=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=A,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,nn.lanes|=i,hc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qv(e){var t=ii(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ui(i,t.memoizedState)||(ra=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function sI(){}function aI(e,t){var r=nn,n=ii(),a=t(),i=!Ui(n.memoizedState,a);if(i&&(n.memoizedState=a,ra=!0),n=n.queue,nC(lI.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,jh(9,oI.bind(null,r,n,a,t),void 0,null),Gn===null)throw Error(We(349));fc&30||iI(r,t,a)}return a}function iI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function oI(e,t,r,n){t.value=r,t.getSnapshot=n,AI(t)&&cI(e)}function lI(e,t,r){return r(function(){AI(t)&&cI(e)})}function AI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ui(e,r)}catch{return!0}}function cI(e){var t=nl(e,1);t!==null&&_i(t,e,1,-1)}function Jj(e){var t=Yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bh,lastRenderedState:e},t.queue=e,e=e.dispatch=iK.bind(null,nn,e),[t.memoizedState,e]}function jh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dI(){return ii().memoizedState}function op(e,t,r,n){var a=Yi();nn.flags|=e,a.memoizedState=jh(1|t,r,void 0,n===void 0?null:n)}function ox(e,t,r,n){var a=ii();n=n===void 0?null:n;var i=void 0;if(kn!==null){var o=kn.memoizedState;if(i=o.destroy,n!==null&&eC(n,o.deps)){a.memoizedState=jh(t,r,i,n);return}}nn.flags|=e,a.memoizedState=jh(1|t,r,i,n)}function Zj(e,t){return op(8390656,8,e,t)}function nC(e,t){return ox(2048,8,e,t)}function uI(e,t){return ox(4,2,e,t)}function fI(e,t){return ox(4,4,e,t)}function hI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mI(e,t,r){return r=r!=null?r.concat([e]):null,ox(4,4,hI.bind(null,t,e),r)}function sC(){}function pI(e,t){var r=ii();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gI(e,t){var r=ii();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xI(e,t,r){return fc&21?(Ui(r,t)||(r=Ck(),nn.lanes|=r,hc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ra=!0),e.memoizedState=r)}function sK(e,t){var r=kr;kr=r!==0&&4>r?r:4,e(!0);var n=zv.transition;zv.transition={};try{e(!1),t()}finally{kr=r,zv.transition=n}}function vI(){return ii().memoizedState}function aK(e,t,r){var n=nA(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yI(e))wI(t,r);else if(r=tI(e,t,r,n),r!==null){var a=Rs();_i(r,e,n,a),bI(r,t,n)}}function iK(e,t,r){var n=nA(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yI(e))wI(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ui(l,o)){var A=t.interleaved;A===null?(a.next=a,Xb(t)):(a.next=A.next,A.next=a),t.interleaved=a;return}}catch{}finally{}r=tI(e,t,a,n),r!==null&&(a=Rs(),_i(r,e,n,a),bI(r,t,n))}}function yI(e){var t=e.alternate;return e===nn||t!==null&&t===nn}function wI(e,t){$f=$p=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qb(e,r)}}var Gp={readContext:ai,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},oK={readContext:ai,useCallback:function(e,t){return Yi().memoizedState=[e,t===void 0?null:t],e},useContext:ai,useEffect:Zj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,op(4194308,4,hI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return op(4194308,4,e,t)},useInsertionEffect:function(e,t){return op(4,2,e,t)},useMemo:function(e,t){var r=Yi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=aK.bind(null,nn,e),[n.memoizedState,e]},useRef:function(e){var t=Yi();return e={current:e},t.memoizedState=e},useState:Jj,useDebugValue:sC,useDeferredValue:function(e){return Yi().memoizedState=e},useTransition:function(){var e=Jj(!1),t=e[0];return e=sK.bind(null,e[1]),Yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nn,a=Yi();if(qr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),Gn===null)throw Error(We(349));fc&30||iI(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Zj(lI.bind(null,n,i,e),[e]),n.flags|=2048,jh(9,oI.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Yi(),t=Gn.identifierPrefix;if(qr){var r=Go,n=$o;r=(n&~(1<<32-Ti(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ch++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nK++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lK={readContext:ai,useCallback:pI,useContext:ai,useEffect:nC,useImperativeHandle:mI,useInsertionEffect:uI,useLayoutEffect:fI,useMemo:gI,useReducer:Xv,useRef:dI,useState:function(){return Xv(Bh)},useDebugValue:sC,useDeferredValue:function(e){var t=ii();return xI(t,kn.memoizedState,e)},useTransition:function(){var e=Xv(Bh)[0],t=ii().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:aI,useId:vI,unstable_isNewReconciler:!1},AK={readContext:ai,useCallback:pI,useContext:ai,useEffect:nC,useImperativeHandle:mI,useInsertionEffect:uI,useLayoutEffect:fI,useMemo:gI,useReducer:qv,useRef:dI,useState:function(){return qv(Bh)},useDebugValue:sC,useDeferredValue:function(e){var t=ii();return kn===null?t.memoizedState=e:xI(t,kn.memoizedState,e)},useTransition:function(){var e=qv(Bh)[0],t=ii().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:aI,useId:vI,unstable_isNewReconciler:!1};function xi(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:sn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lx={isMounted:function(e){return(e=e._reactInternals)?Dc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rs(),a=nA(e),i=Wo(n,a);i.payload=t,r!=null&&(i.callback=r),t=tA(e,i,a),t!==null&&(_i(t,e,a,n),ap(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rs(),a=nA(e),i=Wo(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tA(e,i,a),t!==null&&(_i(t,e,a,n),ap(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rs(),n=nA(e),a=Wo(r,n);a.tag=2,t!=null&&(a.callback=t),t=tA(e,a,n),t!==null&&(_i(t,e,n,r),ap(t,e,n))}};function eN(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gh(r,n)||!gh(a,i):!0}function CI(e,t,r){var n=!1,a=cA,i=t.contextType;return typeof i=="object"&&i!==null?i=ai(i):(a=ia(t)?dc:Bs.current,n=t.contextTypes,i=(n=n!=null)?cu(e,a):cA),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function tN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lx.enqueueReplaceState(t,t.state,null)}function Ow(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qb(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ai(i):(i=ia(t)?dc:Bs.current,a.context=cu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pw(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&lx.enqueueReplaceState(a,a.state,null),Kp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function hu(e,t){try{var r="",n=t;do r+=P8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Yv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cK=typeof WeakMap=="function"?WeakMap:Map;function BI(e,t,r){r=Wo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zp||(zp=!0,Xw=n),Rw(e,t)},r}function jI(e,t,r){r=Wo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Rw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Rw(e,t),typeof n!="function"&&(rA===null?rA=new Set([this]):rA.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function rN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cK;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=BK.bind(null,e,t,r),t.then(e,e))}function nN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sN(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wo(-1,1),t.tag=2,tA(r,t,1))),r.lanes|=1),e)}var dK=fl.ReactCurrentOwner,ra=!1;function ks(e,t,r,n){t.child=e===null?eI(t,null,r,n):uu(t,e.child,r,n)}function aN(e,t,r,n,a){r=r.render;var i=t.ref;return Pd(t,a),n=tC(e,t,r,n,i,a),r=rC(),e!==null&&!ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,sl(e,t,a)):(qr&&r&&Kb(t),t.flags|=1,ks(e,t,n,a),t.child)}function iN(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!uC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,NI(e,t,i,n,a)):(e=dp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gh,r(o,n)&&e.ref===t.ref)return sl(e,t,a)}return t.flags|=1,e=sA(i,n),e.ref=t.ref,e.return=t,t.child=e}function NI(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(gh(i,n)&&e.ref===t.ref)if(ra=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ra=!0);else return t.lanes=e.lanes,sl(e,t,a)}return Lw(e,t,r,n,a)}function EI(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lr(Fd,wa),wa|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Lr(Fd,wa),wa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Lr(Fd,wa),wa|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Lr(Fd,wa),wa|=n;return ks(e,t,a,r),t.child}function SI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lw(e,t,r,n,a){var i=ia(r)?dc:Bs.current;return i=cu(t,i),Pd(t,a),r=tC(e,t,r,n,i,a),n=rC(),e!==null&&!ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,sl(e,t,a)):(qr&&n&&Kb(t),t.flags|=1,ks(e,t,r,a),t.child)}function oN(e,t,r,n,a){if(ia(r)){var i=!0;Op(t)}else i=!1;if(Pd(t,a),t.stateNode===null)lp(e,t),CI(t,r,n),Ow(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var A=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ai(c):(c=ia(r)?dc:Bs.current,c=cu(t,c));var d=r.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||A!==c)&&tN(t,o,n,c),Sl=!1;var f=t.memoizedState;o.state=f,Kp(t,n,o,a),A=t.memoizedState,l!==n||f!==A||aa.current||Sl?(typeof d=="function"&&(Pw(t,r,d,n),A=t.memoizedState),(l=Sl||eN(t,r,l,n,f,A,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),o.props=n,o.state=A,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,rI(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:xi(t.type,l),o.props=c,u=t.pendingProps,f=o.context,A=r.contextType,typeof A=="object"&&A!==null?A=ai(A):(A=ia(r)?dc:Bs.current,A=cu(t,A));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==A)&&tN(t,o,n,A),Sl=!1,f=t.memoizedState,o.state=f,Kp(t,n,o,a);var p=t.memoizedState;l!==u||f!==p||aa.current||Sl?(typeof m=="function"&&(Pw(t,r,m,n),p=t.memoizedState),(c=Sl||eN(t,r,c,n,f,p,A)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,A)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=A,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Mw(e,t,r,n,i,a)}function Mw(e,t,r,n,a,i){SI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Gj(t,r,!1),sl(e,t,i);n=t.stateNode,dK.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=uu(t,e.child,null,i),t.child=uu(t,null,l,i)):ks(e,t,l,i),t.memoizedState=n.state,a&&Gj(t,r,!0),t.child}function FI(e){var t=e.stateNode;t.pendingContext?$j(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$j(e,t.context,!1),Yb(e,t.containerInfo)}function lN(e,t,r,n,a){return du(),$b(a),t.flags|=256,ks(e,t,r,n),t.child}var Hw={dehydrated:null,treeContext:null,retryLane:0};function Kw(e){return{baseLanes:e,cachePool:null,transitions:null}}function TI(e,t,r){var n=t.pendingProps,a=rn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Lr(rn,a&1),e===null)return Qw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dx(o,n,0,null),e=nc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Kw(r),t.memoizedState=Hw,e):aC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return uK(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var A={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=A,t.deletions=null):(n=sA(a,A),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=sA(l,i):(i=nc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Kw(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Hw,n}return i=e.child,e=i.sibling,n=sA(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function aC(e,t){return t=dx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function l0(e,t,r,n){return n!==null&&$b(n),uu(t,e.child,null,r),e=aC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uK(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Yv(Error(We(422))),l0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=dx({mode:"visible",children:n.children},a,0,null),i=nc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&uu(t,e.child,null,o),t.child.memoizedState=Kw(o),t.memoizedState=Hw,i);if(!(t.mode&1))return l0(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(We(419)),n=Yv(i,n,void 0),l0(e,t,o,n)}if(l=(o&e.childLanes)!==0,ra||l){if(n=Gn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,nl(e,a),_i(n,e,a,-1))}return dC(),n=Yv(Error(We(421))),l0(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=jK.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Sa=eA(a.nextSibling),Fa=t,qr=!0,bi=null,e!==null&&(Ga[Wa++]=$o,Ga[Wa++]=Go,Ga[Wa++]=uc,$o=e.id,Go=e.overflow,uc=t),t=aC(t,n.children),t.flags|=4096,t)}function AN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dw(e.return,t,r)}function Jv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function _I(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ks(e,t,n.children,r),n=rn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AN(e,r,t);else if(e.tag===19)AN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Lr(rn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Vp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Jv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Jv(t,!0,r,null,i);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=sA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fK(e,t,r){switch(t.tag){case 3:FI(t),du();break;case 5:nI(t);break;case 1:ia(t.type)&&Op(t);break;case 4:Yb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Lr(Mp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Lr(rn,rn.current&1),t.flags|=128,null):r&t.child.childLanes?TI(e,t,r):(Lr(rn,rn.current&1),e=sl(e,t,r),e!==null?e.sibling:null);Lr(rn,rn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _I(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Lr(rn,rn.current),n)break;return null;case 22:case 23:return t.lanes=0,EI(e,t,r)}return sl(e,t,r)}var kI,Vw,II,UI;kI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vw=function(){};II=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,HA(lo.current);var i=null;switch(r){case"input":a=uw(e,a),n=uw(e,n),i=[];break;case"select":a=sn({},a,{value:void 0}),n=sn({},n,{value:void 0}),i=[];break;case"textarea":a=mw(e,a),n=mw(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dp)}gw(r,n);var o;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ch.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var A=n[c];if(l=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&A!==l&&(A!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in A)A.hasOwnProperty(o)&&l[o]!==A[o]&&(r||(r={}),r[o]=A[o])}else r||(i||(i=[]),i.push(c,r)),r=A;else c==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,l=l?l.__html:void 0,A!=null&&l!==A&&(i=i||[]).push(c,A)):c==="children"?typeof A!="string"&&typeof A!="number"||(i=i||[]).push(c,""+A):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ch.hasOwnProperty(c)?(A!=null&&c==="onScroll"&&Vr("scroll",e),i||l===A||(i=[])):(i=i||[]).push(c,A))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};UI=function(e,t,r,n){r!==n&&(t.flags|=4)};function Af(e,t){if(!qr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ps(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hK(e,t,r){var n=t.pendingProps;switch(Vb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(t),null;case 1:return ia(t.type)&&Pp(),ps(t),null;case 3:return n=t.stateNode,fu(),$r(aa),$r(Bs),Zb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(i0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bi!==null&&(Jw(bi),bi=null))),Vw(e,t),ps(t),null;case 5:Jb(t);var a=HA(bh.current);if(r=t.type,e!==null&&t.stateNode!=null)II(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return ps(t),null}if(e=HA(lo.current),i0(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[to]=t,n[yh]=i,e=(t.mode&1)!==0,r){case"dialog":Vr("cancel",n),Vr("close",n);break;case"iframe":case"object":case"embed":Vr("load",n);break;case"video":case"audio":for(a=0;a<jf.length;a++)Vr(jf[a],n);break;case"source":Vr("error",n);break;case"img":case"image":case"link":Vr("error",n),Vr("load",n);break;case"details":Vr("toggle",n);break;case"input":xj(n,i),Vr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Vr("invalid",n);break;case"textarea":yj(n,i),Vr("invalid",n)}gw(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&a0(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&a0(n.textContent,l,e),a=["children",""+l]):ch.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Vr("scroll",n)}switch(r){case"input":Ym(n),vj(n,i,!0);break;case"textarea":Ym(n),wj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Dp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[to]=t,e[yh]=n,kI(e,t,!1,!1),t.stateNode=e;e:{switch(o=xw(r,n),r){case"dialog":Vr("cancel",e),Vr("close",e),a=n;break;case"iframe":case"object":case"embed":Vr("load",e),a=n;break;case"video":case"audio":for(a=0;a<jf.length;a++)Vr(jf[a],e);a=n;break;case"source":Vr("error",e),a=n;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),a=n;break;case"details":Vr("toggle",e),a=n;break;case"input":xj(e,n),a=uw(e,n),Vr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=sn({},n,{value:void 0}),Vr("invalid",e);break;case"textarea":yj(e,n),a=mw(e,n),Vr("invalid",e);break;default:a=n}gw(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var A=l[i];i==="style"?dk(e,A):i==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Ak(e,A)):i==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&dh(e,A):typeof A=="number"&&dh(e,""+A):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ch.hasOwnProperty(i)?A!=null&&i==="onScroll"&&Vr("scroll",e):A!=null&&Fb(e,i,A,o))}switch(r){case"input":Ym(e),vj(e,n,!1);break;case"textarea":Ym(e),wj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+AA(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Id(e,!!n.multiple,i,!1):n.defaultValue!=null&&Id(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Dp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ps(t),null;case 6:if(e&&t.stateNode!=null)UI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=HA(bh.current),HA(lo.current),i0(t)){if(n=t.stateNode,r=t.memoizedProps,n[to]=t,(i=n.nodeValue!==r)&&(e=Fa,e!==null))switch(e.tag){case 3:a0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&a0(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[to]=t,t.stateNode=n}return ps(t),null;case 13:if($r(rn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qr&&Sa!==null&&t.mode&1&&!(t.flags&128))Jk(),du(),t.flags|=98560,i=!1;else if(i=i0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(We(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(We(317));i[to]=t}else du(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ps(t),i=!1}else bi!==null&&(Jw(bi),bi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?Dn===0&&(Dn=3):dC())),t.updateQueue!==null&&(t.flags|=4),ps(t),null);case 4:return fu(),Vw(e,t),e===null&&xh(t.stateNode.containerInfo),ps(t),null;case 10:return zb(t.type._context),ps(t),null;case 17:return ia(t.type)&&Pp(),ps(t),null;case 19:if($r(rn),i=t.memoizedState,i===null)return ps(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Af(i,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vp(e),o!==null){for(t.flags|=128,Af(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Lr(rn,rn.current&1|2),t.child}e=e.sibling}i.tail!==null&&yn()>mu&&(t.flags|=128,n=!0,Af(i,!1),t.lanes=4194304)}else{if(!n)if(e=Vp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Af(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qr)return ps(t),null}else 2*yn()-i.renderingStartTime>mu&&r!==1073741824&&(t.flags|=128,n=!0,Af(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=yn(),t.sibling=null,r=rn.current,Lr(rn,n?r&1|2:r&1),t):(ps(t),null);case 22:case 23:return cC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wa&1073741824&&(ps(t),t.subtreeFlags&6&&(t.flags|=8192)):ps(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function mK(e,t){switch(Vb(t),t.tag){case 1:return ia(t.type)&&Pp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fu(),$r(aa),$r(Bs),Zb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jb(t),null;case 13:if($r(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));du()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $r(rn),null;case 4:return fu(),null;case 10:return zb(t.type._context),null;case 22:case 23:return cC(),null;case 24:return null;default:return null}}var A0=!1,vs=!1,pK=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Sd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){on(e,t,n)}else r.current=null}function $w(e,t,r){try{r()}catch(n){on(e,t,n)}}var cN=!1;function gK(e,t){if(Sw=Ip,e=Rk(),Hb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,A=-1,c=0,d=0,u=e,f=null;t:for(;;){for(var m;u!==r||a!==0&&u.nodeType!==3||(l=o+a),u!==i||n!==0&&u.nodeType!==3||(A=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(m=u.firstChild)!==null;)f=u,u=m;for(;;){if(u===e)break t;if(f===r&&++c===a&&(l=o),f===i&&++d===n&&(A=o),(m=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=m}r=l===-1||A===-1?null:{start:l,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fw={focusedElem:e,selectionRange:r},Ip=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){t=Bt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var h=p.memoizedProps,x=p.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?h:xi(t.type,h),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(b){on(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}return p=cN,cN=!1,p}function Gf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&$w(t,r,i)}a=a.next}while(a!==n)}}function Ax(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function QI(e){var t=e.alternate;t!==null&&(e.alternate=null,QI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[to],delete t[yh],delete t[kw],delete t[ZH],delete t[eK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DI(e){return e.tag===5||e.tag===3||e.tag===4}function dN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ww(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Dp));else if(n!==4&&(e=e.child,e!==null))for(Ww(e,t,r),e=e.sibling;e!==null;)Ww(e,t,r),e=e.sibling}function zw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zw(e,t,r),e=e.sibling;e!==null;)zw(e,t,r),e=e.sibling}var Yn=null,wi=!1;function gl(e,t,r){for(r=r.child;r!==null;)PI(e,t,r),r=r.sibling}function PI(e,t,r){if(oo&&typeof oo.onCommitFiberUnmount=="function")try{oo.onCommitFiberUnmount(tx,r)}catch{}switch(r.tag){case 5:vs||Sd(r,t);case 6:var n=Yn,a=wi;Yn=null,gl(e,t,r),Yn=n,wi=a,Yn!==null&&(wi?(e=Yn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yn.removeChild(r.stateNode));break;case 18:Yn!==null&&(wi?(e=Yn,r=r.stateNode,e.nodeType===8?$v(e.parentNode,r):e.nodeType===1&&$v(e,r),mh(e)):$v(Yn,r.stateNode));break;case 4:n=Yn,a=wi,Yn=r.stateNode.containerInfo,wi=!0,gl(e,t,r),Yn=n,wi=a;break;case 0:case 11:case 14:case 15:if(!vs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$w(r,t,o),a=a.next}while(a!==n)}gl(e,t,r);break;case 1:if(!vs&&(Sd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){on(r,t,l)}gl(e,t,r);break;case 21:gl(e,t,r);break;case 22:r.mode&1?(vs=(n=vs)||r.memoizedState!==null,gl(e,t,r),vs=n):gl(e,t,r);break;default:gl(e,t,r)}}function uN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pK),t.forEach(function(n){var a=NK.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,wi=!1;break e;case 3:Yn=l.stateNode.containerInfo,wi=!0;break e;case 4:Yn=l.stateNode.containerInfo,wi=!0;break e}l=l.return}if(Yn===null)throw Error(We(160));PI(i,o,a),Yn=null,wi=!1;var A=a.alternate;A!==null&&(A.return=null),a.return=null}catch(c){on(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OI(t,e),t=t.sibling}function OI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fi(t,e),Wi(e),n&4){try{Gf(3,e,e.return),Ax(3,e)}catch(h){on(e,e.return,h)}try{Gf(5,e,e.return)}catch(h){on(e,e.return,h)}}break;case 1:fi(t,e),Wi(e),n&512&&r!==null&&Sd(r,r.return);break;case 5:if(fi(t,e),Wi(e),n&512&&r!==null&&Sd(r,r.return),e.flags&32){var a=e.stateNode;try{dh(a,"")}catch(h){on(e,e.return,h)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ik(a,i),xw(l,o);var c=xw(l,i);for(o=0;o<A.length;o+=2){var d=A[o],u=A[o+1];d==="style"?dk(a,u):d==="dangerouslySetInnerHTML"?Ak(a,u):d==="children"?dh(a,u):Fb(a,d,u,c)}switch(l){case"input":fw(a,i);break;case"textarea":ok(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Id(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Id(a,!!i.multiple,i.defaultValue,!0):Id(a,!!i.multiple,i.multiple?[]:"",!1))}a[yh]=i}catch(h){on(e,e.return,h)}}break;case 6:if(fi(t,e),Wi(e),n&4){if(e.stateNode===null)throw Error(We(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(h){on(e,e.return,h)}}break;case 3:if(fi(t,e),Wi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(h){on(e,e.return,h)}break;case 4:fi(t,e),Wi(e);break;case 13:fi(t,e),Wi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(lC=yn())),n&4&&uN(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vs=(c=vs)||d,fi(t,e),vs=c):fi(t,e),Wi(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Bt=e,d=e.child;d!==null;){for(u=Bt=d;Bt!==null;){switch(f=Bt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Gf(4,f,f.return);break;case 1:Sd(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(h){on(n,r,h)}}break;case 5:Sd(f,f.return);break;case 22:if(f.memoizedState!==null){hN(u);continue}}m!==null?(m.return=f,Bt=m):hN(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{a=u.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,A=u.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,l.style.display=ck("display",o))}catch(h){on(e,e.return,h)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(h){on(e,e.return,h)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:fi(t,e),Wi(e),n&4&&uN(e);break;case 21:break;default:fi(t,e),Wi(e)}}function Wi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(DI(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(dh(a,""),n.flags&=-33);var i=dN(e);zw(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=dN(e);Ww(e,l,o);break;default:throw Error(We(161))}}catch(A){on(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xK(e,t,r){Bt=e,RI(e)}function RI(e,t,r){for(var n=(e.mode&1)!==0;Bt!==null;){var a=Bt,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||A0;if(!o){var l=a.alternate,A=l!==null&&l.memoizedState!==null||vs;l=A0;var c=vs;if(A0=o,(vs=A)&&!c)for(Bt=a;Bt!==null;)o=Bt,A=o.child,o.tag===22&&o.memoizedState!==null?mN(a):A!==null?(A.return=o,Bt=A):mN(a);for(;i!==null;)Bt=i,RI(i),i=i.sibling;Bt=a,A0=l,vs=c}fN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Bt=i):fN(e)}}function fN(e){for(;Bt!==null;){var t=Bt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vs||Ax(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vs)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:xi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Yj(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yj(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&mh(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}vs||t.flags&512&&Gw(t)}catch(f){on(t,t.return,f)}}if(t===e){Bt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Bt=r;break}Bt=t.return}}function hN(e){for(;Bt!==null;){var t=Bt;if(t===e){Bt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Bt=r;break}Bt=t.return}}function mN(e){for(;Bt!==null;){var t=Bt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ax(4,t)}catch(A){on(t,r,A)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(A){on(t,a,A)}}var i=t.return;try{Gw(t)}catch(A){on(t,i,A)}break;case 5:var o=t.return;try{Gw(t)}catch(A){on(t,o,A)}}}catch(A){on(t,t.return,A)}if(t===e){Bt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Bt=l;break}Bt=t.return}}var vK=Math.ceil,Wp=fl.ReactCurrentDispatcher,iC=fl.ReactCurrentOwner,Za=fl.ReactCurrentBatchConfig,xr=0,Gn=null,Nn=null,ls=0,wa=0,Fd=jA(0),Dn=0,Nh=null,hc=0,cx=0,oC=0,Wf=null,Zs=null,lC=0,mu=1/0,Oo=null,zp=!1,Xw=null,rA=null,c0=!1,Vl=null,Xp=0,zf=0,qw=null,Ap=-1,cp=0;function Rs(){return xr&6?yn():Ap!==-1?Ap:Ap=yn()}function nA(e){return e.mode&1?xr&2&&ls!==0?ls&-ls:rK.transition!==null?(cp===0&&(cp=Ck()),cp):(e=kr,e!==0||(e=window.event,e=e===void 0?16:Tk(e.type)),e):1}function _i(e,t,r,n){if(50<zf)throw zf=0,qw=null,Error(We(185));mm(e,r,n),(!(xr&2)||e!==Gn)&&(e===Gn&&(!(xr&2)&&(cx|=r),Dn===4&&kl(e,ls)),oa(e,n),r===1&&xr===0&&!(t.mode&1)&&(mu=yn()+500,ix&&NA()))}function oa(e,t){var r=e.callbackNode;rH(e,t);var n=kp(e,e===Gn?ls:0);if(n===0)r!==null&&Bj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Bj(r),t===1)e.tag===0?tK(pN.bind(null,e)):Xk(pN.bind(null,e)),YH(function(){!(xr&6)&&NA()}),r=null;else{switch(Bk(n)){case 1:r=Ub;break;case 4:r=wk;break;case 16:r=_p;break;case 536870912:r=bk;break;default:r=_p}r=WI(r,LI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function LI(e,t){if(Ap=-1,cp=0,xr&6)throw Error(We(327));var r=e.callbackNode;if(Od()&&e.callbackNode!==r)return null;var n=kp(e,e===Gn?ls:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qp(e,n);else{t=n;var a=xr;xr|=2;var i=HI();(Gn!==e||ls!==t)&&(Oo=null,mu=yn()+500,rc(e,t));do try{bK();break}catch(l){MI(e,l)}while(!0);Wb(),Wp.current=i,xr=a,Nn!==null?t=0:(Gn=null,ls=0,t=Dn)}if(t!==0){if(t===2&&(a=Cw(e),a!==0&&(n=a,t=Yw(e,a))),t===1)throw r=Nh,rc(e,0),kl(e,n),oa(e,yn()),r;if(t===6)kl(e,n);else{if(a=e.current.alternate,!(n&30)&&!yK(a)&&(t=qp(e,n),t===2&&(i=Cw(e),i!==0&&(n=i,t=Yw(e,i))),t===1))throw r=Nh,rc(e,0),kl(e,n),oa(e,yn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:QA(e,Zs,Oo);break;case 3:if(kl(e,n),(n&130023424)===n&&(t=lC+500-yn(),10<t)){if(kp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Rs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_w(QA.bind(null,e,Zs,Oo),t);break}QA(e,Zs,Oo);break;case 4:if(kl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ti(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=yn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vK(n/1960))-n,10<n){e.timeoutHandle=_w(QA.bind(null,e,Zs,Oo),n);break}QA(e,Zs,Oo);break;case 5:QA(e,Zs,Oo);break;default:throw Error(We(329))}}}return oa(e,yn()),e.callbackNode===r?LI.bind(null,e):null}function Yw(e,t){var r=Wf;return e.current.memoizedState.isDehydrated&&(rc(e,t).flags|=256),e=qp(e,t),e!==2&&(t=Zs,Zs=r,t!==null&&Jw(t)),e}function Jw(e){Zs===null?Zs=e:Zs.push.apply(Zs,e)}function yK(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ui(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kl(e,t){for(t&=~oC,t&=~cx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ti(t),n=1<<r;e[r]=-1,t&=~n}}function pN(e){if(xr&6)throw Error(We(327));Od();var t=kp(e,0);if(!(t&1))return oa(e,yn()),null;var r=qp(e,t);if(e.tag!==0&&r===2){var n=Cw(e);n!==0&&(t=n,r=Yw(e,n))}if(r===1)throw r=Nh,rc(e,0),kl(e,t),oa(e,yn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,QA(e,Zs,Oo),oa(e,yn()),null}function AC(e,t){var r=xr;xr|=1;try{return e(t)}finally{xr=r,xr===0&&(mu=yn()+500,ix&&NA())}}function mc(e){Vl!==null&&Vl.tag===0&&!(xr&6)&&Od();var t=xr;xr|=1;var r=Za.transition,n=kr;try{if(Za.transition=null,kr=1,e)return e()}finally{kr=n,Za.transition=r,xr=t,!(xr&6)&&NA()}}function cC(){wa=Fd.current,$r(Fd)}function rc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qH(r)),Nn!==null)for(r=Nn.return;r!==null;){var n=r;switch(Vb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pp();break;case 3:fu(),$r(aa),$r(Bs),Zb();break;case 5:Jb(n);break;case 4:fu();break;case 13:$r(rn);break;case 19:$r(rn);break;case 10:zb(n.type._context);break;case 22:case 23:cC()}r=r.return}if(Gn=e,Nn=e=sA(e.current,null),ls=wa=t,Dn=0,Nh=null,oC=cx=hc=0,Zs=Wf=null,MA!==null){for(t=0;t<MA.length;t++)if(r=MA[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}MA=null}return e}function MI(e,t){do{var r=Nn;try{if(Wb(),ip.current=Gp,$p){for(var n=nn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}$p=!1}if(fc=0,Hn=kn=nn=null,$f=!1,Ch=0,iC.current=null,r===null||r.return===null){Dn=1,Nh=t,Nn=null;break}e:{var i=e,o=r.return,l=r,A=t;if(t=ls,l.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var c=A,d=l,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nN(o);if(m!==null){m.flags&=-257,sN(m,o,l,i,t),m.mode&1&&rN(i,c,t),t=m,A=c;var p=t.updateQueue;if(p===null){var h=new Set;h.add(A),t.updateQueue=h}else p.add(A);break e}else{if(!(t&1)){rN(i,c,t),dC();break e}A=Error(We(426))}}else if(qr&&l.mode&1){var x=nN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),sN(x,o,l,i,t),$b(hu(A,l));break e}}i=A=hu(A,l),Dn!==4&&(Dn=2),Wf===null?Wf=[i]:Wf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=BI(i,A,t);qj(i,y);break e;case 1:l=A;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rA===null||!rA.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=jI(i,l,t);qj(i,b);break e}}i=i.return}while(i!==null)}VI(r)}catch(C){t=C,Nn===r&&r!==null&&(Nn=r=r.return);continue}break}while(!0)}function HI(){var e=Wp.current;return Wp.current=Gp,e===null?Gp:e}function dC(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Gn===null||!(hc&268435455)&&!(cx&268435455)||kl(Gn,ls)}function qp(e,t){var r=xr;xr|=2;var n=HI();(Gn!==e||ls!==t)&&(Oo=null,rc(e,t));do try{wK();break}catch(a){MI(e,a)}while(!0);if(Wb(),xr=r,Wp.current=n,Nn!==null)throw Error(We(261));return Gn=null,ls=0,Dn}function wK(){for(;Nn!==null;)KI(Nn)}function bK(){for(;Nn!==null&&!W8();)KI(Nn)}function KI(e){var t=GI(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?VI(e):Nn=t,iC.current=null}function VI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mK(r,t),r!==null){r.flags&=32767,Nn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,Nn=null;return}}else if(r=hK(r,t,wa),r!==null){Nn=r;return}if(t=t.sibling,t!==null){Nn=t;return}Nn=t=e}while(t!==null);Dn===0&&(Dn=5)}function QA(e,t,r){var n=kr,a=Za.transition;try{Za.transition=null,kr=1,CK(e,t,r,n)}finally{Za.transition=a,kr=n}return null}function CK(e,t,r,n){do Od();while(Vl!==null);if(xr&6)throw Error(We(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(nH(e,i),e===Gn&&(Nn=Gn=null,ls=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||c0||(c0=!0,WI(_p,function(){return Od(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Za.transition,Za.transition=null;var o=kr;kr=1;var l=xr;xr|=4,iC.current=null,gK(e,r),OI(r,e),KH(Fw),Ip=!!Sw,Fw=Sw=null,e.current=r,xK(r),z8(),xr=l,kr=o,Za.transition=i}else e.current=r;if(c0&&(c0=!1,Vl=e,Xp=a),i=e.pendingLanes,i===0&&(rA=null),Y8(r.stateNode),oa(e,yn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(zp)throw zp=!1,e=Xw,Xw=null,e;return Xp&1&&e.tag!==0&&Od(),i=e.pendingLanes,i&1?e===qw?zf++:(zf=0,qw=e):zf=0,NA(),null}function Od(){if(Vl!==null){var e=Bk(Xp),t=Za.transition,r=kr;try{if(Za.transition=null,kr=16>e?16:e,Vl===null)var n=!1;else{if(e=Vl,Vl=null,Xp=0,xr&6)throw Error(We(331));var a=xr;for(xr|=4,Bt=e.current;Bt!==null;){var i=Bt,o=i.child;if(Bt.flags&16){var l=i.deletions;if(l!==null){for(var A=0;A<l.length;A++){var c=l[A];for(Bt=c;Bt!==null;){var d=Bt;switch(d.tag){case 0:case 11:case 15:Gf(8,d,i)}var u=d.child;if(u!==null)u.return=d,Bt=u;else for(;Bt!==null;){d=Bt;var f=d.sibling,m=d.return;if(QI(d),d===c){Bt=null;break}if(f!==null){f.return=m,Bt=f;break}Bt=m}}}var p=i.alternate;if(p!==null){var h=p.child;if(h!==null){p.child=null;do{var x=h.sibling;h.sibling=null,h=x}while(h!==null)}}Bt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Bt=o;else e:for(;Bt!==null;){if(i=Bt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Bt=y;break e}Bt=i.return}}var g=e.current;for(Bt=g;Bt!==null;){o=Bt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Bt=w;else e:for(o=g;Bt!==null;){if(l=Bt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ax(9,l)}}catch(C){on(l,l.return,C)}if(l===o){Bt=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Bt=b;break e}Bt=l.return}}if(xr=a,NA(),oo&&typeof oo.onPostCommitFiberRoot=="function")try{oo.onPostCommitFiberRoot(tx,e)}catch{}n=!0}return n}finally{kr=r,Za.transition=t}}return!1}function gN(e,t,r){t=hu(r,t),t=BI(e,t,1),e=tA(e,t,1),t=Rs(),e!==null&&(mm(e,1,t),oa(e,t))}function on(e,t,r){if(e.tag===3)gN(e,e,r);else for(;t!==null;){if(t.tag===3){gN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rA===null||!rA.has(n))){e=hu(r,e),e=jI(t,e,1),t=tA(t,e,1),e=Rs(),t!==null&&(mm(t,1,e),oa(t,e));break}}t=t.return}}function BK(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rs(),e.pingedLanes|=e.suspendedLanes&r,Gn===e&&(ls&r)===r&&(Dn===4||Dn===3&&(ls&130023424)===ls&&500>yn()-lC?rc(e,0):oC|=r),oa(e,t)}function $I(e,t){t===0&&(e.mode&1?(t=e0,e0<<=1,!(e0&130023424)&&(e0=4194304)):t=1);var r=Rs();e=nl(e,t),e!==null&&(mm(e,t,r),oa(e,r))}function jK(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$I(e,r)}function NK(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),$I(e,r)}var GI;GI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||aa.current)ra=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ra=!1,fK(e,t,r);ra=!!(e.flags&131072)}else ra=!1,qr&&t.flags&1048576&&qk(t,Lp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lp(e,t),e=t.pendingProps;var a=cu(t,Bs.current);Pd(t,r),a=tC(null,t,n,e,a,r);var i=rC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ia(n)?(i=!0,Op(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qb(t),a.updater=lx,t.stateNode=a,a._reactInternals=t,Ow(t,n,e,r),t=Mw(null,t,n,!0,i,r)):(t.tag=0,qr&&i&&Kb(t),ks(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(lp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=SK(n),e=xi(n,e),a){case 0:t=Lw(null,t,n,e,r);break e;case 1:t=oN(null,t,n,e,r);break e;case 11:t=aN(null,t,n,e,r);break e;case 14:t=iN(null,t,n,xi(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xi(n,a),Lw(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xi(n,a),oN(e,t,n,a,r);case 3:e:{if(FI(t),e===null)throw Error(We(387));n=t.pendingProps,i=t.memoizedState,a=i.element,rI(e,t),Kp(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=hu(Error(We(423)),t),t=lN(e,t,n,r,a);break e}else if(n!==a){a=hu(Error(We(424)),t),t=lN(e,t,n,r,a);break e}else for(Sa=eA(t.stateNode.containerInfo.firstChild),Fa=t,qr=!0,bi=null,r=eI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(du(),n===a){t=sl(e,t,r);break e}ks(e,t,n,r)}t=t.child}return t;case 5:return nI(t),e===null&&Qw(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Tw(n,a)?o=null:i!==null&&Tw(n,i)&&(t.flags|=32),SI(e,t),ks(e,t,o,r),t.child;case 6:return e===null&&Qw(t),null;case 13:return TI(e,t,r);case 4:return Yb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uu(t,null,n,r):ks(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xi(n,a),aN(e,t,n,a,r);case 7:return ks(e,t,t.pendingProps,r),t.child;case 8:return ks(e,t,t.pendingProps.children,r),t.child;case 12:return ks(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Lr(Mp,n._currentValue),n._currentValue=o,i!==null)if(Ui(i.value,o)){if(i.children===a.children&&!aa.current){t=sl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var A=l.firstContext;A!==null;){if(A.context===n){if(i.tag===1){A=Wo(-1,r&-r),A.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?A.next=A:(A.next=d.next,d.next=A),c.pending=A}}i.lanes|=r,A=i.alternate,A!==null&&(A.lanes|=r),Dw(i.return,r,t),l.lanes|=r;break}A=A.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(We(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Dw(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ks(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Pd(t,r),a=ai(a),n=n(a),t.flags|=1,ks(e,t,n,r),t.child;case 14:return n=t.type,a=xi(n,t.pendingProps),a=xi(n.type,a),iN(e,t,n,a,r);case 15:return NI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xi(n,a),lp(e,t),t.tag=1,ia(n)?(e=!0,Op(t)):e=!1,Pd(t,r),CI(t,n,a),Ow(t,n,a,r),Mw(null,t,n,!0,e,r);case 19:return _I(e,t,r);case 22:return EI(e,t,r)}throw Error(We(156,t.tag))};function WI(e,t){return yk(e,t)}function EK(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qa(e,t,r,n){return new EK(e,t,r,n)}function uC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SK(e){if(typeof e=="function")return uC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_b)return 11;if(e===kb)return 14}return 2}function sA(e,t){var r=e.alternate;return r===null?(r=qa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dp(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")uC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vd:return nc(r.children,a,i,t);case Tb:o=8,a|=8;break;case lw:return e=qa(12,r,t,a|2),e.elementType=lw,e.lanes=i,e;case Aw:return e=qa(13,r,t,a),e.elementType=Aw,e.lanes=i,e;case cw:return e=qa(19,r,t,a),e.elementType=cw,e.lanes=i,e;case nk:return dx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tk:o=10;break e;case rk:o=9;break e;case _b:o=11;break e;case kb:o=14;break e;case El:o=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=qa(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function nc(e,t,r,n){return e=qa(7,e,n,t),e.lanes=r,e}function dx(e,t,r,n){return e=qa(22,e,n,t),e.elementType=nk,e.lanes=r,e.stateNode={isHidden:!1},e}function Zv(e,t,r){return e=qa(6,e,null,t),e.lanes=r,e}function ey(e,t,r){return t=qa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FK(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uv(0),this.expirationTimes=Uv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function fC(e,t,r,n,a,i,o,l,A){return e=new FK(e,t,r,l,A),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qb(i),e}function TK(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zI(e){if(!e)return cA;e=e._reactInternals;e:{if(Dc(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(ia(r))return zk(e,r,t)}return t}function XI(e,t,r,n,a,i,o,l,A){return e=fC(r,n,!0,e,a,i,o,l,A),e.context=zI(null),r=e.current,n=Rs(),a=nA(r),i=Wo(n,a),i.callback=t??null,tA(r,i,a),e.current.lanes=a,mm(e,a,n),oa(e,n),e}function ux(e,t,r,n){var a=t.current,i=Rs(),o=nA(a);return r=zI(r),t.context===null?t.context=r:t.pendingContext=r,t=Wo(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tA(a,t,o),e!==null&&(_i(e,a,o,i),ap(e,a,o)),o}function Yp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hC(e,t){xN(e,t),(e=e.alternate)&&xN(e,t)}function _K(){return null}var qI=typeof reportError=="function"?reportError:function(e){console.error(e)};function mC(e){this._internalRoot=e}fx.prototype.render=mC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));ux(e,t,null,null)};fx.prototype.unmount=mC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mc(function(){ux(null,e,null,null)}),t[rl]=null}};function fx(e){this._internalRoot=e}fx.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ek();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_l.length&&t!==0&&t<_l[r].priority;r++);_l.splice(r,0,e),r===0&&Fk(e)}};function pC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vN(){}function kK(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=Yp(o);i.call(c)}}var o=XI(t,n,e,0,null,!1,!1,"",vN);return e._reactRootContainer=o,e[rl]=o.current,xh(e.nodeType===8?e.parentNode:e),mc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var c=Yp(A);l.call(c)}}var A=fC(e,0,!1,null,null,!1,!1,"",vN);return e._reactRootContainer=A,e[rl]=A.current,xh(e.nodeType===8?e.parentNode:e),mc(function(){ux(t,A,r,n)}),A}function mx(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var A=Yp(o);l.call(A)}}ux(t,o,e,a)}else o=kK(r,t,e,a,n);return Yp(o)}jk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bf(t.pendingLanes);r!==0&&(Qb(t,r|1),oa(t,yn()),!(xr&6)&&(mu=yn()+500,NA()))}break;case 13:mc(function(){var n=nl(e,1);if(n!==null){var a=Rs();_i(n,e,1,a)}}),hC(e,1)}};Db=function(e){if(e.tag===13){var t=nl(e,134217728);if(t!==null){var r=Rs();_i(t,e,134217728,r)}hC(e,134217728)}};Nk=function(e){if(e.tag===13){var t=nA(e),r=nl(e,t);if(r!==null){var n=Rs();_i(r,e,t,n)}hC(e,t)}};Ek=function(){return kr};Sk=function(e,t){var r=kr;try{return kr=e,t()}finally{kr=r}};yw=function(e,t,r){switch(t){case"input":if(fw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ax(n);if(!a)throw Error(We(90));ak(n),fw(n,a)}}}break;case"textarea":ok(e,r);break;case"select":t=r.value,t!=null&&Id(e,!!r.multiple,t,!1)}};hk=AC;mk=mc;var IK={usingClientEntryPoint:!1,Events:[gm,Cd,ax,uk,fk,AC]},cf={findFiberByHostInstance:LA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UK={bundleType:cf.bundleType,version:cf.version,rendererPackageName:cf.rendererPackageName,rendererConfig:cf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xk(e),e===null?null:e.stateNode},findFiberByHostInstance:cf.findFiberByHostInstance||_K,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{tx=d0.inject(UK),oo=d0}catch{}}Ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IK;Ua.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pC(t))throw Error(We(200));return TK(e,t,null,r)};Ua.createRoot=function(e,t){if(!pC(e))throw Error(We(299));var r=!1,n="",a=qI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=fC(e,1,!1,null,null,r,!1,n,a),e[rl]=t.current,xh(e.nodeType===8?e.parentNode:e),new mC(t)};Ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=xk(t),e=e===null?null:e.stateNode,e};Ua.flushSync=function(e){return mc(e)};Ua.hydrate=function(e,t,r){if(!hx(t))throw Error(We(200));return mx(null,e,t,!0,r)};Ua.hydrateRoot=function(e,t,r){if(!pC(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=qI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=XI(t,null,e,1,r??null,a,!1,i,o),e[rl]=t.current,xh(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new fx(t)};Ua.render=function(e,t,r){if(!hx(t))throw Error(We(200));return mx(null,e,t,!1,r)};Ua.unmountComponentAtNode=function(e){if(!hx(e))throw Error(We(40));return e._reactRootContainer?(mc(function(){mx(null,null,e,!1,function(){e._reactRootContainer=null,e[rl]=null})}),!0):!1};Ua.unstable_batchedUpdates=AC;Ua.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hx(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return mx(e,t,r,!1,n)};Ua.version="18.3.1-next-f1338f8080-20240426";function YI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YI)}catch(e){console.error(e)}}YI(),Y_.exports=Ua;var Pc=Y_.exports;const QK=R_(Pc);var JI,yN=Pc;JI=yN.createRoot,yN.hydrateRoot;function DK(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",A=e.split("/");for(A[0]||A.shift();a=A.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var ZI={exports:{}},eU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=v;function PK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OK=typeof Object.is=="function"?Object.is:PK,RK=pu.useState,LK=pu.useEffect,MK=pu.useLayoutEffect,HK=pu.useDebugValue;function KK(e,t){var r=t(),n=RK({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return MK(function(){a.value=r,a.getSnapshot=t,ty(a)&&i({inst:a})},[e,r,t]),LK(function(){return ty(a)&&i({inst:a}),e(function(){ty(a)&&i({inst:a})})},[e]),HK(r),r}function ty(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!OK(e,r)}catch{return!0}}function VK(e,t){return t()}var $K=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VK:KK;eU.useSyncExternalStore=pu.useSyncExternalStore!==void 0?pu.useSyncExternalStore:$K;ZI.exports=eU;var tU=ZI.exports;const GK=Nb.useInsertionEffect,WK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zK=WK?v.useLayoutEffect:v.useEffect,XK=GK||zK,rU=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return XK(()=>{t[0]=e}),t[1]},qK="popstate",gC="pushState",xC="replaceState",YK="hashchange",wN=[qK,gC,xC,YK],JK=e=>{for(const t of wN)addEventListener(t,e);return()=>{for(const t of wN)removeEventListener(t,e)}},nU=(e,t)=>tU.useSyncExternalStore(JK,e,t),ZK=()=>location.search,e9=({ssrSearch:e=""}={})=>nU(ZK,()=>e),bN=()=>location.pathname,t9=({ssrPath:e}={})=>nU(bN,e?()=>e:bN),r9=(e,{replace:t=!1,state:r=null}={})=>history[t?xC:gC](r,"",e),n9=(e={})=>[t9(e),r9],CN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[CN]>"u"){for(const e of[gC,xC]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,CN,{value:!0})}const s9=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",sU=(e="")=>e==="/"?"":e,a9=(e,t)=>e[0]==="~"?e.slice(1):sU(t)+e,i9=(e="",t)=>s9(BN(sU(e)),BN(t)),BN=e=>{try{return decodeURI(e)}catch{return e}},aU={hook:n9,searchHook:e9,parser:DK,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},iU=v.createContext(aU),Ru=()=>v.useContext(iU),oU={},lU=v.createContext(oU),AU=()=>v.useContext(lU),px=e=>{const[t,r]=e.hook(e);return[i9(e.base,t),rU((n,a)=>r(a9(n,e.base),a))]},Da=()=>px(Ru()),vC=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...A]=o;return l!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((u,f)=>[u,A[f]])):o.groups;let d={...A};return c&&Object.assign(d,c),d})(),...n?[l]:[]]:[!1,null]},cU=e=>vC(Ru().parser,e,Da()[0]),o9=({children:e,...t})=>{var d,u;const r=Ru(),n=t.hook?aU:r;let a=n;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=v.useRef({}),A=l.current,c=A;for(let f in n){const m=f==="base"?n[f]+(t[f]||""):t[f]||n[f];A===c&&m!==c[f]&&(l.current=c={...c}),c[f]=m,(m!==n[f]||m!==a[f])&&(a=c)}return v.createElement(iU.Provider,{value:a,children:e})},jN=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,l9=e=>{let t=v.useRef(oU);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},Rn=({path:e,nest:t,match:r,...n})=>{const a=Ru(),[i]=px(a),[o,l,A]=r??vC(a.parser,e,i,t),c=l9({...AU(),...l});if(!o)return null;const d=A?v.createElement(o9,{base:A},jN(n,c)):jN(n,c);return v.createElement(lU.Provider,{value:c,children:d})},sc=v.forwardRef((e,t)=>{const r=Ru(),[n,a]=px(r),{to:i="",href:o=i,onClick:l,asChild:A,children:c,className:d,replace:u,state:f,...m}=e,p=rU(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),a(o,e)))}),h=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return A&&v.isValidElement(c)?v.cloneElement(c,{onClick:p,href:h}):v.createElement("a",{...m,onClick:p,href:h,className:d!=null&&d.call?d(n===o):d,children:c,ref:t})}),dU=e=>Array.isArray(e)?e.flatMap(t=>dU(t&&t.type===v.Fragment?t.props.children:t)):[e],A9=({children:e,location:t})=>{const r=Ru(),[n]=px(r);for(const a of dU(e)){let i=0;if(v.isValidElement(a)&&(i=vC(r.parser,a.props.path,t||n,a.props.nest))[0])return v.cloneElement(a,{match:i})}return null};var Lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},c9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Il,wb,HS,d9=(HS=class{constructor(){Ut(this,Il,c9);Ut(this,wb,!1)}setTimeoutProvider(e){gt(this,Il,e)}setTimeout(e,t){return te(this,Il).setTimeout(e,t)}clearTimeout(e){te(this,Il).clearTimeout(e)}setInterval(e,t){return te(this,Il).setInterval(e,t)}clearInterval(e){te(this,Il).clearInterval(e)}},Il=new WeakMap,wb=new WeakMap,HS),KA=new d9;function u9(e){setTimeout(e,0)}var pc=typeof window>"u"||"Deno"in globalThis;function Is(){}function f9(e,t){return typeof e=="function"?e(t):e}function Zw(e){return typeof e=="number"&&e>=0&&e!==1/0}function uU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function aA(e,t){return typeof e=="function"?e(t):e}function $a(e,t){return typeof e=="function"?e(t):e}function NN(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yC(o,t.options))return!1}else if(!Eh(t.queryKey,o))return!1}if(r!=="all"){const A=t.isActive();if(r==="active"&&!A||r==="inactive"&&A)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function EN(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(gc(t.options.mutationKey)!==gc(i))return!1}else if(!Eh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function yC(e,t){return((t==null?void 0:t.queryKeyHashFn)||gc)(e)}function gc(e){return JSON.stringify(e,(t,r)=>e1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Eh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Eh(e[r],t[r])):!1}var h9=Object.prototype.hasOwnProperty;function fU(e,t){if(e===t)return e;const r=SN(e)&&SN(t);if(!r&&!(e1(e)&&e1(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let A=0;for(let c=0;c<o;c++){const d=r?c:i[c],u=e[d],f=t[d];if(u===f){l[d]=u,(r?c<a:h9.call(e,d))&&A++;continue}if(u===null||f===null||typeof u!="object"||typeof f!="object"){l[d]=f;continue}const m=fU(u,f);l[d]=m,m===u&&A++}return a===o&&A===a?e:l}function Jp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function SN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function e1(e){if(!FN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!FN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function FN(e){return Object.prototype.toString.call(e)==="[object Object]"}function m9(e){return new Promise(t=>{KA.setTimeout(t,e)})}function t1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?fU(e,t):t}function p9(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function g9(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wC=Symbol();function hU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mU(e,t){return typeof e=="function"?e(...t):!!e}var WA,Ul,Yd,KS,x9=(KS=class extends Lu{constructor(){super();Ut(this,WA);Ut(this,Ul);Ut(this,Yd);gt(this,Yd,t=>{if(!pc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Ul)||this.setEventListener(te(this,Yd))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Ul))==null||t.call(this),gt(this,Ul,void 0))}setEventListener(t){var r;gt(this,Yd,t),(r=te(this,Ul))==null||r.call(this),gt(this,Ul,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,WA)!==t&&(gt(this,WA,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,WA)=="boolean"?te(this,WA):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},WA=new WeakMap,Ul=new WeakMap,Yd=new WeakMap,KS),bC=new x9;function r1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var v9=u9;function y9(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=v9;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(A=>{r(A)})})})};return{batch:l=>{let A;t++;try{A=l()}finally{t--,t||o()}return A},batchCalls:l=>(...A)=>{i(()=>{l(...A)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Un=y9(),Jd,Ql,Zd,VS,w9=(VS=class extends Lu{constructor(){super();Ut(this,Jd,!0);Ut(this,Ql);Ut(this,Zd);gt(this,Zd,t=>{if(!pc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,Ql)||this.setEventListener(te(this,Zd))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Ql))==null||t.call(this),gt(this,Ql,void 0))}setEventListener(t){var r;gt(this,Zd,t),(r=te(this,Ql))==null||r.call(this),gt(this,Ql,t(this.setOnline.bind(this)))}setOnline(t){te(this,Jd)!==t&&(gt(this,Jd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,Jd)}},Jd=new WeakMap,Ql=new WeakMap,Zd=new WeakMap,VS),Zp=new w9;function b9(e){return Math.min(1e3*2**e,3e4)}function pU(e){return(e??"online")==="online"?Zp.isOnline():!0}var n1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gU(e){let t=!1,r=0,n;const a=r1(),i=()=>a.status!=="pending",o=h=>{var x;if(!i()){const y=new n1(h);f(y),(x=e.onCancel)==null||x.call(e,y)}},l=()=>{t=!0},A=()=>{t=!1},c=()=>bC.isFocused()&&(e.networkMode==="always"||Zp.isOnline())&&e.canRun(),d=()=>pU(e.networkMode)&&e.canRun(),u=h=>{i()||(n==null||n(),a.resolve(h))},f=h=>{i()||(n==null||n(),a.reject(h))},m=()=>new Promise(h=>{var x;n=y=>{(i()||c())&&h(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var h;n=void 0,i()||(h=e.onContinue)==null||h.call(e)}),p=()=>{if(i())return;let h;const x=r===0?e.initialPromise:void 0;try{h=x??e.fn()}catch(y){h=Promise.reject(y)}Promise.resolve(h).then(u).catch(y=>{var N;if(i())return;const g=e.retry??(pc?0:3),w=e.retryDelay??b9,b=typeof w=="function"?w(r,y):w,C=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,y);if(t||!C){f(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),m9(b).then(()=>c()?void 0:m()).then(()=>{t?f(y):p()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:A,canStart:d,start:()=>(d()?p():m().then(p),a)}}var zA,$S,xU=($S=class{constructor(){Ut(this,zA)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zw(this.gcTime)&&gt(this,zA,KA.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pc?1/0:5*60*1e3))}clearGcTimeout(){te(this,zA)&&(KA.clearTimeout(te(this,zA)),gt(this,zA,void 0))}},zA=new WeakMap,$S),XA,eu,Ha,qA,Mn,cm,YA,vi,Qo,GS,C9=(GS=class extends xU{constructor(t){super();Ut(this,vi);Ut(this,XA);Ut(this,eu);Ut(this,Ha);Ut(this,qA);Ut(this,Mn);Ut(this,cm);Ut(this,YA);gt(this,YA,!1),gt(this,cm,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,qA,t.client),gt(this,Ha,te(this,qA).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,XA,TN(this.options)),this.state=t.state??te(this,XA),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Mn))==null?void 0:t.promise}setOptions(t){if(this.options={...te(this,cm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=TN(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),gt(this,XA,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Ha).remove(this)}setData(t,r){const n=t1(this.state.data,t,this.options);return ir(this,vi,Qo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ir(this,vi,Qo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=te(this,Mn))==null?void 0:n.promise;return(a=te(this,Mn))==null||a.cancel(t),r?r.then(Is).catch(Is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,XA))}isActive(){return this.observers.some(t=>$a(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>aA(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!uU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Mn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Mn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,Ha).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,Mn)&&(te(this,YA)?te(this,Mn).cancel({revert:!0}):te(this,Mn).cancelRetry()),this.scheduleGc()),te(this,Ha).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ir(this,vi,Qo).call(this,{type:"invalidate"})}async fetch(t,r){var A,c,d,u,f,m,p,h,x,y,g,w;if(this.state.fetchStatus!=="idle"&&((A=te(this,Mn))==null?void 0:A.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Mn))return te(this,Mn).continueRetry(),te(this,Mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(C=>C.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(gt(this,YA,!0),n.signal)})},i=()=>{const b=hU(this.options,r),N=(()=>{const B={client:te(this,qA),queryKey:this.queryKey,meta:this.meta};return a(B),B})();return gt(this,YA,!1),this.options.persister?this.options.persister(b,N,this):b(N)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,qA),state:this.state,fetchFn:i};return a(b),b})();(c=this.options.behavior)==null||c.onFetch(l,this),gt(this,eu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ir(this,vi,Qo).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta}),gt(this,Mn,gU({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof n1&&b.revert&&this.setState({...te(this,eu),fetchStatus:"idle"}),n.abort()},onFail:(b,C)=>{ir(this,vi,Qo).call(this,{type:"failed",failureCount:b,error:C})},onPause:()=>{ir(this,vi,Qo).call(this,{type:"pause"})},onContinue:()=>{ir(this,vi,Qo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await te(this,Mn).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(m=(f=te(this,Ha).config).onSuccess)==null||m.call(f,b,this),(h=(p=te(this,Ha).config).onSettled)==null||h.call(p,b,this.state.error,this),b}catch(b){if(b instanceof n1){if(b.silent)return te(this,Mn).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw ir(this,vi,Qo).call(this,{type:"error",error:b}),(y=(x=te(this,Ha).config).onError)==null||y.call(x,b,this),(w=(g=te(this,Ha).config).onSettled)==null||w.call(g,this.state.data,b,this),b}finally{this.scheduleGc()}}},XA=new WeakMap,eu=new WeakMap,Ha=new WeakMap,qA=new WeakMap,Mn=new WeakMap,cm=new WeakMap,YA=new WeakMap,vi=new WeakSet,Qo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vU(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return gt(this,eu,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Un.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,Ha).notify({query:this,type:"updated",action:t})})},GS);function vU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function TN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xs,mr,dm,Fs,JA,tu,Mo,Dl,um,ru,nu,ZA,ec,Pl,su,jr,Nf,s1,a1,i1,o1,l1,A1,c1,wU,WS,yU=(WS=class extends Lu{constructor(t,r){super();Ut(this,jr);Ut(this,Xs);Ut(this,mr);Ut(this,dm);Ut(this,Fs);Ut(this,JA);Ut(this,tu);Ut(this,Mo);Ut(this,Dl);Ut(this,um);Ut(this,ru);Ut(this,nu);Ut(this,ZA);Ut(this,ec);Ut(this,Pl);Ut(this,su,new Set);this.options=r,gt(this,Xs,t),gt(this,Dl,null),gt(this,Mo,r1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,mr).addObserver(this),_N(te(this,mr),this.options)?ir(this,jr,Nf).call(this):this.updateResult(),ir(this,jr,o1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d1(te(this,mr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d1(te(this,mr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ir(this,jr,l1).call(this),ir(this,jr,A1).call(this),te(this,mr).removeObserver(this)}setOptions(t){const r=this.options,n=te(this,mr);if(this.options=te(this,Xs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $a(this.options.enabled,te(this,mr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ir(this,jr,c1).call(this),te(this,mr).setOptions(this.options),r._defaulted&&!Jp(this.options,r)&&te(this,Xs).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,mr),observer:this});const a=this.hasListeners();a&&kN(te(this,mr),n,this.options,r)&&ir(this,jr,Nf).call(this),this.updateResult(),a&&(te(this,mr)!==n||$a(this.options.enabled,te(this,mr))!==$a(r.enabled,te(this,mr))||aA(this.options.staleTime,te(this,mr))!==aA(r.staleTime,te(this,mr)))&&ir(this,jr,s1).call(this);const i=ir(this,jr,a1).call(this);a&&(te(this,mr)!==n||$a(this.options.enabled,te(this,mr))!==$a(r.enabled,te(this,mr))||i!==te(this,Pl))&&ir(this,jr,i1).call(this,i)}getOptimisticResult(t){const r=te(this,Xs).getQueryCache().build(te(this,Xs),t),n=this.createResult(r,t);return j9(this,n)&&(gt(this,Fs,n),gt(this,tu,this.options),gt(this,JA,te(this,mr).state)),n}getCurrentResult(){return te(this,Fs)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&te(this,Mo).status==="pending"&&te(this,Mo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){te(this,su).add(t)}getCurrentQuery(){return te(this,mr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=te(this,Xs).defaultQueryOptions(t),n=te(this,Xs).getQueryCache().build(te(this,Xs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ir(this,jr,Nf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,Fs)))}createResult(t,r){var E;const n=te(this,mr),a=this.options,i=te(this,Fs),o=te(this,JA),l=te(this,tu),c=t!==n?t.state:te(this,dm),{state:d}=t;let u={...d},f=!1,m;if(r._optimisticResults){const U=this.hasListeners(),P=!U&&_N(t,r),O=U&&kN(t,n,r,a);(P||O)&&(u={...u,...vU(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:h,status:x}=u;m=u.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let U;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(U=i.data,y=!0):U=typeof r.placeholderData=="function"?r.placeholderData((E=te(this,nu))==null?void 0:E.state.data,te(this,nu)):r.placeholderData,U!==void 0&&(x="success",m=t1(i==null?void 0:i.data,U,r),f=!0)}if(r.select&&m!==void 0&&!y)if(i&&m===(o==null?void 0:o.data)&&r.select===te(this,um))m=te(this,ru);else try{gt(this,um,r.select),m=r.select(m),m=t1(i==null?void 0:i.data,m,r),gt(this,ru,m),gt(this,Dl,null)}catch(U){gt(this,Dl,U)}te(this,Dl)&&(p=te(this,Dl),m=te(this,ru),h=Date.now(),x="error");const g=u.fetchStatus==="fetching",w=x==="pending",b=x==="error",C=w&&g,N=m!==void 0,F={status:x,fetchStatus:u.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:C,isLoading:C,data:m,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:h,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:b&&!N,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&N,isStale:CC(t,r),refetch:this.refetch,promise:te(this,Mo),isEnabled:$a(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const U=X=>{F.status==="error"?X.reject(F.error):F.data!==void 0&&X.resolve(F.data)},P=()=>{const X=gt(this,Mo,F.promise=r1());U(X)},O=te(this,Mo);switch(O.status){case"pending":t.queryHash===n.queryHash&&U(O);break;case"fulfilled":(F.status==="error"||F.data!==O.value)&&P();break;case"rejected":(F.status!=="error"||F.error!==O.reason)&&P();break}}return F}updateResult(){const t=te(this,Fs),r=this.createResult(te(this,mr),this.options);if(gt(this,JA,te(this,mr).state),gt(this,tu,this.options),te(this,JA).data!==void 0&&gt(this,nu,te(this,mr)),Jp(r,t))return;gt(this,Fs,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!te(this,su).size)return!0;const o=new Set(i??te(this,su));return this.options.throwOnError&&o.add("error"),Object.keys(te(this,Fs)).some(l=>{const A=l;return te(this,Fs)[A]!==t[A]&&o.has(A)})};ir(this,jr,wU).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ir(this,jr,o1).call(this)}},Xs=new WeakMap,mr=new WeakMap,dm=new WeakMap,Fs=new WeakMap,JA=new WeakMap,tu=new WeakMap,Mo=new WeakMap,Dl=new WeakMap,um=new WeakMap,ru=new WeakMap,nu=new WeakMap,ZA=new WeakMap,ec=new WeakMap,Pl=new WeakMap,su=new WeakMap,jr=new WeakSet,Nf=function(t){ir(this,jr,c1).call(this);let r=te(this,mr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Is)),r},s1=function(){ir(this,jr,l1).call(this);const t=aA(this.options.staleTime,te(this,mr));if(pc||te(this,Fs).isStale||!Zw(t))return;const n=uU(te(this,Fs).dataUpdatedAt,t)+1;gt(this,ZA,KA.setTimeout(()=>{te(this,Fs).isStale||this.updateResult()},n))},a1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,mr)):this.options.refetchInterval)??!1},i1=function(t){ir(this,jr,A1).call(this),gt(this,Pl,t),!(pc||$a(this.options.enabled,te(this,mr))===!1||!Zw(te(this,Pl))||te(this,Pl)===0)&&gt(this,ec,KA.setInterval(()=>{(this.options.refetchIntervalInBackground||bC.isFocused())&&ir(this,jr,Nf).call(this)},te(this,Pl)))},o1=function(){ir(this,jr,s1).call(this),ir(this,jr,i1).call(this,ir(this,jr,a1).call(this))},l1=function(){te(this,ZA)&&(KA.clearTimeout(te(this,ZA)),gt(this,ZA,void 0))},A1=function(){te(this,ec)&&(KA.clearInterval(te(this,ec)),gt(this,ec,void 0))},c1=function(){const t=te(this,Xs).getQueryCache().build(te(this,Xs),this.options);if(t===te(this,mr))return;const r=te(this,mr);gt(this,mr,t),gt(this,dm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},wU=function(t){Un.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(te(this,Fs))}),te(this,Xs).getQueryCache().notify({query:te(this,mr),type:"observerResultsUpdated"})})},WS);function B9(e,t){return $a(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _N(e,t){return B9(e,t)||e.state.data!==void 0&&d1(e,t,t.refetchOnMount)}function d1(e,t,r){if($a(t.enabled,e)!==!1&&aA(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&CC(e,t)}return!1}function kN(e,t,r,n){return(e!==t||$a(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&CC(e,r)}function CC(e,t){return $a(t.enabled,e)!==!1&&e.isStaleByTime(aA(t.staleTime,e))}function j9(e,t){return!Jp(e.getCurrentResult(),t)}function eg(e){return{onFetch:(t,r)=>{var d,u,f,m,p;const n=t.options,a=(f=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},A=0;const c=async()=>{let h=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},y=hU(t.options,t.fetchOptions),g=async(w,b,C)=>{if(h)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const B=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:b,direction:C?"backward":"forward",meta:t.options.meta};return x(P),P})(),F=await y(B),{maxPages:E}=t.options,U=C?g9:p9;return{pages:U(w.pages,F,E),pageParams:U(w.pageParams,b,E)}};if(a&&i.length){const w=a==="backward",b=w?bU:u1,C={pages:i,pageParams:o},N=b(n,C);l=await g(C,N,w)}else{const w=e??i.length;do{const b=A===0?o[0]??n.initialPageParam:u1(n,l);if(A>0&&b==null)break;l=await g(l,b),A++}while(A<w)}return l};t.options.persister?t.fetchFn=()=>{var h,x;return(x=(h=t.options).persister)==null?void 0:x.call(h,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function u1(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function bU(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function N9(e,t){return t?u1(e,t)!=null:!1}function E9(e,t){return!t||!e.getPreviousPageParam?!1:bU(e,t)!=null}var S9=class extends yU{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:eg()})}getOptimisticResult(e){return e.behavior=eg(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var p,h;const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:o,isRefetchError:l}=n,A=(h=(p=r.fetchMeta)==null?void 0:p.fetchMore)==null?void 0:h.direction,c=o&&A==="forward",d=a&&A==="forward",u=o&&A==="backward",f=a&&A==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:N9(t,r.data),hasPreviousPage:E9(t,r.data),isFetchNextPageError:c,isFetchingNextPage:d,isFetchPreviousPageError:u,isFetchingPreviousPage:f,isRefetchError:l&&!c&&!u,isRefetching:i&&!d&&!f}}},Ji,Ts,tc,Zi,bl,zS,F9=(zS=class extends xU{constructor(t){super();Ut(this,Zi);Ut(this,Ji);Ut(this,Ts);Ut(this,tc);this.mutationId=t.mutationId,gt(this,Ts,t.mutationCache),gt(this,Ji,[]),this.state=t.state||CU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Ji).includes(t)||(te(this,Ji).push(t),this.clearGcTimeout(),te(this,Ts).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,Ji,te(this,Ji).filter(r=>r!==t)),this.scheduleGc(),te(this,Ts).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Ji).length||(this.state.status==="pending"?this.scheduleGc():te(this,Ts).remove(this))}continue(){var t;return((t=te(this,tc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,A,c,d,u,f,m,p,h,x,y,g,w,b,C,N,B,F;const r=()=>{ir(this,Zi,bl).call(this,{type:"continue"})};gt(this,tc,gU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,U)=>{ir(this,Zi,bl).call(this,{type:"failed",failureCount:E,error:U})},onPause:()=>{ir(this,Zi,bl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Ts).canRun(this)}));const n=this.state.status==="pending",a=!te(this,tc).canStart();try{if(n)r();else{ir(this,Zi,bl).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=te(this,Ts).config).onMutate)==null?void 0:o.call(i,t,this));const U=await((A=(l=this.options).onMutate)==null?void 0:A.call(l,t));U!==this.state.context&&ir(this,Zi,bl).call(this,{type:"pending",context:U,variables:t,isPaused:a})}const E=await te(this,tc).start();return await((d=(c=te(this,Ts).config).onSuccess)==null?void 0:d.call(c,E,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,E,t,this.state.context)),await((p=(m=te(this,Ts).config).onSettled)==null?void 0:p.call(m,E,null,this.state.variables,this.state.context,this)),await((x=(h=this.options).onSettled)==null?void 0:x.call(h,E,null,t,this.state.context)),ir(this,Zi,bl).call(this,{type:"success",data:E}),E}catch(E){try{throw await((g=(y=te(this,Ts).config).onError)==null?void 0:g.call(y,E,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,E,t,this.state.context)),await((N=(C=te(this,Ts).config).onSettled)==null?void 0:N.call(C,void 0,E,this.state.variables,this.state.context,this)),await((F=(B=this.options).onSettled)==null?void 0:F.call(B,void 0,E,t,this.state.context)),E}finally{ir(this,Zi,bl).call(this,{type:"error",error:E})}}finally{te(this,Ts).runNext(this)}}},Ji=new WeakMap,Ts=new WeakMap,tc=new WeakMap,Zi=new WeakSet,bl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Un.batch(()=>{te(this,Ji).forEach(n=>{n.onMutationUpdate(t)}),te(this,Ts).notify({mutation:this,type:"updated",action:t})})},zS);function CU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ho,yi,fm,XS,T9=(XS=class extends Lu{constructor(t={}){super();Ut(this,Ho);Ut(this,yi);Ut(this,fm);this.config=t,gt(this,Ho,new Set),gt(this,yi,new Map),gt(this,fm,0)}build(t,r,n){const a=new F9({mutationCache:this,mutationId:++zm(this,fm)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){te(this,Ho).add(t);const r=u0(t);if(typeof r=="string"){const n=te(this,yi).get(r);n?n.push(t):te(this,yi).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,Ho).delete(t)){const r=u0(t);if(typeof r=="string"){const n=te(this,yi).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&te(this,yi).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=u0(t);if(typeof r=="string"){const n=te(this,yi).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=u0(t);if(typeof r=="string"){const a=(n=te(this,yi).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{te(this,Ho).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,Ho).clear(),te(this,yi).clear()})}getAll(){return Array.from(te(this,Ho))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>EN(r,n))}findAll(t={}){return this.getAll().filter(r=>EN(t,r))}notify(t){Un.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Un.batch(()=>Promise.all(t.map(r=>r.continue().catch(Is))))}},Ho=new WeakMap,yi=new WeakMap,fm=new WeakMap,XS);function u0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ol,Rl,qs,Ko,el,up,f1,qS,_9=(qS=class extends Lu{constructor(r,n){super();Ut(this,el);Ut(this,Ol);Ut(this,Rl);Ut(this,qs);Ut(this,Ko);gt(this,Ol,r),this.setOptions(n),this.bindMethods(),ir(this,el,up).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=te(this,Ol).defaultMutationOptions(r),Jp(this.options,n)||te(this,Ol).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,qs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&gc(n.mutationKey)!==gc(this.options.mutationKey)?this.reset():((a=te(this,qs))==null?void 0:a.state.status)==="pending"&&te(this,qs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=te(this,qs))==null||r.removeObserver(this)}onMutationUpdate(r){ir(this,el,up).call(this),ir(this,el,f1).call(this,r)}getCurrentResult(){return te(this,Rl)}reset(){var r;(r=te(this,qs))==null||r.removeObserver(this),gt(this,qs,void 0),ir(this,el,up).call(this),ir(this,el,f1).call(this)}mutate(r,n){var a;return gt(this,Ko,n),(a=te(this,qs))==null||a.removeObserver(this),gt(this,qs,te(this,Ol).getMutationCache().build(te(this,Ol),this.options)),te(this,qs).addObserver(this),te(this,qs).execute(r)}},Ol=new WeakMap,Rl=new WeakMap,qs=new WeakMap,Ko=new WeakMap,el=new WeakSet,up=function(){var n;const r=((n=te(this,qs))==null?void 0:n.state)??CU();gt(this,Rl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},f1=function(r){Un.batch(()=>{var n,a,i,o,l,A,c,d;if(te(this,Ko)&&this.hasListeners()){const u=te(this,Rl).variables,f=te(this,Rl).context;(r==null?void 0:r.type)==="success"?((a=(n=te(this,Ko)).onSuccess)==null||a.call(n,r.data,u,f),(o=(i=te(this,Ko)).onSettled)==null||o.call(i,r.data,null,u,f)):(r==null?void 0:r.type)==="error"&&((A=(l=te(this,Ko)).onError)==null||A.call(l,r.error,u,f),(d=(c=te(this,Ko)).onSettled)==null||d.call(c,void 0,r.error,u,f))}this.listeners.forEach(u=>{u(te(this,Rl))})})},qS),eo,YS,k9=(YS=class extends Lu{constructor(t={}){super();Ut(this,eo);this.config=t,gt(this,eo,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??yC(a,r);let o=this.get(i);return o||(o=new C9({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){te(this,eo).has(t.queryHash)||(te(this,eo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,eo).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,eo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Un.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,eo).get(t)}getAll(){return[...te(this,eo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>NN(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>NN(t,n)):r}notify(t){Un.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},eo=new WeakMap,YS),an,Ll,Ml,au,iu,Hl,ou,lu,JS,I9=(JS=class{constructor(e={}){Ut(this,an);Ut(this,Ll);Ut(this,Ml);Ut(this,au);Ut(this,iu);Ut(this,Hl);Ut(this,ou);Ut(this,lu);gt(this,an,e.queryCache||new k9),gt(this,Ll,e.mutationCache||new T9),gt(this,Ml,e.defaultOptions||{}),gt(this,au,new Map),gt(this,iu,new Map),gt(this,Hl,0)}mount(){zm(this,Hl)._++,te(this,Hl)===1&&(gt(this,ou,bC.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,an).onFocus())})),gt(this,lu,Zp.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,an).onOnline())})))}unmount(){var e,t;zm(this,Hl)._--,te(this,Hl)===0&&((e=te(this,ou))==null||e.call(this),gt(this,ou,void 0),(t=te(this,lu))==null||t.call(this),gt(this,lu,void 0))}isFetching(e){return te(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,Ll).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,an).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=te(this,an).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(aA(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,an).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=te(this,an).get(n.queryHash),i=a==null?void 0:a.state.data,o=f9(t,i);if(o!==void 0)return te(this,an).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Un.batch(()=>te(this,an).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,an).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,an);Un.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,an);return Un.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Un.batch(()=>te(this,an).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Is).catch(Is)}invalidateQueries(e,t={}){return Un.batch(()=>(te(this,an).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Un.batch(()=>te(this,an).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Is)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Is)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,an).build(this,t);return r.isStaleByTime(aA(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Is).catch(Is)}fetchInfiniteQuery(e){return e.behavior=eg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Is).catch(Is)}ensureInfiniteQueryData(e){return e.behavior=eg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Zp.isOnline()?te(this,Ll).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,an)}getMutationCache(){return te(this,Ll)}getDefaultOptions(){return te(this,Ml)}setDefaultOptions(e){gt(this,Ml,e)}setQueryDefaults(e,t){te(this,au).set(gc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,au).values()],r={};return t.forEach(n=>{Eh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){te(this,iu).set(gc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,iu).values()],r={};return t.forEach(n=>{Eh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,Ml).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,Ml).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,an).clear(),te(this,Ll).clear()}},an=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,au=new WeakMap,iu=new WeakMap,Hl=new WeakMap,ou=new WeakMap,lu=new WeakMap,JS),BU=v.createContext(void 0),Mu=e=>{const t=v.useContext(BU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},U9=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(BU.Provider,{value:e,children:t})),jU=v.createContext(!1),Q9=()=>v.useContext(jU);jU.Provider;function D9(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var P9=v.createContext(D9()),O9=()=>v.useContext(P9),R9=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},L9=e=>{v.useEffect(()=>{e.clearReset()},[e])},M9=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||mU(r,[e.error,n])),H9=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},K9=(e,t)=>e.isLoading&&e.isFetching&&!t,V9=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,IN=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function NU(e,t,r){var u,f,m,p,h;const n=Q9(),a=O9(),i=Mu(),o=i.defaultQueryOptions(e);(f=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=n?"isRestoring":"optimistic",H9(o),R9(o,a),L9(a);const l=!i.getQueryCache().get(o.queryHash),[A]=v.useState(()=>new t(i,o)),c=A.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const y=d?A.subscribe(Un.batchCalls(x)):Is;return A.updateResult(),y},[A,d]),()=>A.getCurrentResult(),()=>A.getCurrentResult()),v.useEffect(()=>{A.setOptions(o)},[o,A]),V9(o,c))throw IN(o,A,a);if(M9({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,c),o.experimental_prefetchInRender&&!pc&&K9(c,n)){const x=l?IN(o,A,a):(h=i.getQueryCache().get(o.queryHash))==null?void 0:h.promise;x==null||x.catch(Is).finally(()=>{A.updateResult()})}return o.notifyOnChangeProps?c:A.trackResult(c)}function Je(e,t){return NU(e,yU)}function Ct(e,t){const r=Mu(),[n]=v.useState(()=>new _9(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Un.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(Is)},[n]);if(a.error&&mU(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function EU(e,t){return NU(e,S9)}async function SU(e){if(!e.ok){const t=e.headers.get("content-type");if(t&&t.includes("application/json"))try{const r=await e.json();throw new Error(r.message||e.statusText)}catch{throw new Error(e.statusText)}else try{const r=await e.text();throw new Error(r||e.statusText)}catch{throw new Error(e.statusText)}}}async function Ne(e,t,r){const n=localStorage.getItem("authToken"),a={};r&&(a["Content-Type"]="application/json"),n&&(a.Authorization=`Bearer ${n}`);const i=await fetch(t,{method:e,headers:a,body:r?JSON.stringify(r):void 0,credentials:"include"});return await SU(i),i}const $9=({on401:e})=>async({queryKey:t})=>{const r=localStorage.getItem("authToken"),n={};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(t.join("/"),{headers:n,credentials:"include"});return await SU(a),await a.json()},Ee=new I9({defaultOptions:{queries:{queryFn:$9({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),G9=1,W9=5e3;let ry=0;function z9(){return ry=(ry+1)%Number.MAX_SAFE_INTEGER,ry.toString()}const ny=new Map,UN=e=>{if(ny.has(e))return;const t=setTimeout(()=>{ny.delete(e),Xf({type:"REMOVE_TOAST",toastId:e})},W9);ny.set(e,t)},X9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,G9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?UN(r):e.toasts.forEach(n=>{UN(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},fp=[];let hp={toasts:[]};function Xf(e){hp=X9(hp,e),fp.forEach(t=>{t(hp)})}function Do({...e}){const t=z9(),r=a=>Xf({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Xf({type:"DISMISS_TOAST",toastId:t});return Xf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function On(){const[e,t]=v.useState(hp);return v.useEffect(()=>(fp.push(t),()=>{const r=fp.indexOf(t);r>-1&&fp.splice(r,1)}),[e]),{...e,toast:Do,dismiss:r=>Xf({type:"DISMISS_TOAST",toastId:r})}}function nt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function QN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gx(...e){return t=>{let r=!1;const n=e.map(a=>{const i=QN(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():QN(e[a],null)}}}}function cr(...e){return v.useCallback(gx(...e),e)}function q9(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,A=v.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:A,children:o})};n.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Ws(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),A=r.length;r=[...r,o];const c=u=>{var y;const{scope:f,children:m,...p}=u,h=((y=f==null?void 0:f[e])==null?void 0:y[A])||l,x=v.useMemo(()=>p,Object.values(p));return s.jsx(h.Provider,{value:x,children:m})};c.displayName=i+"Provider";function d(u,f){var h;const m=((h=f==null?void 0:f[e])==null?void 0:h[A])||l,p=v.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[c,d]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return a.scopeName=e,[n,Y9(a,...t)]}function Y9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:c})=>{const u=A(i)[`__scope${c}`];return{...l,...u}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function dA(e){const t=J9(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),A=l.find(Z9);if(A){const c=A.props.children,d=l.map(u=>u===A?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:u);return s.jsx(t,{...o,ref:a,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Oc=dA("Slot");function J9(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=t7(a),l=e7(i,a.props);return a.type!==v.Fragment&&(l.ref=n?gx(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FU=Symbol("radix.slottable");function TU(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=FU,t}function Z9(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FU}function e7(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const A=i(...l);return a(...l),A}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function t7(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xx(e){const t=e+"CollectionProvider",[r,n]=Ws(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:x,children:y}=h,g=Xt.useRef(null),w=Xt.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:w,collectionRef:g,children:y})};o.displayName=t;const l=e+"CollectionSlot",A=dA(l),c=Xt.forwardRef((h,x)=>{const{scope:y,children:g}=h,w=i(l,y),b=cr(x,w.collectionRef);return s.jsx(A,{ref:b,children:g})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=dA(d),m=Xt.forwardRef((h,x)=>{const{scope:y,children:g,...w}=h,b=Xt.useRef(null),C=cr(x,b),N=i(d,y);return Xt.useEffect(()=>(N.itemMap.set(b,{ref:b,...w}),()=>void N.itemMap.delete(b))),s.jsx(f,{[u]:"",ref:C,children:g})});m.displayName=d;function p(h){const x=i(e+"CollectionConsumer",h);return Xt.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((N,B)=>w.indexOf(N.ref.current)-w.indexOf(B.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},p,n]}var r7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=r7.reduce((e,t)=>{const r=dA(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,A=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(A,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BC(e,t){e&&Pc.flushSync(()=>e.dispatchEvent(t))}function Hs(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function n7(e,t=globalThis==null?void 0:globalThis.document){const r=Hs(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var s7="DismissableLayer",h1="dismissableLayer.update",a7="dismissableLayer.pointerDownOutside",i7="dismissableLayer.focusOutside",DN,_U=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,c=v.useContext(_U),[d,u]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),p=cr(t,B=>u(B)),h=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=h.indexOf(x),g=d?h.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,b=g>=y,C=l7(B=>{const F=B.target,E=[...c.branches].some(U=>U.contains(F));!b||E||(a==null||a(B),o==null||o(B),B.defaultPrevented||l==null||l())},f),N=A7(B=>{const F=B.target;[...c.branches].some(U=>U.contains(F))||(i==null||i(B),o==null||o(B),B.defaultPrevented||l==null||l())},f);return n7(B=>{g===c.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},f),v.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(DN=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),PN(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=DN)}},[d,f,r,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),PN())},[d,c]),v.useEffect(()=>{const B=()=>m({});return document.addEventListener(h1,B),()=>document.removeEventListener(h1,B)},[]),s.jsx(kt.div,{...A,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:nt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:nt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:nt(e.onPointerDownCapture,C.onPointerDownCapture)})});Rc.displayName=s7;var o7="DismissableLayerBranch",kU=v.forwardRef((e,t)=>{const r=v.useContext(_U),n=v.useRef(null),a=cr(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(kt.div,{...e,ref:a})});kU.displayName=o7;function l7(e,t=globalThis==null?void 0:globalThis.document){const r=Hs(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let A=function(){IU(a7,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=A,t.addEventListener("click",a.current,{once:!0})):A()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function A7(e,t=globalThis==null?void 0:globalThis.document){const r=Hs(e),n=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!n.current&&IU(i7,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function PN(){const e=new CustomEvent(h1);document.dispatchEvent(e)}function IU(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?BC(a,i):a.dispatchEvent(i)}var c7=Rc,d7=kU,Sn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},u7="Portal",Hu=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=v.useState(!1);Sn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?QK.createPortal(s.jsx(kt.div,{...n,ref:t}),o):null});Hu.displayName=u7;function f7(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var pa=e=>{const{present:t,children:r}=e,n=h7(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=cr(n.ref,m7(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:i}):null};pa.displayName="Presence";function h7(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,A]=f7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=f0(n.current);i.current=l==="mounted"?c:"none"},[l]),Sn(()=>{const c=n.current,d=a.current;if(d!==e){const f=i.current,m=f0(c);e?A("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?A("UNMOUNT"):A(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,A]),Sn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=m=>{const h=f0(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&h&&(A("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=f0(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else A("ANIMATION_END")},[t,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function f0(e){return(e==null?void 0:e.animationName)||"none"}function m7(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var p7=Nb[" useInsertionEffect ".trim().toString()]||Sn;function Qi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=g7({defaultProp:t,onChange:r}),l=e!==void 0,A=l?e:a;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const u=d.current;u!==l&&console.warn(`${n} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const c=v.useCallback(d=>{var u;if(l){const f=x7(d)?d(e):d;f!==e&&((u=o.current)==null||u.call(o,f))}else i(d)},[l,e,i,o]);return[A,c]}function g7({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return p7(()=>{i.current=t},[t]),v.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function x7(e){return typeof e=="function"}var UU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),v7="VisuallyHidden",vx=v.forwardRef((e,t)=>s.jsx(kt.span,{...e,ref:t,style:{...UU,...e.style}}));vx.displayName=v7;var y7=vx,jC="ToastProvider",[NC,w7,b7]=xx("Toast"),[QU,z0e]=Ws("Toast",[b7]),[C7,yx]=QU(jC),DU=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,A]=v.useState(null),[c,d]=v.useState(0),u=v.useRef(!1),f=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jC}\`. Expected non-empty \`string\`.`),s.jsx(NC.Provider,{scope:t,children:s.jsx(C7,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:c,viewport:l,onViewportChange:A,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};DU.displayName=jC;var PU="ToastViewport",B7=["F8"],m1="toast.viewportPause",p1="toast.viewportResume",OU=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=B7,label:a="Notifications ({hotkey})",...i}=e,o=yx(PU,r),l=w7(r),A=v.useRef(null),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=cr(t,u,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;v.useEffect(()=>{const x=y=>{var w;n.length!==0&&n.every(b=>y[b]||y.code===b)&&((w=u.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),v.useEffect(()=>{const x=A.current,y=u.current;if(p&&x&&y){const g=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(m1);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(p1);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},b=N=>{!x.contains(N.relatedTarget)&&w()},C=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",g),x.addEventListener("focusout",b),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",C),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const h=v.useCallback(({tabbingDirection:x})=>{const g=l().map(w=>{const b=w.ref.current,C=[b,...P7(b)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?g.reverse():g).flat()},[l]);return v.useEffect(()=>{const x=u.current;if(x){const y=g=>{var C,N,B;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const F=document.activeElement,E=g.shiftKey;if(g.target===x&&E){(C=c.current)==null||C.focus();return}const O=h({tabbingDirection:E?"backwards":"forwards"}),X=O.findIndex(ae=>ae===F);sy(O.slice(X+1))?g.preventDefault():E?(N=c.current)==null||N.focus():(B=d.current)==null||B.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,h]),s.jsxs(d7,{ref:A,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&s.jsx(g1,{ref:c,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"forwards"});sy(x)}}),s.jsx(NC.Slot,{scope:r,children:s.jsx(kt.ol,{tabIndex:-1,...i,ref:f})}),p&&s.jsx(g1,{ref:d,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"backwards"});sy(x)}})]})});OU.displayName=PU;var RU="ToastFocusProxy",g1=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=yx(RU,r);return s.jsx(vx,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const l=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(l))&&n()}})});g1.displayName=RU;var vm="Toast",j7="toast.swipeStart",N7="toast.swipeMove",E7="toast.swipeCancel",S7="toast.swipeEnd",LU=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,A]=Qi({prop:n,defaultProp:a??!0,onChange:i,caller:vm});return s.jsx(pa,{present:r||l,children:s.jsx(_7,{open:l,...o,ref:t,onClose:()=>A(!1),onPause:Hs(e.onPause),onResume:Hs(e.onResume),onSwipeStart:nt(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:nt(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:nt(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:nt(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),A(!1)})})})});LU.displayName=vm;var[F7,T7]=QU(vm,{onClose(){}}),_7=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:A,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:m,...p}=e,h=yx(vm,r),[x,y]=v.useState(null),g=cr(t,ae=>y(ae)),w=v.useRef(null),b=v.useRef(null),C=a||h.duration,N=v.useRef(0),B=v.useRef(C),F=v.useRef(0),{onToastAdd:E,onToastRemove:U}=h,P=Hs(()=>{var he;(x==null?void 0:x.contains(document.activeElement))&&((he=h.viewport)==null||he.focus()),o()}),O=v.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(F.current),N.current=new Date().getTime(),F.current=window.setTimeout(P,ae))},[P]);v.useEffect(()=>{const ae=h.viewport;if(ae){const he=()=>{O(B.current),c==null||c()},q=()=>{const ne=new Date().getTime()-N.current;B.current=B.current-ne,window.clearTimeout(F.current),A==null||A()};return ae.addEventListener(m1,q),ae.addEventListener(p1,he),()=>{ae.removeEventListener(m1,q),ae.removeEventListener(p1,he)}}},[h.viewport,C,A,c,O]),v.useEffect(()=>{i&&!h.isClosePausedRef.current&&O(C)},[i,C,h.isClosePausedRef,O]),v.useEffect(()=>(E(),()=>U()),[E,U]);const X=v.useMemo(()=>x?WU(x):null,[x]);return h.viewport?s.jsxs(s.Fragment,{children:[X&&s.jsx(k7,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:X}),s.jsx(F7,{scope:r,onClose:P,children:Pc.createPortal(s.jsx(NC.ItemSlot,{scope:r,children:s.jsx(c7,{asChild:!0,onEscapeKeyDown:nt(l,()=>{h.isFocusedToastEscapeKeyDownRef.current||P(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(kt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":h.swipeDirection,...p,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:nt(e.onKeyDown,ae=>{ae.key==="Escape"&&(l==null||l(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:nt(e.onPointerDown,ae=>{ae.button===0&&(w.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:nt(e.onPointerMove,ae=>{if(!w.current)return;const he=ae.clientX-w.current.x,q=ae.clientY-w.current.y,ne=!!b.current,H=["left","right"].includes(h.swipeDirection),J=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,de=H?J(0,he):0,se=H?0:J(0,q),D=ae.pointerType==="touch"?10:2,j={x:de,y:se},k={originalEvent:ae,delta:j};ne?(b.current=j,h0(N7,u,k,{discrete:!1})):ON(j,h.swipeDirection,D)?(b.current=j,h0(j7,d,k,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(he)>D||Math.abs(q)>D)&&(w.current=null)}),onPointerUp:nt(e.onPointerUp,ae=>{const he=b.current,q=ae.target;if(q.hasPointerCapture(ae.pointerId)&&q.releasePointerCapture(ae.pointerId),b.current=null,w.current=null,he){const ne=ae.currentTarget,H={originalEvent:ae,delta:he};ON(he,h.swipeDirection,h.swipeThreshold)?h0(S7,m,H,{discrete:!0}):h0(E7,f,H,{discrete:!0}),ne.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),k7=e=>{const{__scopeToast:t,children:r,...n}=e,a=yx(vm,t),[i,o]=v.useState(!1),[l,A]=v.useState(!1);return Q7(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>A(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:s.jsx(Hu,{asChild:!0,children:s.jsx(vx,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},I7="ToastTitle",MU=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(kt.div,{...n,ref:t})});MU.displayName=I7;var U7="ToastDescription",HU=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(kt.div,{...n,ref:t})});HU.displayName=U7;var KU="ToastAction",VU=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(GU,{altText:r,asChild:!0,children:s.jsx(EC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${KU}\`. Expected non-empty \`string\`.`),null)});VU.displayName=KU;var $U="ToastClose",EC=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=T7($U,r);return s.jsx(GU,{asChild:!0,children:s.jsx(kt.button,{type:"button",...n,ref:t,onClick:nt(e.onClick,a.onClose)})})});EC.displayName=$U;var GU=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function WU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),D7(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...WU(n))}}),t}function h0(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?BC(a,i):a.dispatchEvent(i)}var ON=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Q7(e=()=>{}){const t=Hs(e);Sn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function D7(e){return e.nodeType===e.ELEMENT_NODE}function P7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sy(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var O7=DU,zU=OU,XU=LU,qU=MU,YU=HU,JU=VU,ZU=EC;function eQ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=eQ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tQ(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=eQ(e))&&(n&&(n+=" "),n+=t);return n}const RN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,LN=tQ,Lc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return LN(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(c=>{const d=r==null?void 0:r[c],u=i==null?void 0:i[c];if(d===null)return null;const f=RN(d)||RN(u);return a[c][f]}),l=r&&Object.entries(r).reduce((c,d)=>{let[u,f]=d;return f===void 0||(c[u]=f),c},{}),A=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:u,className:f,...m}=d;return Object.entries(m).every(p=>{let[h,x]=p;return Array.isArray(x)?x.includes({...i,...l}[h]):{...i,...l}[h]===x})?[...c,u,f]:c},[]);return LN(e,o,A,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rQ=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},A)=>v.createElement("svg",{ref:A,...L7,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:rQ("lucide",a),...l},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(e,t)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement(M7,{ref:i,iconNode:t,className:rQ(`lucide-${R7(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=lt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=lt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=lt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=lt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=lt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=lt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=lt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=lt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=lt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=lt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=lt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=lt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=lt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=lt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=lt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=lt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=lt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=lt("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=lt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=lt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=lt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=lt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=lt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=lt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=lt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=lt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=lt("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=lt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=lt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=lt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=lt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=lt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=lt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=lt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=lt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=lt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=lt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=lt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=lt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=lt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=lt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=lt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=lt("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=lt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=lt("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=lt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=lt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=lt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=lt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=lt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=lt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=lt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),TC="-",uV=e=>{const t=hV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(TC);return l[0]===""&&l.length!==1&&l.shift(),dQ(l,t)||fV(o)},getConflictingClassGroupIds:(o,l)=>{const A=r[o]||[];return l&&n[o]?[...A,...n[o]]:A}}},dQ=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?dQ(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(TC);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},KN=/^\[(.+)\]$/,fV=e=>{if(KN.test(e)){const t=KN.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hV=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pV(Object.entries(e.classGroups),r).forEach(([i,o])=>{b1(o,n,i,t)}),n},b1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:VN(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(mV(a)){b1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{b1(o,VN(t,i),r,n)})})},VN=(e,t)=>{let r=e;return t.split(TC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mV=e=>e.isThemeGetter,pV=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,gV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},uQ="!",xV=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const A=[];let c=0,d=0,u;for(let x=0;x<l.length;x++){let y=l[x];if(c===0){if(y===a&&(n||l.slice(x,x+i)===t)){A.push(l.slice(d,x)),d=x+i;continue}if(y==="/"){u=x;continue}}y==="["?c++:y==="]"&&c--}const f=A.length===0?l:l.substring(d),m=f.startsWith(uQ),p=m?f.substring(1):f,h=u&&u>d?u-d:void 0;return{modifiers:A,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:h}};return r?l=>r({className:l,parseClassName:o}):o},vV=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},yV=e=>({cache:gV(e.cacheSize),parseClassName:xV(e),...uV(e)}),wV=/\s+/,bV=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(wV);let l="";for(let A=o.length-1;A>=0;A-=1){const c=o[A],{modifiers:d,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:m}=r(c);let p=!!m,h=n(p?f.substring(0,m):f);if(!h){if(!p){l=c+(l.length>0?" "+l:l);continue}if(h=n(f),!h){l=c+(l.length>0?" "+l:l);continue}p=!1}const x=vV(d).join(":"),y=u?x+uQ:x,g=y+h;if(i.includes(g))continue;i.push(g);const w=a(h,p);for(let b=0;b<w.length;++b){const C=w[b];i.push(y+C)}l=c+(l.length>0?" "+l:l)}return l};function CV(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fQ(t))&&(n&&(n+=" "),n+=r);return n}const fQ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fQ(e[n]))&&(r&&(r+=" "),r+=t);return r};function BV(e,...t){let r,n,a,i=o;function o(A){const c=t.reduce((d,u)=>u(d),e());return r=yV(c),n=r.cache.get,a=r.cache.set,i=l,l(A)}function l(A){const c=n(A);if(c)return c;const d=bV(A,r);return a(A,d),d}return function(){return i(CV.apply(null,arguments))}}const Kr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hQ=/^\[(?:([a-z-]+):)?(.+)\]$/i,jV=/^\d+\/\d+$/,NV=new Set(["px","full","screen"]),EV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_V=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,To=e=>Rd(e)||NV.has(e)||jV.test(e),xl=e=>Ku(e,"length",RV),Rd=e=>!!e&&!Number.isNaN(Number(e)),ay=e=>Ku(e,"number",Rd),df=e=>!!e&&Number.isInteger(Number(e)),kV=e=>e.endsWith("%")&&Rd(e.slice(0,-1)),nr=e=>hQ.test(e),vl=e=>EV.test(e),IV=new Set(["length","size","percentage"]),UV=e=>Ku(e,IV,mQ),QV=e=>Ku(e,"position",mQ),DV=new Set(["image","url"]),PV=e=>Ku(e,DV,MV),OV=e=>Ku(e,"",LV),uf=()=>!0,Ku=(e,t,r)=>{const n=hQ.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},RV=e=>SV.test(e)&&!FV.test(e),mQ=()=>!1,LV=e=>TV.test(e),MV=e=>_V.test(e),HV=()=>{const e=Kr("colors"),t=Kr("spacing"),r=Kr("blur"),n=Kr("brightness"),a=Kr("borderColor"),i=Kr("borderRadius"),o=Kr("borderSpacing"),l=Kr("borderWidth"),A=Kr("contrast"),c=Kr("grayscale"),d=Kr("hueRotate"),u=Kr("invert"),f=Kr("gap"),m=Kr("gradientColorStops"),p=Kr("gradientColorStopPositions"),h=Kr("inset"),x=Kr("margin"),y=Kr("opacity"),g=Kr("padding"),w=Kr("saturate"),b=Kr("scale"),C=Kr("sepia"),N=Kr("skew"),B=Kr("space"),F=Kr("translate"),E=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",nr,t],O=()=>[nr,t],X=()=>["",To,xl],ae=()=>["auto",Rd,nr],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",nr],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Rd,nr];return{cacheSize:500,separator:":",theme:{colors:[uf],spacing:[To,xl],blur:["none","",vl,nr],brightness:se(),borderColor:[e],borderRadius:["none","","full",vl,nr],borderSpacing:O(),borderWidth:X(),contrast:se(),grayscale:J(),hueRotate:se(),invert:J(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[kV,xl],inset:P(),margin:P(),opacity:se(),padding:O(),saturate:se(),scale:se(),sepia:J(),skew:se(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",nr]}],container:["container"],columns:[{columns:[vl]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),nr]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",df,nr]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nr]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",df,nr]}],"grid-cols":[{"grid-cols":[uf]}],"col-start-end":[{col:["auto",{span:["full",df,nr]},nr]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[uf]}],"row-start-end":[{row:["auto",{span:[df,nr]},nr]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nr,t]}],"min-w":[{"min-w":[nr,t,"min","max","fit"]}],"max-w":[{"max-w":[nr,t,"none","full","min","max","fit","prose",{screen:[vl]},vl]}],h:[{h:[nr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vl,xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ay]}],"font-family":[{font:[uf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nr]}],"line-clamp":[{"line-clamp":["none",Rd,ay]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",To,nr]}],"list-image":[{"list-image":["none",nr]}],"list-style-type":[{list:["none","disc","decimal",nr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",To,xl]}],"underline-offset":[{"underline-offset":["auto",To,nr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),QV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:q()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[To,nr]}],"outline-w":[{outline:[To,xl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[To,xl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vl,OV]}],"shadow-color":[{shadow:[uf]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[A]}],"drop-shadow":[{"drop-shadow":["","none",vl,nr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[A]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nr]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",nr]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",nr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[df,nr]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[To,xl,ay]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KV=BV(HV);function De(...e){return KV(tQ(e))}const VV=O7,pQ=v.forwardRef(({className:e,...t},r)=>s.jsx(zU,{ref:r,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pQ.displayName=zU.displayName;const $V=Lc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gQ=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(XU,{ref:n,className:De($V({variant:t}),e),...r}));gQ.displayName=XU.displayName;const GV=v.forwardRef(({className:e,...t},r)=>s.jsx(JU,{ref:r,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));GV.displayName=JU.displayName;const xQ=v.forwardRef(({className:e,...t},r)=>s.jsx(ZU,{ref:r,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(al,{className:"h-4 w-4"})}));xQ.displayName=ZU.displayName;const vQ=v.forwardRef(({className:e,...t},r)=>s.jsx(qU,{ref:r,className:De("text-sm font-semibold",e),...t}));vQ.displayName=qU.displayName;const yQ=v.forwardRef(({className:e,...t},r)=>s.jsx(YU,{ref:r,className:De("text-sm opacity-90",e),...t}));yQ.displayName=YU.displayName;function WV(){const{toasts:e}=On();return s.jsxs(VV,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(gQ,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(vQ,{children:r}),n&&s.jsx(yQ,{children:n})]}),a,s.jsx(xQ,{})]},t)}),s.jsx(pQ,{})]})}var zV=Nb[" useId ".trim().toString()]||(()=>{}),XV=0;function ti(e){const[t,r]=v.useState(zV());return Sn(()=>{r(n=>n??String(XV++))},[e]),t?`radix-${t}`:""}const qV=["top","right","bottom","left"],hA=Math.min,Ba=Math.max,ng=Math.round,p0=Math.floor,uo=e=>({x:e,y:e}),YV={left:"right",right:"left",bottom:"top",top:"bottom"},JV={start:"end",end:"start"};function C1(e,t,r){return Ba(e,hA(t,r))}function il(e,t){return typeof e=="function"?e(t):e}function ol(e){return e.split("-")[0]}function Vu(e){return e.split("-")[1]}function _C(e){return e==="x"?"y":"x"}function kC(e){return e==="y"?"height":"width"}const ZV=new Set(["top","bottom"]);function no(e){return ZV.has(ol(e))?"y":"x"}function IC(e){return _C(no(e))}function e$(e,t,r){r===void 0&&(r=!1);const n=Vu(e),a=IC(e),i=kC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=sg(o)),[o,sg(o)]}function t$(e){const t=sg(e);return[B1(e),t,B1(t)]}function B1(e){return e.replace(/start|end/g,t=>JV[t])}const $N=["left","right"],GN=["right","left"],r$=["top","bottom"],n$=["bottom","top"];function s$(e,t,r){switch(e){case"top":case"bottom":return r?t?GN:$N:t?$N:GN;case"left":case"right":return t?r$:n$;default:return[]}}function a$(e,t,r,n){const a=Vu(e);let i=s$(ol(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(B1)))),i}function sg(e){return e.replace(/left|right|bottom|top/g,t=>YV[t])}function i$(e){return{top:0,right:0,bottom:0,left:0,...e}}function wQ(e){return typeof e!="number"?i$(e):{top:e,right:e,bottom:e,left:e}}function ag(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function WN(e,t,r){let{reference:n,floating:a}=e;const i=no(t),o=IC(t),l=kC(o),A=ol(t),c=i==="y",d=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let m;switch(A){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:u};break;case"left":m={x:n.x-a.width,y:u};break;default:m={x:n.x,y:n.y}}switch(Vu(t)){case"start":m[o]-=f*(r&&c?-1:1);break;case"end":m[o]+=f*(r&&c?-1:1);break}return m}const o$=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=WN(c,n,A),f=n,m={},p=0;for(let h=0;h<l.length;h++){const{name:x,fn:y}=l[h],{x:g,y:w,data:b,reset:C}=await y({x:d,y:u,initialPlacement:n,placement:f,strategy:a,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=g??d,u=w??u,m={...m,[x]:{...m[x],...b}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:d,y:u}=WN(c,f,A)),h=-1)}return{x:d,y:u,placement:f,strategy:a,middlewareData:m}};async function _h(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:m=0}=il(t,e),p=wQ(m),x=l[f?u==="floating"?"reference":"floating":u],y=ag(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:A})),g=u==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=ag(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:A}):g);return{top:(y.top-C.top+p.top)/b.y,bottom:(C.bottom-y.bottom+p.bottom)/b.y,left:(y.left-C.left+p.left)/b.x,right:(C.right-y.right+p.right)/b.x}}const l$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:A}=t,{element:c,padding:d=0}=il(e,t)||{};if(c==null)return{};const u=wQ(d),f={x:r,y:n},m=IC(a),p=kC(m),h=await o.getDimensions(c),x=m==="y",y=x?"top":"left",g=x?"bottom":"right",w=x?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[m]-f[m]-i.floating[p],C=f[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let B=N?N[w]:0;(!B||!await(o.isElement==null?void 0:o.isElement(N)))&&(B=l.floating[w]||i.floating[p]);const F=b/2-C/2,E=B/2-h[p]/2-1,U=hA(u[y],E),P=hA(u[g],E),O=U,X=B-h[p]-P,ae=B/2-h[p]/2+F,he=C1(O,ae,X),q=!A.arrow&&Vu(a)!=null&&ae!==he&&i.reference[p]/2-(ae<O?U:P)-h[p]/2<0,ne=q?ae<O?ae-O:ae-X:0;return{[m]:f[m]+ne,data:{[m]:he,centerOffset:ae-he-ne,...q&&{alignmentOffset:ne}},reset:q}}}),A$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...x}=il(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ol(a),g=no(l),w=ol(l)===l,b=await(A.isRTL==null?void 0:A.isRTL(c.floating)),C=f||(w||!h?[sg(l)]:t$(l)),N=p!=="none";!f&&N&&C.push(...a$(l,h,p,b));const B=[l,...C],F=await _h(t,x),E=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&E.push(F[y]),u){const ae=e$(a,o,b);E.push(F[ae[0]],F[ae[1]])}if(U=[...U,{placement:a,overflows:E}],!E.every(ae=>ae<=0)){var P,O;const ae=(((P=i.flip)==null?void 0:P.index)||0)+1,he=B[ae];if(he&&(!(u==="alignment"?g!==no(he):!1)||U.every(H=>no(H.placement)===g?H.overflows[0]>0:!0)))return{data:{index:ae,overflows:U},reset:{placement:he}};let q=(O=U.filter(ne=>ne.overflows[0]<=0).sort((ne,H)=>ne.overflows[1]-H.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(m){case"bestFit":{var X;const ne=(X=U.filter(H=>{if(N){const J=no(H.placement);return J===g||J==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(J=>J>0).reduce((J,de)=>J+de,0)]).sort((H,J)=>H[1]-J[1])[0])==null?void 0:X[0];ne&&(q=ne);break}case"initialPlacement":q=l;break}if(a!==q)return{reset:{placement:q}}}return{}}}};function zN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function XN(e){return qV.some(t=>e[t]>=0)}const c$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=il(e,t);switch(n){case"referenceHidden":{const i=await _h(t,{...a,elementContext:"reference"}),o=zN(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XN(o)}}}case"escaped":{const i=await _h(t,{...a,altBoundary:!0}),o=zN(i,r.floating);return{data:{escapedOffsets:o,escaped:XN(o)}}}default:return{}}}}},bQ=new Set(["left","top"]);async function d$(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ol(r),l=Vu(r),A=no(r)==="y",c=bQ.has(o)?-1:1,d=i&&A?-1:1,u=il(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),A?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const u$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,A=await d$(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+A.x,y:i+A.y,data:{...A,placement:o}}}}},f$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:g}=x;return{x:y,y:g}}},...A}=il(e,t),c={x:r,y:n},d=await _h(t,A),u=no(ol(a)),f=_C(u);let m=c[f],p=c[u];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=m+d[x],w=m-d[y];m=C1(g,m,w)}if(o){const x=u==="y"?"top":"left",y=u==="y"?"bottom":"right",g=p+d[x],w=p-d[y];p=C1(g,p,w)}const h=l.fn({...t,[f]:m,[u]:p});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[f]:i,[u]:o}}}}}},h$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:A=!0,crossAxis:c=!0}=il(e,t),d={x:r,y:n},u=no(a),f=_C(u);let m=d[f],p=d[u];const h=il(l,t),x=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(A){const w=f==="y"?"height":"width",b=i.reference[f]-i.floating[w]+x.mainAxis,C=i.reference[f]+i.reference[w]-x.mainAxis;m<b?m=b:m>C&&(m=C)}if(c){var y,g;const w=f==="y"?"width":"height",b=bQ.has(ol(a)),C=i.reference[u]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[u])||0)+(b?0:x.crossAxis),N=i.reference[u]+i.reference[w]+(b?0:((g=o.offset)==null?void 0:g[u])||0)-(b?x.crossAxis:0);p<C?p=C:p>N&&(p=N)}return{[f]:m,[u]:p}}}},m$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:A=()=>{},...c}=il(e,t),d=await _h(t,c),u=ol(a),f=Vu(a),m=no(a)==="y",{width:p,height:h}=i.floating;let x,y;u==="top"||u==="bottom"?(x=u,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=u,x=f==="end"?"top":"bottom");const g=h-d.top-d.bottom,w=p-d.left-d.right,b=hA(h-d[x],g),C=hA(p-d[y],w),N=!t.middlewareData.shift;let B=b,F=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(F=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(B=g),N&&!f){const U=Ba(d.left,0),P=Ba(d.right,0),O=Ba(d.top,0),X=Ba(d.bottom,0);m?F=p-2*(U!==0||P!==0?U+P:Ba(d.left,d.right)):B=h-2*(O!==0||X!==0?O+X:Ba(d.top,d.bottom))}await A({...t,availableWidth:F,availableHeight:B});const E=await o.getDimensions(l.floating);return p!==E.width||h!==E.height?{reset:{rects:!0}}:{}}}};function Cx(){return typeof window<"u"}function $u(e){return CQ(e)?(e.nodeName||"").toLowerCase():"#document"}function Ta(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jo(e){var t;return(t=(CQ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function CQ(e){return Cx()?e instanceof Node||e instanceof Ta(e).Node:!1}function Di(e){return Cx()?e instanceof Element||e instanceof Ta(e).Element:!1}function yo(e){return Cx()?e instanceof HTMLElement||e instanceof Ta(e).HTMLElement:!1}function qN(e){return!Cx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ta(e).ShadowRoot}const p$=new Set(["inline","contents"]);function ym(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Pi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!p$.has(a)}const g$=new Set(["table","td","th"]);function x$(e){return g$.has($u(e))}const v$=[":popover-open",":modal"];function Bx(e){return v$.some(t=>{try{return e.matches(t)}catch{return!1}})}const y$=["transform","translate","scale","rotate","perspective"],w$=["transform","translate","scale","rotate","perspective","filter"],b$=["paint","layout","strict","content"];function UC(e){const t=QC(),r=Di(e)?Pi(e):e;return y$.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||w$.some(n=>(r.willChange||"").includes(n))||b$.some(n=>(r.contain||"").includes(n))}function C$(e){let t=mA(e);for(;yo(t)&&!yu(t);){if(UC(t))return t;if(Bx(t))return null;t=mA(t)}return null}function QC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const B$=new Set(["html","body","#document"]);function yu(e){return B$.has($u(e))}function Pi(e){return Ta(e).getComputedStyle(e)}function jx(e){return Di(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mA(e){if($u(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qN(e)&&e.host||jo(e);return qN(t)?t.host:t}function BQ(e){const t=mA(e);return yu(t)?e.ownerDocument?e.ownerDocument.body:e.body:yo(t)&&ym(t)?t:BQ(t)}function kh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=BQ(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ta(a);if(i){const l=j1(o);return t.concat(o,o.visualViewport||[],ym(a)?a:[],l&&r?kh(l):[])}return t.concat(a,kh(a,[],r))}function j1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jQ(e){const t=Pi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=yo(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=ng(r)!==i||ng(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function DC(e){return Di(e)?e:e.contextElement}function Ld(e){const t=DC(e);if(!yo(t))return uo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=jQ(t);let o=(i?ng(r.width):r.width)/n,l=(i?ng(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const j$=uo(0);function NQ(e){const t=Ta(e);return!QC()||!t.visualViewport?j$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function N$(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ta(e)?!1:t}function wc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=DC(e);let o=uo(1);t&&(n?Di(n)&&(o=Ld(n)):o=Ld(e));const l=N$(i,r,n)?NQ(i):uo(0);let A=(a.left+l.x)/o.x,c=(a.top+l.y)/o.y,d=a.width/o.x,u=a.height/o.y;if(i){const f=Ta(i),m=n&&Di(n)?Ta(n):n;let p=f,h=j1(p);for(;h&&n&&m!==p;){const x=Ld(h),y=h.getBoundingClientRect(),g=Pi(h),w=y.left+(h.clientLeft+parseFloat(g.paddingLeft))*x.x,b=y.top+(h.clientTop+parseFloat(g.paddingTop))*x.y;A*=x.x,c*=x.y,d*=x.x,u*=x.y,A+=w,c+=b,p=Ta(h),h=j1(p)}}return ag({width:d,height:u,x:A,y:c})}function Nx(e,t){const r=jx(e).scrollLeft;return t?t.left+r:wc(jo(e)).left+r}function EQ(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Nx(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function E$(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=jo(n),l=t?Bx(t.floating):!1;if(n===o||l&&i)return r;let A={scrollLeft:0,scrollTop:0},c=uo(1);const d=uo(0),u=yo(n);if((u||!u&&!i)&&(($u(n)!=="body"||ym(o))&&(A=jx(n)),yo(n))){const m=wc(n);c=Ld(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const f=o&&!u&&!i?EQ(o,A):uo(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-A.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-A.scrollTop*c.y+d.y+f.y}}function S$(e){return Array.from(e.getClientRects())}function F$(e){const t=jo(e),r=jx(e),n=e.ownerDocument.body,a=Ba(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ba(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Nx(e);const l=-r.scrollTop;return Pi(n).direction==="rtl"&&(o+=Ba(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const YN=25;function T$(e,t){const r=Ta(e),n=jo(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,A=0;if(a){i=a.width,o=a.height;const d=QC();(!d||d&&t==="fixed")&&(l=a.offsetLeft,A=a.offsetTop)}const c=Nx(n);if(c<=0){const d=n.ownerDocument,u=d.body,f=getComputedStyle(u),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(n.clientWidth-u.clientWidth-m);p<=YN&&(i-=p)}else c<=YN&&(i+=c);return{width:i,height:o,x:l,y:A}}const _$=new Set(["absolute","fixed"]);function k$(e,t){const r=wc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=yo(e)?Ld(e):uo(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=a*i.x,c=n*i.y;return{width:o,height:l,x:A,y:c}}function JN(e,t,r){let n;if(t==="viewport")n=T$(e,r);else if(t==="document")n=F$(jo(e));else if(Di(t))n=k$(t,r);else{const a=NQ(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ag(n)}function SQ(e,t){const r=mA(e);return r===t||!Di(r)||yu(r)?!1:Pi(r).position==="fixed"||SQ(r,t)}function I$(e,t){const r=t.get(e);if(r)return r;let n=kh(e,[],!1).filter(l=>Di(l)&&$u(l)!=="body"),a=null;const i=Pi(e).position==="fixed";let o=i?mA(e):e;for(;Di(o)&&!yu(o);){const l=Pi(o),A=UC(o);!A&&l.position==="fixed"&&(a=null),(i?!A&&!a:!A&&l.position==="static"&&!!a&&_$.has(a.position)||ym(o)&&!A&&SQ(e,o))?n=n.filter(d=>d!==o):a=l,o=mA(o)}return t.set(e,n),n}function U$(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Bx(t)?[]:I$(t,this._c):[].concat(r),n],l=o[0],A=o.reduce((c,d)=>{const u=JN(t,d,a);return c.top=Ba(u.top,c.top),c.right=hA(u.right,c.right),c.bottom=hA(u.bottom,c.bottom),c.left=Ba(u.left,c.left),c},JN(t,l,a));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function Q$(e){const{width:t,height:r}=jQ(e);return{width:t,height:r}}function D$(e,t,r){const n=yo(t),a=jo(t),i=r==="fixed",o=wc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const A=uo(0);function c(){A.x=Nx(a)}if(n||!n&&!i)if(($u(t)!=="body"||ym(a))&&(l=jx(t)),n){const m=wc(t,!0,i,t);A.x=m.x+t.clientLeft,A.y=m.y+t.clientTop}else a&&c();i&&!n&&a&&c();const d=a&&!n&&!i?EQ(a,l):uo(0),u=o.left+l.scrollLeft-A.x-d.x,f=o.top+l.scrollTop-A.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function iy(e){return Pi(e).position==="static"}function ZN(e,t){if(!yo(e)||Pi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return jo(e)===r&&(r=r.ownerDocument.body),r}function FQ(e,t){const r=Ta(e);if(Bx(e))return r;if(!yo(e)){let a=mA(e);for(;a&&!yu(a);){if(Di(a)&&!iy(a))return a;a=mA(a)}return r}let n=ZN(e,t);for(;n&&x$(n)&&iy(n);)n=ZN(n,t);return n&&yu(n)&&iy(n)&&!UC(n)?r:n||C$(e)||r}const P$=async function(e){const t=this.getOffsetParent||FQ,r=this.getDimensions,n=await r(e.floating);return{reference:D$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function O$(e){return Pi(e).direction==="rtl"}const R$={convertOffsetParentRelativeRectToViewportRelativeRect:E$,getDocumentElement:jo,getClippingRect:U$,getOffsetParent:FQ,getElementRects:P$,getClientRects:S$,getDimensions:Q$,getScale:Ld,isElement:Di,isRTL:O$};function TQ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function L$(e,t){let r=null,n;const a=jo(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const c=e.getBoundingClientRect(),{left:d,top:u,width:f,height:m}=c;if(l||t(),!f||!m)return;const p=p0(u),h=p0(a.clientWidth-(d+f)),x=p0(a.clientHeight-(u+m)),y=p0(d),w={rootMargin:-p+"px "+-h+"px "+-x+"px "+-y+"px",threshold:Ba(0,hA(1,A))||1};let b=!0;function C(N){const B=N[0].intersectionRatio;if(B!==A){if(!b)return o();B?o(!1,B):n=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!TQ(c,e.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(C,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(e)}return o(!0),i}function M$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=n,c=DC(e),d=a||i?[...c?kh(c):[],...kh(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const u=c&&l?L$(c,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[g]=y;g&&g.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),c&&!A&&m.observe(c),m.observe(t));let p,h=A?wc(e):null;A&&x();function x(){const y=wc(e);h&&!TQ(h,y)&&r(),h=y,p=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),u==null||u(),(y=m)==null||y.disconnect(),m=null,A&&cancelAnimationFrame(p)}}const H$=u$,K$=f$,V$=A$,$$=m$,G$=c$,e2=l$,W$=h$,z$=(e,t,r)=>{const n=new Map,a={platform:R$,...r},i={...a.platform,_c:n};return o$(e,t,{...a,platform:i})};var X$=typeof document<"u",q$=function(){},pp=X$?v.useLayoutEffect:q$;function ig(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ig(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!ig(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _Q(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t2(e,t){const r=_Q(e);return Math.round(t*r)/r}function oy(e){const t=v.useRef(e);return pp(()=>{t.current=e}),t}function Y$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:c}=e,[d,u]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(n);ig(f,n)||m(n);const[p,h]=v.useState(null),[x,y]=v.useState(null),g=v.useCallback(H=>{H!==N.current&&(N.current=H,h(H))},[]),w=v.useCallback(H=>{H!==B.current&&(B.current=H,y(H))},[]),b=i||p,C=o||x,N=v.useRef(null),B=v.useRef(null),F=v.useRef(d),E=A!=null,U=oy(A),P=oy(a),O=oy(c),X=v.useCallback(()=>{if(!N.current||!B.current)return;const H={placement:t,strategy:r,middleware:f};P.current&&(H.platform=P.current),z$(N.current,B.current,H).then(J=>{const de={...J,isPositioned:O.current!==!1};ae.current&&!ig(F.current,de)&&(F.current=de,Pc.flushSync(()=>{u(de)}))})},[f,t,r,P,O]);pp(()=>{c===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,u(H=>({...H,isPositioned:!1})))},[c]);const ae=v.useRef(!1);pp(()=>(ae.current=!0,()=>{ae.current=!1}),[]),pp(()=>{if(b&&(N.current=b),C&&(B.current=C),b&&C){if(U.current)return U.current(b,C,X);X()}},[b,C,X,U,E]);const he=v.useMemo(()=>({reference:N,floating:B,setReference:g,setFloating:w}),[g,w]),q=v.useMemo(()=>({reference:b,floating:C}),[b,C]),ne=v.useMemo(()=>{const H={position:r,left:0,top:0};if(!q.floating)return H;const J=t2(q.floating,d.x),de=t2(q.floating,d.y);return l?{...H,transform:"translate("+J+"px, "+de+"px)",..._Q(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:de}},[r,l,q.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:X,refs:he,elements:q,floatingStyles:ne}),[d,X,he,q,ne])}const J$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?e2({element:n.current,padding:a}).fn(r):{}:n?e2({element:n,padding:a}).fn(r):{}}}},Z$=(e,t)=>({...H$(e),options:[e,t]}),eG=(e,t)=>({...K$(e),options:[e,t]}),tG=(e,t)=>({...W$(e),options:[e,t]}),rG=(e,t)=>({...V$(e),options:[e,t]}),nG=(e,t)=>({...$$(e),options:[e,t]}),sG=(e,t)=>({...G$(e),options:[e,t]}),aG=(e,t)=>({...J$(e),options:[e,t]});var iG="Arrow",kQ=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(kt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});kQ.displayName=iG;var oG=kQ;function PC(e){const[t,r]=v.useState(void 0);return Sn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,c=Array.isArray(A)?A[0]:A;o=c.inlineSize,l=c.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var OC="Popper",[IQ,EA]=Ws(OC),[lG,UQ]=IQ(OC),QQ=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return s.jsx(lG,{scope:t,anchor:n,onAnchorChange:a,children:r})};QQ.displayName=OC;var DQ="PopperAnchor",PQ=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=UQ(DQ,r),o=v.useRef(null),l=cr(t,o),A=v.useRef(null);return v.useEffect(()=>{const c=A.current;A.current=(n==null?void 0:n.current)||o.current,c!==A.current&&i.onAnchorChange(A.current)}),n?null:s.jsx(kt.div,{...a,ref:l})});PQ.displayName=DQ;var RC="PopperContent",[AG,cG]=IQ(RC),OQ=v.forwardRef((e,t)=>{var _,Z,K,re,ye,Te;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:p,...h}=e,x=UQ(RC,r),[y,g]=v.useState(null),w=cr(t,Nt=>g(Nt)),[b,C]=v.useState(null),N=PC(b),B=(N==null?void 0:N.width)??0,F=(N==null?void 0:N.height)??0,E=n+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(c)?c:[c],O=P.length>0,X={padding:U,boundary:P.filter(uG),altBoundary:O},{refs:ae,floatingStyles:he,placement:q,isPositioned:ne,middlewareData:H}=Y$({strategy:"fixed",placement:E,whileElementsMounted:(...Nt)=>M$(...Nt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Z$({mainAxis:a+F,alignmentAxis:o}),A&&eG({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?tG():void 0,...X}),A&&rG({...X}),nG({...X,apply:({elements:Nt,rects:mt,availableWidth:Vt,availableHeight:$t})=>{const{width:He,height:Tt}=mt.reference,dr=Nt.floating.style;dr.setProperty("--radix-popper-available-width",`${Vt}px`),dr.setProperty("--radix-popper-available-height",`${$t}px`),dr.setProperty("--radix-popper-anchor-width",`${He}px`),dr.setProperty("--radix-popper-anchor-height",`${Tt}px`)}}),b&&aG({element:b,padding:l}),fG({arrowWidth:B,arrowHeight:F}),f&&sG({strategy:"referenceHidden",...X})]}),[J,de]=MQ(q),se=Hs(p);Sn(()=>{ne&&(se==null||se())},[ne,se]);const D=(_=H.arrow)==null?void 0:_.x,j=(Z=H.arrow)==null?void 0:Z.y,k=((K=H.arrow)==null?void 0:K.centerOffset)!==0,[M,S]=v.useState();return Sn(()=>{y&&S(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:ne?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:M,"--radix-popper-transform-origin":[(re=H.transformOrigin)==null?void 0:re.x,(ye=H.transformOrigin)==null?void 0:ye.y].join(" "),...((Te=H.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(AG,{scope:r,placedSide:J,onArrowChange:C,arrowX:D,arrowY:j,shouldHideArrow:k,children:s.jsx(kt.div,{"data-side":J,"data-align":de,...h,ref:w,style:{...h.style,animation:ne?void 0:"none"}})})})});OQ.displayName=RC;var RQ="PopperArrow",dG={top:"bottom",right:"left",bottom:"top",left:"right"},LQ=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=cG(RQ,n),o=dG[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(oG,{...a,ref:r,style:{...a.style,display:"block"}})})});LQ.displayName=RQ;function uG(e){return e!==null}var fG=e=>({name:"transformOrigin",options:e,fn(t){var x,y,g;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[c,d]=MQ(r),u={start:"0%",center:"50%",end:"100%"}[d],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((g=a.arrow)==null?void 0:g.y)??0)+A/2;let p="",h="";return c==="bottom"?(p=o?u:`${f}px`,h=`${-A}px`):c==="top"?(p=o?u:`${f}px`,h=`${n.floating.height+A}px`):c==="right"?(p=`${-A}px`,h=o?u:`${m}px`):c==="left"&&(p=`${n.floating.width+A}px`,h=o?u:`${m}px`),{data:{x:p,y:h}}}});function MQ(e){const[t,r="center"]=e.split("-");return[t,r]}var Ex=QQ,wm=PQ,Sx=OQ,Fx=LQ,[Tx,X0e]=Ws("Tooltip",[EA]),_x=EA(),HQ="TooltipProvider",hG=700,N1="tooltip.open",[mG,LC]=Tx(HQ),KQ=e=>{const{__scopeTooltip:t,delayDuration:r=hG,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),A=v.useRef(0);return v.useEffect(()=>{const c=A.current;return()=>window.clearTimeout(c)},[]),s.jsx(mG,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(A.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(c=>{l.current=c},[]),disableHoverableContent:a,children:i})};KQ.displayName=HQ;var Ih="Tooltip",[pG,kx]=Tx(Ih),VQ=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=LC(Ih,e.__scopeTooltip),c=_x(t),[d,u]=v.useState(null),f=ti(),m=v.useRef(0),p=o??A.disableHoverableContent,h=l??A.delayDuration,x=v.useRef(!1),[y,g]=Qi({prop:n,defaultProp:a??!1,onChange:B=>{B?(A.onOpen(),document.dispatchEvent(new CustomEvent(N1))):A.onClose(),i==null||i(B)},caller:Ih}),w=v.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),b=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,g(!0)},[g]),C=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g(!1)},[g]),N=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,g(!0),m.current=0},h)},[h,g]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(Ex,{...c,children:s.jsx(pG,{scope:t,contentId:f,open:y,stateAttribute:w,trigger:d,onTriggerChange:u,onTriggerEnter:v.useCallback(()=>{A.isOpenDelayedRef.current?N():b()},[A.isOpenDelayedRef,N,b]),onTriggerLeave:v.useCallback(()=>{p?C():(window.clearTimeout(m.current),m.current=0)},[C,p]),onOpen:b,onClose:C,disableHoverableContent:p,children:r})})};VQ.displayName=Ih;var E1="TooltipTrigger",$Q=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=kx(E1,r),i=LC(E1,r),o=_x(r),l=v.useRef(null),A=cr(t,l,a.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),u=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),s.jsx(wm,{asChild:!0,...o,children:s.jsx(kt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:A,onPointerMove:nt(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:nt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:nt(e.onPointerDown,()=>{a.open&&a.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:nt(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:nt(e.onBlur,a.onClose),onClick:nt(e.onClick,a.onClose)})})});$Q.displayName=E1;var gG="TooltipPortal",[q0e,xG]=Tx(gG,{forceMount:void 0}),wu="TooltipContent",GQ=v.forwardRef((e,t)=>{const r=xG(wu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=kx(wu,e.__scopeTooltip);return s.jsx(pa,{present:n||o.open,children:o.disableHoverableContent?s.jsx(WQ,{side:a,...i,ref:t}):s.jsx(vG,{side:a,...i,ref:t})})}),vG=v.forwardRef((e,t)=>{const r=kx(wu,e.__scopeTooltip),n=LC(wu,e.__scopeTooltip),a=v.useRef(null),i=cr(t,a),[o,l]=v.useState(null),{trigger:A,onClose:c}=r,d=a.current,{onPointerInTransitChange:u}=n,f=v.useCallback(()=>{l(null),u(!1)},[u]),m=v.useCallback((p,h)=>{const x=p.currentTarget,y={x:p.clientX,y:p.clientY},g=BG(y,x.getBoundingClientRect()),w=jG(y,g),b=NG(h.getBoundingClientRect()),C=SG([...w,...b]);l(C),u(!0)},[u]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(A&&d){const p=x=>m(x,d),h=x=>m(x,A);return A.addEventListener("pointerleave",p),d.addEventListener("pointerleave",h),()=>{A.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",h)}}},[A,d,m,f]),v.useEffect(()=>{if(o){const p=h=>{const x=h.target,y={x:h.clientX,y:h.clientY},g=(A==null?void 0:A.contains(x))||(d==null?void 0:d.contains(x)),w=!EG(y,o);g?f():w&&(f(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[A,d,o,c,f]),s.jsx(WQ,{...e,ref:i})}),[yG,wG]=Tx(Ih,{isInside:!1}),bG=TU("TooltipContent"),WQ=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=kx(wu,r),c=_x(r),{onClose:d}=A;return v.useEffect(()=>(document.addEventListener(N1,d),()=>document.removeEventListener(N1,d)),[d]),v.useEffect(()=>{if(A.trigger){const u=f=>{const m=f.target;m!=null&&m.contains(A.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[A.trigger,d]),s.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:s.jsxs(Sx,{"data-state":A.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(bG,{children:n}),s.jsx(yG,{scope:r,isInside:!0,children:s.jsx(y7,{id:A.contentId,role:"tooltip",children:a||n})})]})})});GQ.displayName=wu;var zQ="TooltipArrow",CG=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_x(r);return wG(zQ,r).isInside?null:s.jsx(Fx,{...a,...n,ref:t})});CG.displayName=zQ;function BG(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function jG(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function NG(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function EG(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],A=t[o],c=l.x,d=l.y,u=A.x,f=A.y;d>n!=f>n&&r<(u-c)*(n-d)/(f-d)+c&&(a=!a)}return a}function SG(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),FG(t)}function FG(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TG=KQ,_G=VQ,kG=$Q,XQ=GQ;const MC=TG,qQ=_G,YQ=kG,HC=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(XQ,{ref:n,sideOffset:t,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));HC.displayName=XQ.displayName;const JQ=v.createContext(void 0);function IG({children:e}){const[t,r]=v.useState(()=>localStorage.getItem("theme")||"system");v.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),t==="system"){const i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(i)}else a.classList.add(t)},[t]);const n={theme:t,setTheme:a=>{localStorage.setItem("theme",a),r(a)}};return s.jsx(JQ.Provider,{value:n,children:e})}const ZQ=()=>{const e=v.useContext(JQ);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function Ns(){const{toast:e}=On(),{data:t,isLoading:r,error:n}=Je({queryKey:["/api/auth/user"],retry:!1,enabled:!!localStorage.getItem("authToken"),queryFn:async()=>{const o=localStorage.getItem("authToken");if(!o)return null;const l=await fetch("/api/auth/user",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!l.ok){if(l.status===401)return localStorage.removeItem("authToken"),null;throw new Error("Failed to fetch user")}return l.json()}}),a=Ct({mutationFn:async o=>await(await Ne("POST","/api/auth/login",o)).json(),onSuccess:o=>{var l,A;localStorage.setItem("authToken",o.token),Ee.setQueryData(["/api/auth/user"],o.user),e({title:"Success",description:"Logged in successfully!"}),((l=o.user)==null?void 0:l.role)==="admin"||(A=o.user)==null||A.role,window.location.href="/"},onError:o=>{e({title:"Login failed",description:o.message||"Invalid credentials",variant:"destructive"})}});return{user:t,isLoading:r,isAuthenticated:!!t,loginMutation:a,logout:()=>{localStorage.removeItem("authToken"),Ee.setQueryData(["/api/auth/user"],null),Ee.clear(),e({title:"Logged out",description:"You have been logged out successfully"})},error:n}}function Kt({className:e,...t}){return s.jsx("div",{className:De("animate-pulse rounded-md bg-muted",e),...t})}const Qe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qe.displayName="Card";const qe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("flex flex-col space-y-1.5 p-6",e),...t}));qe.displayName="CardHeader";const rt=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("text-2xl font-semibold leading-none tracking-tight",e),...t}));rt.displayName="CardTitle";const ys=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("text-sm text-muted-foreground",e),...t}));ys.displayName="CardDescription";const Pe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("p-6 pt-0",e),...t}));Pe.displayName="CardContent";const UG=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("flex items-center p-6 pt-0",e),...t}));UG.displayName="CardFooter";const QG=Lc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,...r}){return s.jsx("div",{className:De(QG({variant:t}),e),...r})}const Uh=Lc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Oc:"button";return s.jsx(o,{className:De(Uh({variant:t,size:r,className:e})),ref:i,...a})});oe.displayName="Button";const Fe=v.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:De("flex h-11 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 md:text-sm",e),ref:n,...r}));Fe.displayName="Input";const DG=Lc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bu=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:De(DG({variant:t}),e),...r}));bu.displayName="Alert";const PG=v.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:De("mb-1 font-medium leading-none tracking-tight",e),...t}));PG.displayName="AlertTitle";const Cu=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("text-sm [&_p]:leading-relaxed",e),...t}));Cu.displayName="AlertDescription";var ly="focusScope.autoFocusOnMount",Ay="focusScope.autoFocusOnUnmount",r2={bubbles:!1,cancelable:!0},OG="FocusScope",bm=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,A]=v.useState(null),c=Hs(a),d=Hs(i),u=v.useRef(null),f=cr(t,h=>A(h)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let h=function(w){if(m.paused||!l)return;const b=w.target;l.contains(b)?u.current=b:Cl(u.current,{select:!0})},x=function(w){if(m.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Cl(u.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&Cl(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",x);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,m.paused]),v.useEffect(()=>{if(l){s2.add(m);const h=document.activeElement;if(!l.contains(h)){const y=new CustomEvent(ly,r2);l.addEventListener(ly,c),l.dispatchEvent(y),y.defaultPrevented||(RG(VG(eD(l)),{select:!0}),document.activeElement===h&&Cl(l))}return()=>{l.removeEventListener(ly,c),setTimeout(()=>{const y=new CustomEvent(Ay,r2);l.addEventListener(Ay,d),l.dispatchEvent(y),y.defaultPrevented||Cl(h??document.body,{select:!0}),l.removeEventListener(Ay,d),s2.remove(m)},0)}}},[l,c,d,m]);const p=v.useCallback(h=>{if(!r&&!n||m.paused)return;const x=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,y=document.activeElement;if(x&&y){const g=h.currentTarget,[w,b]=LG(g);w&&b?!h.shiftKey&&y===b?(h.preventDefault(),r&&Cl(w,{select:!0})):h.shiftKey&&y===w&&(h.preventDefault(),r&&Cl(b,{select:!0})):y===g&&h.preventDefault()}},[r,n,m.paused]);return s.jsx(kt.div,{tabIndex:-1,...o,ref:f,onKeyDown:p})});bm.displayName=OG;function RG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cl(n,{select:t}),document.activeElement!==r)return}function LG(e){const t=eD(e),r=n2(t,e),n=n2(t.reverse(),e);return[r,n]}function eD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function n2(e,t){for(const r of e)if(!MG(r,{upTo:t}))return r}function MG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HG(e){return e instanceof HTMLInputElement&&"select"in e}function Cl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&HG(e)&&t&&e.select()}}var s2=KG();function KG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=a2(e,t),e.unshift(t)},remove(t){var r;e=a2(e,t),(r=e[0])==null||r.resume()}}}function a2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function VG(e){return e.filter(t=>t.tagName!=="A")}var cy=0;function Ix(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i2()),document.body.insertAdjacentElement("beforeend",e[1]??i2()),cy++,()=>{cy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cy--}},[])}function i2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ro=function(){return ro=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ro.apply(this,arguments)};function tD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function $G(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var gp="right-scroll-bar-position",xp="width-before-scroll-bar",GG="with-scroll-bars-hidden",WG="--removed-body-scroll-bar-size";function dy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zG(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var XG=typeof window<"u"?v.useLayoutEffect:v.useEffect,o2=new WeakMap;function qG(e,t){var r=zG(null,function(n){return e.forEach(function(a){return dy(a,n)})});return XG(function(){var n=o2.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||dy(l,null)}),i.forEach(function(l){a.has(l)||dy(l,o)})}o2.set(r,e)},[e]),r}function YG(e){return e}function JG(e,t){t===void 0&&(t=YG);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var A=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(A)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return a}function ZG(e){e===void 0&&(e={});var t=JG(null);return t.options=ro({async:!0,ssr:!1},e),t}var rD=function(e){var t=e.sideCar,r=tD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,ro({},r))};rD.isSideCarExport=!0;function eW(e,t){return e.useMedium(t),rD}var nD=ZG(),uy=function(){},Ux=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:uy,onWheelCapture:uy,onTouchMoveCapture:uy}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,A=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,f=e.sideCar,m=e.noRelative,p=e.noIsolation,h=e.inert,x=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,w=e.gapMode,b=tD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,N=qG([r,t]),B=ro(ro({},b),a);return v.createElement(v.Fragment,null,d&&v.createElement(C,{sideCar:nD,removeScrollBar:c,shards:u,noRelative:m,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),ro(ro({},B),{ref:N})):v.createElement(g,ro({},B,{className:A,ref:N}),l))});Ux.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ux.classNames={fullWidth:xp,zeroRight:gp};var tW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rW(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tW();return t&&e.setAttribute("nonce",t),e}function nW(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sW(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aW=function(){var e=0,t=null;return{add:function(r){e==0&&(t=rW())&&(nW(t,r),sW(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iW=function(){var e=aW();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sD=function(){var e=iW(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},oW={left:0,top:0,right:0,gap:0},fy=function(e){return parseInt(e||"",10)||0},lW=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[fy(r),fy(n),fy(a)]},AW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oW;var t=lW(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},cW=sD(),Md="data-scroll-locked",dW=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(GG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Md,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gp,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(xp,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gp," .").concat(gp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xp," .").concat(xp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Md,`] {
    `).concat(WG,": ").concat(l,`px;
  }
`)},l2=function(){var e=parseInt(document.body.getAttribute(Md)||"0",10);return isFinite(e)?e:0},uW=function(){v.useEffect(function(){return document.body.setAttribute(Md,(l2()+1).toString()),function(){var e=l2()-1;e<=0?document.body.removeAttribute(Md):document.body.setAttribute(Md,e.toString())}},[])},fW=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;uW();var i=v.useMemo(function(){return AW(a)},[a]);return v.createElement(cW,{styles:dW(i,!t,a,r?"":"!important")})},S1=!1;if(typeof window<"u")try{var g0=Object.defineProperty({},"passive",{get:function(){return S1=!0,!0}});window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{S1=!1}var Yc=S1?{passive:!1}:!1,hW=function(e){return e.tagName==="TEXTAREA"},aD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hW(e)&&r[t]==="visible")},mW=function(e){return aD(e,"overflowY")},pW=function(e){return aD(e,"overflowX")},A2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=iD(e,n);if(a){var i=oD(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gW=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},xW=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},iD=function(e,t){return e==="v"?mW(t):pW(t)},oD=function(e,t){return e==="v"?gW(t):xW(t)},vW=function(e,t){return e==="h"&&t==="rtl"?-1:1},yW=function(e,t,r,n,a){var i=vW(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,A=t.contains(l),c=!1,d=o>0,u=0,f=0;do{if(!l)break;var m=oD(e,l),p=m[0],h=m[1],x=m[2],y=h-x-i*p;(p||y)&&iD(e,l)&&(u+=y,f+=p);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!A&&l!==document.body||A&&(t.contains(l)||t===l));return(d&&Math.abs(u)<1||!d&&Math.abs(f)<1)&&(c=!0),c},x0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},c2=function(e){return[e.deltaX,e.deltaY]},d2=function(e){return e&&"current"in e?e.current:e},wW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CW=0,Jc=[];function BW(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(CW++)[0],i=v.useState(sD)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=$G([e.lockRef.current],(e.shards||[]).map(d2),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(h,x){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!o.current.allowPinchZoom;var y=x0(h),g=r.current,w="deltaX"in h?h.deltaX:g[0]-y[0],b="deltaY"in h?h.deltaY:g[1]-y[1],C,N=h.target,B=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in h&&B==="h"&&N.type==="range")return!1;var F=A2(B,N);if(!F)return!0;if(F?C=B:(C=B==="v"?"h":"v",F=A2(B,N)),!F)return!1;if(!n.current&&"changedTouches"in h&&(w||b)&&(n.current=C),!C)return!0;var E=n.current||C;return yW(E,x,h,E==="h"?w:b)},[]),A=v.useCallback(function(h){var x=h;if(!(!Jc.length||Jc[Jc.length-1]!==i)){var y="deltaY"in x?c2(x):x0(x),g=t.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&wW(C.delta,y)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(d2).filter(Boolean).filter(function(C){return C.contains(x.target)}),b=w.length>0?l(x,w[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(h,x,y,g){var w={name:h,delta:x,target:y,should:g,shadowParent:jW(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=v.useCallback(function(h){r.current=x0(h),n.current=void 0},[]),u=v.useCallback(function(h){c(h.type,c2(h),h.target,l(h,e.lockRef.current))},[]),f=v.useCallback(function(h){c(h.type,x0(h),h.target,l(h,e.lockRef.current))},[]);v.useEffect(function(){return Jc.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",A,Yc),document.addEventListener("touchmove",A,Yc),document.addEventListener("touchstart",d,Yc),function(){Jc=Jc.filter(function(h){return h!==i}),document.removeEventListener("wheel",A,Yc),document.removeEventListener("touchmove",A,Yc),document.removeEventListener("touchstart",d,Yc)}},[]);var m=e.removeScrollBar,p=e.inert;return v.createElement(v.Fragment,null,p?v.createElement(i,{styles:bW(a)}):null,m?v.createElement(fW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NW=eW(nD,BW);var Cm=v.forwardRef(function(e,t){return v.createElement(Ux,ro({},e,{ref:t,sideCar:NW}))});Cm.classNames=Ux.classNames;var EW=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zc=new WeakMap,v0=new WeakMap,y0={},hy=0,lD=function(e){return e&&(e.host||lD(e.parentNode))},SW=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=lD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},FW=function(e,t,r,n){var a=SW(t,Array.isArray(e)?e:[e]);y0[r]||(y0[r]=new WeakMap);var i=y0[r],o=[],l=new Set,A=new Set(a),c=function(u){!u||l.has(u)||(l.add(u),c(u.parentNode))};a.forEach(c);var d=function(u){!u||A.has(u)||Array.prototype.forEach.call(u.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),p=m!==null&&m!=="false",h=(Zc.get(f)||0)+1,x=(i.get(f)||0)+1;Zc.set(f,h),i.set(f,x),o.push(f),h===1&&p&&v0.set(f,!0),x===1&&f.setAttribute(r,"true"),p||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),hy++,function(){o.forEach(function(u){var f=Zc.get(u)-1,m=i.get(u)-1;Zc.set(u,f),i.set(u,m),f||(v0.has(u)||u.removeAttribute(n),v0.delete(u)),m||u.removeAttribute(r)}),hy--,hy||(Zc=new WeakMap,Zc=new WeakMap,v0=new WeakMap,y0={})}},Qx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=EW(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),FW(n,a,r,"aria-hidden")):function(){return null}},Dx="Dialog",[AD,cD]=Ws(Dx),[TW,Hi]=AD(Dx),dD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),A=v.useRef(null),[c,d]=Qi({prop:n,defaultProp:a??!1,onChange:i,caller:Dx});return s.jsx(TW,{scope:t,triggerRef:l,contentRef:A,contentId:ti(),titleId:ti(),descriptionId:ti(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(u=>!u),[d]),modal:o,children:r})};dD.displayName=Dx;var uD="DialogTrigger",fD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(uD,r),i=cr(t,a.triggerRef);return s.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$C(a.open),...n,ref:i,onClick:nt(e.onClick,a.onOpenToggle)})});fD.displayName=uD;var KC="DialogPortal",[_W,hD]=AD(KC,{forceMount:void 0}),mD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Hi(KC,t);return s.jsx(_W,{scope:t,forceMount:r,children:v.Children.map(n,o=>s.jsx(pa,{present:r||i.open,children:s.jsx(Hu,{asChild:!0,container:a,children:o})}))})};mD.displayName=KC;var og="DialogOverlay",pD=v.forwardRef((e,t)=>{const r=hD(og,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Hi(og,e.__scopeDialog);return i.modal?s.jsx(pa,{present:n||i.open,children:s.jsx(IW,{...a,ref:t})}):null});pD.displayName=og;var kW=dA("DialogOverlay.RemoveScroll"),IW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(og,r);return s.jsx(Cm,{as:kW,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(kt.div,{"data-state":$C(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),bc="DialogContent",gD=v.forwardRef((e,t)=>{const r=hD(bc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Hi(bc,e.__scopeDialog);return s.jsx(pa,{present:n||i.open,children:i.modal?s.jsx(UW,{...a,ref:t}):s.jsx(QW,{...a,ref:t})})});gD.displayName=bc;var UW=v.forwardRef((e,t)=>{const r=Hi(bc,e.__scopeDialog),n=v.useRef(null),a=cr(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return Qx(i)},[]),s.jsx(xD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:nt(e.onFocusOutside,i=>i.preventDefault())})}),QW=v.forwardRef((e,t)=>{const r=Hi(bc,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(xD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var A,c;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xD=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Hi(bc,r),A=v.useRef(null),c=cr(t,A);return Ix(),s.jsxs(s.Fragment,{children:[s.jsx(bm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Rc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$C(l.open),...o,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(PW,{titleId:l.titleId}),s.jsx(RW,{contentRef:A,descriptionId:l.descriptionId})]})]})}),VC="DialogTitle",vD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(VC,r);return s.jsx(kt.h2,{id:a.titleId,...n,ref:t})});vD.displayName=VC;var yD="DialogDescription",wD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(yD,r);return s.jsx(kt.p,{id:a.descriptionId,...n,ref:t})});wD.displayName=yD;var bD="DialogClose",CD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(bD,r);return s.jsx(kt.button,{type:"button",...n,ref:t,onClick:nt(e.onClick,()=>a.onOpenChange(!1))})});CD.displayName=bD;function $C(e){return e?"open":"closed"}var BD="DialogTitleWarning",[DW,jD]=q9(BD,{contentName:bc,titleName:VC,docsSlug:"dialog"}),PW=({titleId:e})=>{const t=jD(BD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},OW="DialogDescriptionWarning",RW=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jD(OW).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},GC=dD,ND=fD,WC=mD,Bm=pD,jm=gD,Nm=vD,Em=wD,Px=CD;const qt=GC,so=ND,LW=WC,ED=v.forwardRef(({className:e,...t},r)=>s.jsx(Bm,{ref:r,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ED.displayName=Bm.displayName;const er=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(LW,{children:[s.jsx(ED,{}),s.jsxs(jm,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100vw-2rem)] max-h-[calc(100vh-4rem)] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 shadow-lg duration-200 overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:max-w-lg sm:max-h-[80vh] sm:p-6 sm:rounded-lg",e),...r,children:[t,s.jsxs(Px,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(al,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=jm.displayName;const sr=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sr.displayName="DialogHeader";const An=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});An.displayName="DialogFooter";const ar=v.forwardRef(({className:e,...t},r)=>s.jsx(Nm,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));ar.displayName=Nm.displayName;const Or=v.forwardRef(({className:e,...t},r)=>s.jsx(Em,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));Or.displayName=Em.displayName;var Sm=e=>e.type==="checkbox",$A=e=>e instanceof Date,Us=e=>e==null;const SD=e=>typeof e=="object";var wn=e=>!Us(e)&&!Array.isArray(e)&&SD(e)&&!$A(e),FD=e=>wn(e)&&e.target?Sm(e.target)?e.target.checked:e.target.value:e,MW=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TD=(e,t)=>e.has(MW(t)),HW=e=>{const t=e.constructor&&e.constructor.prototype;return wn(t)&&t.hasOwnProperty("isPrototypeOf")},zC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(zC&&(e instanceof Blob||n))&&(r||wn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!HW(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Tn(e[a]));else return e;return t}var Ox=e=>/^\w*$/.test(e),vn=e=>e===void 0,XC=e=>Array.isArray(e)?e.filter(Boolean):[],qC=e=>XC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ct=(e,t,r)=>{if(!t||!wn(e))return r;const n=(Ox(t)?[t]:qC(t)).reduce((a,i)=>Us(a)?a:a[i],e);return vn(n)||n===e?vn(e[t])?r:e[t]:n},ba=e=>typeof e=="boolean",Nr=(e,t,r)=>{let n=-1;const a=Ox(t)?[t]:qC(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let A=r;if(n!==o){const c=e[l];A=wn(c)||Array.isArray(c)?c:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=A,e=e[l]}};const lg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_o={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},YC=Xt.createContext(null);YC.displayName="HookFormContext";const Rx=()=>Xt.useContext(YC),KW=e=>{const{children:t,...r}=e;return Xt.createElement(YC.Provider,{value:r},t)};var _D=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Bi.all&&(t._proxyFormState[o]=!n||Bi.all),r&&(r[o]=!0),e[o]}});return a};const JC=typeof window<"u"?Xt.useLayoutEffect:Xt.useEffect;function VW(e){const t=Rx(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=Xt.useState(r._formState),A=Xt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return JC(()=>r._subscribe({name:a,formState:A.current,exact:i,callback:c=>{!n&&l({...r._formState,...c})}}),[a,n,i]),Xt.useEffect(()=>{A.current.isValid&&r._setValid(!0)},[r]),Xt.useMemo(()=>_D(o,r,A.current,!1),[o,r])}var ao=e=>typeof e=="string",kD=(e,t,r,n,a)=>ao(e)?(n&&t.watch.add(e),ct(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ct(r,i))):(n&&(t.watchAll=!0),r),F1=e=>Us(e)||!SD(e);function Vo(e,t,r=new WeakSet){if(F1(e)||F1(t))return e===t;if($A(e)&&$A(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if($A(o)&&$A(l)||wn(o)&&wn(l)||Array.isArray(o)&&Array.isArray(l)?!Vo(o,l,r):o!==l)return!1}}return!0}function $W(e){const t=Rx(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},A=Xt.useRef(a),c=Xt.useRef(l),d=Xt.useRef(void 0);c.current=l;const u=Xt.useMemo(()=>r._getWatch(n,A.current),[r,n]),[f,m]=Xt.useState(c.current?c.current(u):u);return JC(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:p=>{if(!i){const h=kD(n,r._names,p.values||r._formValues,!1,A.current);if(c.current){const x=c.current(h);Vo(x,d.current)||(m(x),d.current=x)}else m(h)}}}),[r,i,n,o]),Xt.useEffect(()=>r._removeUnmounted()),f}function GW(e){const t=Rx(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=TD(a._names.array,r),A=Xt.useMemo(()=>ct(a._formValues,r,ct(a._defaultValues,r,o)),[a,r,o]),c=$W({control:a,name:r,defaultValue:A,exact:!0}),d=VW({control:a,name:r,exact:!0}),u=Xt.useRef(e),f=Xt.useRef(a.register(r,{...e.rules,value:c,...ba(e.disabled)?{disabled:e.disabled}:{}}));u.current=e;const m=Xt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ct(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ct(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ct(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ct(d.validatingFields,r)},error:{enumerable:!0,get:()=>ct(d.errors,r)}}),[d,r]),p=Xt.useCallback(g=>f.current.onChange({target:{value:FD(g),name:r},type:lg.CHANGE}),[r]),h=Xt.useCallback(()=>f.current.onBlur({target:{value:ct(a._formValues,r),name:r},type:lg.BLUR}),[r,a._formValues]),x=Xt.useCallback(g=>{const w=ct(a._fields,r);w&&g&&(w._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:b=>g.setCustomValidity(b),reportValidity:()=>g.reportValidity()})},[a._fields,r]),y=Xt.useMemo(()=>({name:r,value:c,...ba(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:h,ref:x}),[r,n,d.disabled,p,h,x,c]);return Xt.useEffect(()=>{const g=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...ba(u.current.disabled)?{disabled:u.current.disabled}:{}});const w=(b,C)=>{const N=ct(a._fields,b);N&&N._f&&(N._f.mount=C)};if(w(r,!0),g){const b=Tn(ct(a._options.defaultValues,r));Nr(a._defaultValues,r,b),vn(ct(a._formValues,r))&&Nr(a._formValues,r,b)}return!l&&a.register(r),()=>{(l?g&&!a._state.action:g)?a.unregister(r):w(r,!1)}},[r,a,l,i]),Xt.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Xt.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const WW=e=>e.render(GW(e));var ID=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},qf=e=>Array.isArray(e)?e:[e],u2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Ys=e=>wn(e)&&!Object.keys(e).length,ZC=e=>e.type==="file",ji=e=>typeof e=="function",Ag=e=>{if(!zC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},UD=e=>e.type==="select-multiple",eB=e=>e.type==="radio",zW=e=>eB(e)||Sm(e),my=e=>Ag(e)&&e.isConnected;function XW(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=vn(e)?n++:e[t[n++]];return e}function qW(e){for(const t in e)if(e.hasOwnProperty(t)&&!vn(e[t]))return!1;return!0}function Cn(e,t){const r=Array.isArray(t)?t:Ox(t)?[t]:qC(t),n=r.length===1?e:XW(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(wn(n)&&Ys(n)||Array.isArray(n)&&qW(n))&&Cn(e,r.slice(0,-1)),e}var QD=e=>{for(const t in e)if(ji(e[t]))return!0;return!1};function cg(e,t={}){const r=Array.isArray(e);if(wn(e)||r)for(const n in e)Array.isArray(e[n])||wn(e[n])&&!QD(e[n])?(t[n]=Array.isArray(e[n])?[]:{},cg(e[n],t[n])):Us(e[n])||(t[n]=!0);return t}function DD(e,t,r){const n=Array.isArray(e);if(wn(e)||n)for(const a in e)Array.isArray(e[a])||wn(e[a])&&!QD(e[a])?vn(t)||F1(r[a])?r[a]=Array.isArray(e[a])?cg(e[a],[]):{...cg(e[a])}:DD(e[a],Us(t)?{}:t[a],r[a]):r[a]=!Vo(e[a],t[a]);return r}var ff=(e,t)=>DD(e,t,cg(t));const f2={value:!1,isValid:!1},h2={value:!0,isValid:!0};var PD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!vn(e[0].attributes.value)?vn(e[0].value)||e[0].value===""?h2:{value:e[0].value,isValid:!0}:h2:f2}return f2},OD=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>vn(e)?e:t?e===""?NaN:e&&+e:r&&ao(e)?new Date(e):n?n(e):e;const m2={isValid:!1,value:null};var RD=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,m2):m2;function p2(e){const t=e.ref;return ZC(t)?t.files:eB(t)?RD(e.refs).value:UD(t)?[...t.selectedOptions].map(({value:r})=>r):Sm(t)?PD(e.refs).value:OD(vn(t.value)?e.ref.value:t.value,e)}var YW=(e,t,r,n)=>{const a={};for(const i of e){const o=ct(t,i);o&&Nr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},dg=e=>e instanceof RegExp,hf=e=>vn(e)?e:dg(e)?e.source:wn(e)?dg(e.value)?e.value.source:e.value:e,g2=e=>({isOnSubmit:!e||e===Bi.onSubmit,isOnBlur:e===Bi.onBlur,isOnChange:e===Bi.onChange,isOnAll:e===Bi.all,isOnTouch:e===Bi.onTouched});const x2="AsyncFunction";var JW=e=>!!e&&!!e.validate&&!!(ji(e.validate)&&e.validate.constructor.name===x2||wn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===x2)),ZW=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),v2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Yf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=ct(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Yf(l,t))break}else if(wn(l)&&Yf(l,t))break}}};function y2(e,t,r){const n=ct(e,r);if(n||Ox(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=ct(t,i),l=ct(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var ez=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Ys(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Bi.all))},tz=(e,t,r)=>!e||!t||e===t||qf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),rz=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,nz=(e,t)=>!XC(ct(e,t)).length&&Cn(e,t),sz=(e,t,r)=>{const n=qf(ct(e,r));return Nr(n,"root",t[r]),Nr(e,r,n),e},vp=e=>ao(e);function w2(e,t,r="validate"){if(vp(e)||Array.isArray(e)&&e.every(vp)||ba(e)&&!e)return{type:r,message:vp(e)?e:"",ref:t}}var ed=e=>wn(e)&&!dg(e)?e:{value:e,message:""},b2=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:A,maxLength:c,minLength:d,min:u,max:f,pattern:m,validate:p,name:h,valueAsNumber:x,mount:y}=e._f,g=ct(r,h);if(!y||t.has(h))return{};const w=l?l[0]:o,b=O=>{a&&w.reportValidity&&(w.setCustomValidity(ba(O)?"":O||""),w.reportValidity())},C={},N=eB(o),B=Sm(o),F=N||B,E=(x||ZC(o))&&vn(o.value)&&vn(g)||Ag(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,U=ID.bind(null,h,n,C),P=(O,X,ae,he=_o.maxLength,q=_o.minLength)=>{const ne=O?X:ae;C[h]={type:O?he:q,message:ne,ref:o,...U(O?he:q,ne)}};if(i?!Array.isArray(g)||!g.length:A&&(!F&&(E||Us(g))||ba(g)&&!g||B&&!PD(l).isValid||N&&!RD(l).isValid)){const{value:O,message:X}=vp(A)?{value:!!A,message:A}:ed(A);if(O&&(C[h]={type:_o.required,message:X,ref:w,...U(_o.required,X)},!n))return b(X),C}if(!E&&(!Us(u)||!Us(f))){let O,X;const ae=ed(f),he=ed(u);if(!Us(g)&&!isNaN(g)){const q=o.valueAsNumber||g&&+g;Us(ae.value)||(O=q>ae.value),Us(he.value)||(X=q<he.value)}else{const q=o.valueAsDate||new Date(g),ne=de=>new Date(new Date().toDateString()+" "+de),H=o.type=="time",J=o.type=="week";ao(ae.value)&&g&&(O=H?ne(g)>ne(ae.value):J?g>ae.value:q>new Date(ae.value)),ao(he.value)&&g&&(X=H?ne(g)<ne(he.value):J?g<he.value:q<new Date(he.value))}if((O||X)&&(P(!!O,ae.message,he.message,_o.max,_o.min),!n))return b(C[h].message),C}if((c||d)&&!E&&(ao(g)||i&&Array.isArray(g))){const O=ed(c),X=ed(d),ae=!Us(O.value)&&g.length>+O.value,he=!Us(X.value)&&g.length<+X.value;if((ae||he)&&(P(ae,O.message,X.message),!n))return b(C[h].message),C}if(m&&!E&&ao(g)){const{value:O,message:X}=ed(m);if(dg(O)&&!g.match(O)&&(C[h]={type:_o.pattern,message:X,ref:o,...U(_o.pattern,X)},!n))return b(X),C}if(p){if(ji(p)){const O=await p(g,r),X=w2(O,w);if(X&&(C[h]={...X,...U(_o.validate,X.message)},!n))return b(X.message),C}else if(wn(p)){let O={};for(const X in p){if(!Ys(O)&&!n)break;const ae=w2(await p[X](g,r),w,X);ae&&(O={...ae,...U(X,ae.message)},b(ae.message),n&&(C[h]=O))}if(!Ys(O)&&(C[h]={ref:w,...O},!n))return C}}return b(!0),C};const az={mode:Bi.onSubmit,reValidateMode:Bi.onChange,shouldFocusError:!0};function iz(e={}){let t={...az,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ji(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=wn(t.defaultValues)||wn(t.values)?Tn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Tn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const f={array:u2(),state:u2()},m=t.criteriaMode===Bi.all,p=Y=>Ae=>{clearTimeout(c),c=setTimeout(Y,Ae)},h=async Y=>{if(!t.disabled&&(d.isValid||u.isValid||Y)){const Ae=t.resolver?Ys((await B()).errors):await E(n,!0);Ae!==r.isValid&&f.state.next({isValid:Ae})}},x=(Y,Ae)=>{!t.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((Y||Array.from(l.mount)).forEach(xe=>{xe&&(Ae?Nr(r.validatingFields,xe,Ae):Cn(r.validatingFields,xe))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Ys(r.validatingFields)}))},y=(Y,Ae=[],xe,Ke,z=!0,ce=!0)=>{if(Ke&&xe&&!t.disabled){if(o.action=!0,ce&&Array.isArray(ct(n,Y))){const Me=xe(ct(n,Y),Ke.argA,Ke.argB);z&&Nr(n,Y,Me)}if(ce&&Array.isArray(ct(r.errors,Y))){const Me=xe(ct(r.errors,Y),Ke.argA,Ke.argB);z&&Nr(r.errors,Y,Me),nz(r.errors,Y)}if((d.touchedFields||u.touchedFields)&&ce&&Array.isArray(ct(r.touchedFields,Y))){const Me=xe(ct(r.touchedFields,Y),Ke.argA,Ke.argB);z&&Nr(r.touchedFields,Y,Me)}(d.dirtyFields||u.dirtyFields)&&(r.dirtyFields=ff(a,i)),f.state.next({name:Y,isDirty:P(Y,Ae),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Nr(i,Y,Ae)},g=(Y,Ae)=>{Nr(r.errors,Y,Ae),f.state.next({errors:r.errors})},w=Y=>{r.errors=Y,f.state.next({errors:r.errors,isValid:!1})},b=(Y,Ae,xe,Ke)=>{const z=ct(n,Y);if(z){const ce=ct(i,Y,vn(xe)?ct(a,Y):xe);vn(ce)||Ke&&Ke.defaultChecked||Ae?Nr(i,Y,Ae?ce:p2(z._f)):ae(Y,ce),o.mount&&h()}},C=(Y,Ae,xe,Ke,z)=>{let ce=!1,Me=!1;const Et={name:Y};if(!t.disabled){if(!xe||Ke){(d.isDirty||u.isDirty)&&(Me=r.isDirty,r.isDirty=Et.isDirty=P(),ce=Me!==Et.isDirty);const It=Vo(ct(a,Y),Ae);Me=!!ct(r.dirtyFields,Y),It?Cn(r.dirtyFields,Y):Nr(r.dirtyFields,Y,!0),Et.dirtyFields=r.dirtyFields,ce=ce||(d.dirtyFields||u.dirtyFields)&&Me!==!It}if(xe){const It=ct(r.touchedFields,Y);It||(Nr(r.touchedFields,Y,xe),Et.touchedFields=r.touchedFields,ce=ce||(d.touchedFields||u.touchedFields)&&It!==xe)}ce&&z&&f.state.next(Et)}return ce?Et:{}},N=(Y,Ae,xe,Ke)=>{const z=ct(r.errors,Y),ce=(d.isValid||u.isValid)&&ba(Ae)&&r.isValid!==Ae;if(t.delayError&&xe?(A=p(()=>g(Y,xe)),A(t.delayError)):(clearTimeout(c),A=null,xe?Nr(r.errors,Y,xe):Cn(r.errors,Y)),(xe?!Vo(z,xe):z)||!Ys(Ke)||ce){const Me={...Ke,...ce&&ba(Ae)?{isValid:Ae}:{},errors:r.errors,name:Y};r={...r,...Me},f.state.next(Me)}},B=async Y=>{x(Y,!0);const Ae=await t.resolver(i,t.context,YW(Y||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(Y),Ae},F=async Y=>{const{errors:Ae}=await B(Y);if(Y)for(const xe of Y){const Ke=ct(Ae,xe);Ke?Nr(r.errors,xe,Ke):Cn(r.errors,xe)}else r.errors=Ae;return Ae},E=async(Y,Ae,xe={valid:!0})=>{for(const Ke in Y){const z=Y[Ke];if(z){const{_f:ce,...Me}=z;if(ce){const Et=l.array.has(ce.name),It=z._f&&JW(z._f);It&&d.validatingFields&&x([Ke],!0);const fn=await b2(z,l.disabled,i,m,t.shouldUseNativeValidation&&!Ae,Et);if(It&&d.validatingFields&&x([Ke]),fn[ce.name]&&(xe.valid=!1,Ae))break;!Ae&&(ct(fn,ce.name)?Et?sz(r.errors,fn,ce.name):Nr(r.errors,ce.name,fn[ce.name]):Cn(r.errors,ce.name))}!Ys(Me)&&await E(Me,Ae,xe)}}return xe.valid},U=()=>{for(const Y of l.unMount){const Ae=ct(n,Y);Ae&&(Ae._f.refs?Ae._f.refs.every(xe=>!my(xe)):!my(Ae._f.ref))&&_(Y)}l.unMount=new Set},P=(Y,Ae)=>!t.disabled&&(Y&&Ae&&Nr(i,Y,Ae),!Vo(de(),a)),O=(Y,Ae,xe)=>kD(Y,l,{...o.mount?i:vn(Ae)?a:ao(Y)?{[Y]:Ae}:Ae},xe,Ae),X=Y=>XC(ct(o.mount?i:a,Y,t.shouldUnregister?ct(a,Y,[]):[])),ae=(Y,Ae,xe={})=>{const Ke=ct(n,Y);let z=Ae;if(Ke){const ce=Ke._f;ce&&(!ce.disabled&&Nr(i,Y,OD(Ae,ce)),z=Ag(ce.ref)&&Us(Ae)?"":Ae,UD(ce.ref)?[...ce.ref.options].forEach(Me=>Me.selected=z.includes(Me.value)):ce.refs?Sm(ce.ref)?ce.refs.forEach(Me=>{(!Me.defaultChecked||!Me.disabled)&&(Array.isArray(z)?Me.checked=!!z.find(Et=>Et===Me.value):Me.checked=z===Me.value||!!z)}):ce.refs.forEach(Me=>Me.checked=Me.value===z):ZC(ce.ref)?ce.ref.value="":(ce.ref.value=z,ce.ref.type||f.state.next({name:Y,values:Tn(i)})))}(xe.shouldDirty||xe.shouldTouch)&&C(Y,z,xe.shouldTouch,xe.shouldDirty,!0),xe.shouldValidate&&J(Y)},he=(Y,Ae,xe)=>{for(const Ke in Ae){if(!Ae.hasOwnProperty(Ke))return;const z=Ae[Ke],ce=Y+"."+Ke,Me=ct(n,ce);(l.array.has(Y)||wn(z)||Me&&!Me._f)&&!$A(z)?he(ce,z,xe):ae(ce,z,xe)}},q=(Y,Ae,xe={})=>{const Ke=ct(n,Y),z=l.array.has(Y),ce=Tn(Ae);Nr(i,Y,ce),z?(f.array.next({name:Y,values:Tn(i)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&xe.shouldDirty&&f.state.next({name:Y,dirtyFields:ff(a,i),isDirty:P(Y,ce)})):Ke&&!Ke._f&&!Us(ce)?he(Y,ce,xe):ae(Y,ce,xe),v2(Y,l)&&f.state.next({...r,name:Y}),f.state.next({name:o.mount?Y:void 0,values:Tn(i)})},ne=async Y=>{o.mount=!0;const Ae=Y.target;let xe=Ae.name,Ke=!0;const z=ct(n,xe),ce=It=>{Ke=Number.isNaN(It)||$A(It)&&isNaN(It.getTime())||Vo(It,ct(i,xe,It))},Me=g2(t.mode),Et=g2(t.reValidateMode);if(z){let It,fn;const zr=Ae.type?p2(z._f):FD(Y),Jr=Y.type===lg.BLUR||Y.type===lg.FOCUS_OUT,di=!ZW(z._f)&&!t.resolver&&!ct(r.errors,xe)&&!z._f.deps||rz(Jr,ct(r.touchedFields,xe),r.isSubmitted,Et,Me),ui=v2(xe,l,Jr);Nr(i,xe,zr),Jr?(!Ae||!Ae.readOnly)&&(z._f.onBlur&&z._f.onBlur(Y),A&&A(0)):z._f.onChange&&z._f.onChange(Y);const Xn=C(xe,zr,Jr),So=!Ys(Xn)||ui;if(!Jr&&f.state.next({name:xe,type:Y.type,values:Tn(i)}),di)return(d.isValid||u.isValid)&&(t.mode==="onBlur"?Jr&&h():Jr||h()),So&&f.state.next({name:xe,...ui?{}:Xn});if(!Jr&&ui&&f.state.next({...r}),t.resolver){const{errors:us}=await B([xe]);if(ce(zr),Ke){const fs=y2(r.errors,n,xe),Pa=y2(us,n,fs.name||xe);It=Pa.error,xe=Pa.name,fn=Ys(us)}}else x([xe],!0),It=(await b2(z,l.disabled,i,m,t.shouldUseNativeValidation))[xe],x([xe]),ce(zr),Ke&&(It?fn=!1:(d.isValid||u.isValid)&&(fn=await E(n,!0)));Ke&&(z._f.deps&&J(z._f.deps),N(xe,fn,It,Xn))}},H=(Y,Ae)=>{if(ct(r.errors,Ae)&&Y.focus)return Y.focus(),1},J=async(Y,Ae={})=>{let xe,Ke;const z=qf(Y);if(t.resolver){const ce=await F(vn(Y)?Y:z);xe=Ys(ce),Ke=Y?!z.some(Me=>ct(ce,Me)):xe}else Y?(Ke=(await Promise.all(z.map(async ce=>{const Me=ct(n,ce);return await E(Me&&Me._f?{[ce]:Me}:Me)}))).every(Boolean),!(!Ke&&!r.isValid)&&h()):Ke=xe=await E(n);return f.state.next({...!ao(Y)||(d.isValid||u.isValid)&&xe!==r.isValid?{}:{name:Y},...t.resolver||!Y?{isValid:xe}:{},errors:r.errors}),Ae.shouldFocus&&!Ke&&Yf(n,H,Y?z:l.mount),Ke},de=Y=>{const Ae={...o.mount?i:a};return vn(Y)?Ae:ao(Y)?ct(Ae,Y):Y.map(xe=>ct(Ae,xe))},se=(Y,Ae)=>({invalid:!!ct((Ae||r).errors,Y),isDirty:!!ct((Ae||r).dirtyFields,Y),error:ct((Ae||r).errors,Y),isValidating:!!ct(r.validatingFields,Y),isTouched:!!ct((Ae||r).touchedFields,Y)}),D=Y=>{Y&&qf(Y).forEach(Ae=>Cn(r.errors,Ae)),f.state.next({errors:Y?r.errors:{}})},j=(Y,Ae,xe)=>{const Ke=(ct(n,Y,{_f:{}})._f||{}).ref,z=ct(r.errors,Y)||{},{ref:ce,message:Me,type:Et,...It}=z;Nr(r.errors,Y,{...It,...Ae,ref:Ke}),f.state.next({name:Y,errors:r.errors,isValid:!1}),xe&&xe.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},k=(Y,Ae)=>ji(Y)?f.state.subscribe({next:xe=>"values"in xe&&Y(O(void 0,Ae),xe)}):O(Y,Ae,!0),M=Y=>f.state.subscribe({next:Ae=>{tz(Y.name,Ae.name,Y.exact)&&ez(Ae,Y.formState||d,He,Y.reRenderRoot)&&Y.callback({values:{...i},...r,...Ae,defaultValues:a})}}).unsubscribe,S=Y=>(o.mount=!0,u={...u,...Y.formState},M({...Y,formState:u})),_=(Y,Ae={})=>{for(const xe of Y?qf(Y):l.mount)l.mount.delete(xe),l.array.delete(xe),Ae.keepValue||(Cn(n,xe),Cn(i,xe)),!Ae.keepError&&Cn(r.errors,xe),!Ae.keepDirty&&Cn(r.dirtyFields,xe),!Ae.keepTouched&&Cn(r.touchedFields,xe),!Ae.keepIsValidating&&Cn(r.validatingFields,xe),!t.shouldUnregister&&!Ae.keepDefaultValue&&Cn(a,xe);f.state.next({values:Tn(i)}),f.state.next({...r,...Ae.keepDirty?{isDirty:P()}:{}}),!Ae.keepIsValid&&h()},Z=({disabled:Y,name:Ae})=>{(ba(Y)&&o.mount||Y||l.disabled.has(Ae))&&(Y?l.disabled.add(Ae):l.disabled.delete(Ae))},K=(Y,Ae={})=>{let xe=ct(n,Y);const Ke=ba(Ae.disabled)||ba(t.disabled);return Nr(n,Y,{...xe||{},_f:{...xe&&xe._f?xe._f:{ref:{name:Y}},name:Y,mount:!0,...Ae}}),l.mount.add(Y),xe?Z({disabled:ba(Ae.disabled)?Ae.disabled:t.disabled,name:Y}):b(Y,!0,Ae.value),{...Ke?{disabled:Ae.disabled||t.disabled}:{},...t.progressive?{required:!!Ae.required,min:hf(Ae.min),max:hf(Ae.max),minLength:hf(Ae.minLength),maxLength:hf(Ae.maxLength),pattern:hf(Ae.pattern)}:{},name:Y,onChange:ne,onBlur:ne,ref:z=>{if(z){K(Y,Ae),xe=ct(n,Y);const ce=vn(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,Me=zW(ce),Et=xe._f.refs||[];if(Me?Et.find(It=>It===ce):ce===xe._f.ref)return;Nr(n,Y,{_f:{...xe._f,...Me?{refs:[...Et.filter(my),ce,...Array.isArray(ct(a,Y))?[{}]:[]],ref:{type:ce.type,name:Y}}:{ref:ce}}}),b(Y,!1,void 0,ce)}else xe=ct(n,Y,{}),xe._f&&(xe._f.mount=!1),(t.shouldUnregister||Ae.shouldUnregister)&&!(TD(l.array,Y)&&o.action)&&l.unMount.add(Y)}}},re=()=>t.shouldFocusError&&Yf(n,H,l.mount),ye=Y=>{ba(Y)&&(f.state.next({disabled:Y}),Yf(n,(Ae,xe)=>{const Ke=ct(n,xe);Ke&&(Ae.disabled=Ke._f.disabled||Y,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach(z=>{z.disabled=Ke._f.disabled||Y}))},0,!1))},Te=(Y,Ae)=>async xe=>{let Ke;xe&&(xe.preventDefault&&xe.preventDefault(),xe.persist&&xe.persist());let z=Tn(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ce,values:Me}=await B();r.errors=ce,z=Tn(Me)}else await E(n);if(l.disabled.size)for(const ce of l.disabled)Cn(z,ce);if(Cn(r.errors,"root"),Ys(r.errors)){f.state.next({errors:{}});try{await Y(z,xe)}catch(ce){Ke=ce}}else Ae&&await Ae({...r.errors},xe),re(),setTimeout(re);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ys(r.errors)&&!Ke,submitCount:r.submitCount+1,errors:r.errors}),Ke)throw Ke},Nt=(Y,Ae={})=>{ct(n,Y)&&(vn(Ae.defaultValue)?q(Y,Tn(ct(a,Y))):(q(Y,Ae.defaultValue),Nr(a,Y,Tn(Ae.defaultValue))),Ae.keepTouched||Cn(r.touchedFields,Y),Ae.keepDirty||(Cn(r.dirtyFields,Y),r.isDirty=Ae.defaultValue?P(Y,Tn(ct(a,Y))):P()),Ae.keepError||(Cn(r.errors,Y),d.isValid&&h()),f.state.next({...r}))},mt=(Y,Ae={})=>{const xe=Y?Tn(Y):a,Ke=Tn(xe),z=Ys(Y),ce=z?a:Ke;if(Ae.keepDefaultValues||(a=xe),!Ae.keepValues){if(Ae.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(ff(a,i))]);for(const Et of Array.from(Me))ct(r.dirtyFields,Et)?Nr(ce,Et,ct(i,Et)):q(Et,ct(ce,Et))}else{if(zC&&vn(Y))for(const Me of l.mount){const Et=ct(n,Me);if(Et&&Et._f){const It=Array.isArray(Et._f.refs)?Et._f.refs[0]:Et._f.ref;if(Ag(It)){const fn=It.closest("form");if(fn){fn.reset();break}}}}if(Ae.keepFieldsRef)for(const Me of l.mount)q(Me,ct(ce,Me));else n={}}i=t.shouldUnregister?Ae.keepDefaultValues?Tn(a):{}:Tn(ce),f.array.next({values:{...ce}}),f.state.next({values:{...ce}})}l={mount:Ae.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Ae.keepIsValid||!!Ae.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:Ae.keepSubmitCount?r.submitCount:0,isDirty:z?!1:Ae.keepDirty?r.isDirty:!!(Ae.keepDefaultValues&&!Vo(Y,a)),isSubmitted:Ae.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:Ae.keepDirtyValues?Ae.keepDefaultValues&&i?ff(a,i):r.dirtyFields:Ae.keepDefaultValues&&Y?ff(a,Y):Ae.keepDirty?r.dirtyFields:{},touchedFields:Ae.keepTouched?r.touchedFields:{},errors:Ae.keepErrors?r.errors:{},isSubmitSuccessful:Ae.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Vt=(Y,Ae)=>mt(ji(Y)?Y(i):Y,Ae),$t=(Y,Ae={})=>{const xe=ct(n,Y),Ke=xe&&xe._f;if(Ke){const z=Ke.refs?Ke.refs[0]:Ke.ref;z.focus&&(z.focus(),Ae.shouldSelect&&ji(z.select)&&z.select())}},He=Y=>{r={...r,...Y}},dr={control:{register:K,unregister:_,getFieldState:se,handleSubmit:Te,setError:j,_subscribe:M,_runSchema:B,_focusError:re,_getWatch:O,_getDirty:P,_setValid:h,_setFieldArray:y,_setDisabledField:Z,_setErrors:w,_getFieldArray:X,_reset:mt,_resetDefaultValues:()=>ji(t.defaultValues)&&t.defaultValues().then(Y=>{Vt(Y,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:ye,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(Y){o=Y},get _defaultValues(){return a},get _names(){return l},set _names(Y){l=Y},get _formState(){return r},get _options(){return t},set _options(Y){t={...t,...Y}}},subscribe:S,trigger:J,register:K,handleSubmit:Te,watch:k,setValue:q,getValues:de,reset:Vt,resetField:Nt,clearErrors:D,unregister:_,setError:j,setFocus:$t,getFieldState:se};return{...dr,formControl:dr}}function es(e={}){const t=Xt.useRef(void 0),r=Xt.useRef(void 0),[n,a]=Xt.useState({isDirty:!1,isValidating:!1,isLoading:ji(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ji(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ji(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=iz(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,JC(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Xt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Xt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Xt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Xt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Xt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Xt.useEffect(()=>{e.values&&!Vo(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Xt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=_D(n,i),t.current}var oz="Label",LD=v.forwardRef((e,t)=>s.jsx(kt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));LD.displayName=oz;var MD=LD;const lz=Lc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_t=v.forwardRef(({className:e,...t},r)=>s.jsx(MD,{ref:r,className:De(lz(),e),...t}));_t.displayName=MD.displayName;const ts=KW,HD=v.createContext({}),Ue=({...e})=>s.jsx(HD.Provider,{value:{name:e.name},children:s.jsx(WW,{...e})}),Lx=()=>{const e=v.useContext(HD),t=v.useContext(KD),{getFieldState:r,formState:n}=Rx(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},KD=v.createContext({}),ke=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return s.jsx(KD.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:De("space-y-2",e),...t})})});ke.displayName="FormItem";const _e=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Lx();return s.jsx(_t,{ref:r,className:De(n&&"text-destructive",e),htmlFor:a,...t})});_e.displayName="FormLabel";const Ie=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Lx();return s.jsx(Oc,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Ie.displayName="FormControl";const Az=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Lx();return s.jsx("p",{ref:r,id:n,className:De("text-sm text-muted-foreground",e),...t})});Az.displayName="FormDescription";const Oe=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Lx(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:De("text-sm font-medium text-destructive",e),...r,children:o}):null});Oe.displayName="FormMessage";const C2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ct(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},VD=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?C2(n.ref,r,e):n.refs&&n.refs.forEach(a=>C2(a,r,e))}},cz=(e,t)=>{t.shouldUseNativeValidation&&VD(e,t);const r={};for(const n in e){const a=ct(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(dz(t.names||Object.keys(e),n)){const o=Object.assign({},ct(r,n));Nr(o,"root",i),Nr(r,n,o)}else Nr(r,n,i)}return r},dz=(e,t)=>e.some(r=>r.startsWith(t+"."));var uz=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(u){return e.push(u)})}),t){var A=r[o].types,c=A&&A[n.code];r[o]=ID(o,t,r,a,c?[].concat(c,n.message):n.message)}e.shift()}return r},rs=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var A=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return i.shouldUseNativeValidation&&VD({},i),{errors:{},values:r.raw?n:c}})}catch(c){return l(c)}return A&&A.then?A.then(void 0,l):A}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:cz(uz(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},pr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(pr||(pr={}));var T1;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(T1||(T1={}));const bt=pr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lo=e=>{switch(typeof e){case"undefined":return bt.undefined;case"string":return bt.string;case"number":return Number.isNaN(e)?bt.nan:bt.number;case"boolean":return bt.boolean;case"function":return bt.function;case"bigint":return bt.bigint;case"symbol":return bt.symbol;case"object":return Array.isArray(e)?bt.array:e===null?bt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?bt.promise:typeof Map<"u"&&e instanceof Map?bt.map:typeof Set<"u"&&e instanceof Set?bt.set:typeof Date<"u"&&e instanceof Date?bt.date:bt.object;default:return bt.unknown}},Ge=pr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fz=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class _a extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,A=0;for(;A<o.path.length;){const c=o.path[A];A===o.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(o))):l[c]=l[c]||{_errors:[]},l=l[c],A++}}};return a(this),n}static assert(t){if(!(t instanceof _a))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}_a.create=e=>new _a(e);const Bu=(e,t)=>{let r;switch(e.code){case Ge.invalid_type:e.received===bt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,pr.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${pr.joinValues(e.keys,", ")}`;break;case Ge.invalid_union:r="Invalid input";break;case Ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${pr.joinValues(e.options)}`;break;case Ge.invalid_enum_value:r=`Invalid enum value. Expected ${pr.joinValues(e.options)}, received '${e.received}'`;break;case Ge.invalid_arguments:r="Invalid function arguments";break;case Ge.invalid_return_type:r="Invalid function return type";break;case Ge.invalid_date:r="Invalid date";break;case Ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:pr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ge.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ge.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ge.custom:r="Invalid input";break;case Ge.invalid_intersection_types:r="Intersection results could not be merged";break;case Ge.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ge.not_finite:r="Number must be finite";break;default:r=t.defaultError,pr.assertNever(e)}return{message:r}};let $D=Bu;function hz(e){$D=e}function ug(){return $D}const fg=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const A=n.filter(c=>!!c).slice().reverse();for(const c of A)l=c(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},mz=[];function ut(e,t){const r=ug(),n=fg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Bu?void 0:Bu].filter(a=>!!a)});e.common.issues.push(n)}class js{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ot;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return js.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ot;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ot=Object.freeze({status:"aborted"}),Td=e=>({status:"dirty",value:e}),Ks=e=>({status:"valid",value:e}),_1=e=>e.status==="aborted",k1=e=>e.status==="dirty",Cc=e=>e.status==="valid",Qh=e=>typeof Promise<"u"&&e instanceof Promise;var St;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(St||(St={}));class wo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const B2=(e,t)=>{if(Cc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new _a(e.common.issues);return this._error=r,this._error}}};function tr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:A}=e;return o.code==="invalid_enum_value"?{message:A??l.defaultError}:typeof l.data>"u"?{message:A??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:A??r??l.defaultError}},description:a}}class Ar{get description(){return this._def.description}_getType(t){return Lo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Lo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new js,ctx:{common:t.parent.common,data:t.data,parsedType:Lo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Qh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Lo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return B2(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Lo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Cc(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Cc(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Lo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Qh(a)?a:Promise.resolve(a));return B2(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ge.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(A=>A?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Oi({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return fo.create(this,this._def)}nullable(){return vA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ki.create(this)}promise(){return Nu.create(this,this._def)}or(t){return Rh.create([this,t],this._def)}and(t){return Lh.create(this,t,this._def)}transform(t){return new Oi({...tr(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new $h({...tr(this._def),innerType:this,defaultValue:r,typeName:Lt.ZodDefault})}brand(){return new tB({typeName:Lt.ZodBranded,type:this,...tr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Gh({...tr(this._def),innerType:this,catchValue:r,typeName:Lt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Fm.create(this,t)}readonly(){return Wh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pz=/^c[^\s-]{8,}$/i,gz=/^[0-9a-z]+$/,xz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yz=/^[a-z0-9_-]{21}$/i,wz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let py;const jz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ez=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_z=new RegExp(`^${GD}$`);function WD(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function kz(e){return new RegExp(`^${WD(e)}$`)}function zD(e){let t=`${GD}T${WD(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Iz(e,t){return!!((t==="v4"||!t)&&jz.test(e)||(t==="v6"||!t)&&Ez.test(e))}function Uz(e,t){if(!wz.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Qz(e,t){return!!((t==="v4"||!t)&&Nz.test(e)||(t==="v6"||!t)&&Sz.test(e))}class Si extends Ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==bt.string){const i=this._getOrReturnCtx(t);return ut(i,{code:Ge.invalid_type,expected:bt.string,received:i.parsedType}),Ot}const n=new js;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ut(a,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ut(a,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Cz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"email",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")py||(py=new RegExp(Bz,"u")),py.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"emoji",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")vz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"uuid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")yz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"nanoid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")pz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")gz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid2",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")xz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ulid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ut(a,{validation:"url",code:Ge.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"regex",code:Ge.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?zD(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?_z.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?kz(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?bz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"duration",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Iz(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ip",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Uz(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"jwt",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Qz(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cidr",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Fz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Tz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64url",code:Ge.invalid_string,message:i.message}),n.dirty()):pr.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ge.invalid_string,...St.errToObj(n)})}_addCheck(t){return new Si({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...St.errToObj(t)})}url(t){return this._addCheck({kind:"url",...St.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...St.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...St.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...St.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...St.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...St.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...St.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...St.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...St.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...St.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...St.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...St.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...St.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...St.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...St.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...St.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...St.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...St.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...St.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...St.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...St.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...St.errToObj(r)})}nonempty(t){return this.min(1,St.errToObj(t))}trim(){return new Si({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Si({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Si({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Si.create=e=>new Si({checks:[],typeName:Lt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...tr(e)});function Dz(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class pA extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==bt.number){const i=this._getOrReturnCtx(t);return ut(i,{code:Ge.invalid_type,expected:bt.number,received:i.parsedType}),Ot}let n;const a=new js;for(const i of this._def.checks)i.kind==="int"?pr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Dz(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.not_finite,message:i.message}),a.dirty()):pr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,St.toString(r))}gt(t,r){return this.setLimit("min",t,!1,St.toString(r))}lte(t,r){return this.setLimit("max",t,!0,St.toString(r))}lt(t,r){return this.setLimit("max",t,!1,St.toString(r))}setLimit(t,r,n,a){return new pA({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:St.toString(a)}]})}_addCheck(t){return new pA({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:St.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:St.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:St.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:St.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:St.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:St.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:St.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:St.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:St.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}pA.create=e=>new pA({checks:[],typeName:Lt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...tr(e)});class gA extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==bt.bigint)return this._getInvalidInput(t);let n;const a=new js;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):pr.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ut(r,{code:Ge.invalid_type,expected:bt.bigint,received:r.parsedType}),Ot}gte(t,r){return this.setLimit("min",t,!0,St.toString(r))}gt(t,r){return this.setLimit("min",t,!1,St.toString(r))}lte(t,r){return this.setLimit("max",t,!0,St.toString(r))}lt(t,r){return this.setLimit("max",t,!1,St.toString(r))}setLimit(t,r,n,a){return new gA({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:St.toString(a)}]})}_addCheck(t){return new gA({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:St.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:St.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:St.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:St.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:St.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gA.create=e=>new gA({checks:[],typeName:Lt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...tr(e)});class Dh extends Ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==bt.boolean){const n=this._getOrReturnCtx(t);return ut(n,{code:Ge.invalid_type,expected:bt.boolean,received:n.parsedType}),Ot}return Ks(t.data)}}Dh.create=e=>new Dh({typeName:Lt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...tr(e)});class Bc extends Ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==bt.date){const i=this._getOrReturnCtx(t);return ut(i,{code:Ge.invalid_type,expected:bt.date,received:i.parsedType}),Ot}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ut(i,{code:Ge.invalid_date}),Ot}const n=new js;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ge.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):pr.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Bc({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:St.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:St.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Bc.create=e=>new Bc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Lt.ZodDate,...tr(e)});class hg extends Ar{_parse(t){if(this._getType(t)!==bt.symbol){const n=this._getOrReturnCtx(t);return ut(n,{code:Ge.invalid_type,expected:bt.symbol,received:n.parsedType}),Ot}return Ks(t.data)}}hg.create=e=>new hg({typeName:Lt.ZodSymbol,...tr(e)});class Ph extends Ar{_parse(t){if(this._getType(t)!==bt.undefined){const n=this._getOrReturnCtx(t);return ut(n,{code:Ge.invalid_type,expected:bt.undefined,received:n.parsedType}),Ot}return Ks(t.data)}}Ph.create=e=>new Ph({typeName:Lt.ZodUndefined,...tr(e)});class Oh extends Ar{_parse(t){if(this._getType(t)!==bt.null){const n=this._getOrReturnCtx(t);return ut(n,{code:Ge.invalid_type,expected:bt.null,received:n.parsedType}),Ot}return Ks(t.data)}}Oh.create=e=>new Oh({typeName:Lt.ZodNull,...tr(e)});class ju extends Ar{constructor(){super(...arguments),this._any=!0}_parse(t){return Ks(t.data)}}ju.create=e=>new ju({typeName:Lt.ZodAny,...tr(e)});class oc extends Ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ks(t.data)}}oc.create=e=>new oc({typeName:Lt.ZodUnknown,...tr(e)});class ll extends Ar{_parse(t){const r=this._getOrReturnCtx(t);return ut(r,{code:Ge.invalid_type,expected:bt.never,received:r.parsedType}),Ot}}ll.create=e=>new ll({typeName:Lt.ZodNever,...tr(e)});class mg extends Ar{_parse(t){if(this._getType(t)!==bt.undefined){const n=this._getOrReturnCtx(t);return ut(n,{code:Ge.invalid_type,expected:bt.void,received:n.parsedType}),Ot}return Ks(t.data)}}mg.create=e=>new mg({typeName:Lt.ZodVoid,...tr(e)});class ki extends Ar{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==bt.array)return ut(r,{code:Ge.invalid_type,expected:bt.array,received:r.parsedType}),Ot;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ut(r,{code:o?Ge.too_big:Ge.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ut(r,{code:Ge.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ut(r,{code:Ge.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new wo(r,o,r.path,l)))).then(o=>js.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new wo(r,o,r.path,l)));return js.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ki({...this._def,minLength:{value:t,message:St.toString(r)}})}max(t,r){return new ki({...this._def,maxLength:{value:t,message:St.toString(r)}})}length(t,r){return new ki({...this._def,exactLength:{value:t,message:St.toString(r)}})}nonempty(t){return this.min(1,t)}}ki.create=(e,t)=>new ki({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...tr(t)});function ud(e){if(e instanceof tn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=fo.create(ud(n))}return new tn({...e._def,shape:()=>t})}else return e instanceof ki?new ki({...e._def,type:ud(e.element)}):e instanceof fo?fo.create(ud(e.unwrap())):e instanceof vA?vA.create(ud(e.unwrap())):e instanceof bo?bo.create(e.items.map(t=>ud(t))):e}class tn extends Ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=pr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==bt.object){const c=this._getOrReturnCtx(t);return ut(c,{code:Ge.invalid_type,expected:bt.object,received:c.parsedType}),Ot}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ll&&this._def.unknownKeys==="strip"))for(const c in a.data)o.includes(c)||l.push(c);const A=[];for(const c of o){const d=i[c],u=a.data[c];A.push({key:{status:"valid",value:c},value:d._parse(new wo(a,u,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof ll){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of l)A.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(c==="strict")l.length>0&&(ut(a,{code:Ge.unrecognized_keys,keys:l}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of l){const u=a.data[d];A.push({key:{status:"valid",value:d},value:c._parse(new wo(a,u,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of A){const u=await d.key,f=await d.value;c.push({key:u,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>js.mergeObjectSync(n,c)):js.mergeObjectSync(n,A)}get shape(){return this._def.shape()}strict(t){return St.errToObj,new tn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:St.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(t){return new tn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new tn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Lt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new tn({...this._def,catchall:t})}pick(t){const r={};for(const n of pr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new tn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of pr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new tn({...this._def,shape:()=>r})}deepPartial(){return ud(this)}partial(t){const r={};for(const n of pr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new tn({...this._def,shape:()=>r})}required(t){const r={};for(const n of pr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof fo;)i=i._def.innerType;r[n]=i}return new tn({...this._def,shape:()=>r})}keyof(){return XD(pr.objectKeys(this.shape))}}tn.create=(e,t)=>new tn({shape:()=>e,unknownKeys:"strip",catchall:ll.create(),typeName:Lt.ZodObject,...tr(t)});tn.strictCreate=(e,t)=>new tn({shape:()=>e,unknownKeys:"strict",catchall:ll.create(),typeName:Lt.ZodObject,...tr(t)});tn.lazycreate=(e,t)=>new tn({shape:e,unknownKeys:"strip",catchall:ll.create(),typeName:Lt.ZodObject,...tr(t)});class Rh extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new _a(l.ctx.common.issues));return ut(r,{code:Ge.invalid_union,unionErrors:o}),Ot}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const A of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=A._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(A=>new _a(A));return ut(r,{code:Ge.invalid_union,unionErrors:l}),Ot}}get options(){return this._def.options}}Rh.create=(e,t)=>new Rh({options:e,typeName:Lt.ZodUnion,...tr(t)});const Po=e=>e instanceof Hh?Po(e.schema):e instanceof Oi?Po(e.innerType()):e instanceof Kh?[e.value]:e instanceof xA?e.options:e instanceof Vh?pr.objectValues(e.enum):e instanceof $h?Po(e._def.innerType):e instanceof Ph?[void 0]:e instanceof Oh?[null]:e instanceof fo?[void 0,...Po(e.unwrap())]:e instanceof vA?[null,...Po(e.unwrap())]:e instanceof tB||e instanceof Wh?Po(e.unwrap()):e instanceof Gh?Po(e._def.innerType):[];class Mx extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==bt.object)return ut(r,{code:Ge.invalid_type,expected:bt.object,received:r.parsedType}),Ot;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ut(r,{code:Ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ot)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=Po(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Mx({typeName:Lt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...tr(n)})}}function I1(e,t){const r=Lo(e),n=Lo(t);if(e===t)return{valid:!0,data:e};if(r===bt.object&&n===bt.object){const a=pr.objectKeys(t),i=pr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const A=I1(e[l],t[l]);if(!A.valid)return{valid:!1};o[l]=A.data}return{valid:!0,data:o}}else if(r===bt.array&&n===bt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],A=I1(o,l);if(!A.valid)return{valid:!1};a.push(A.data)}return{valid:!0,data:a}}else return r===bt.date&&n===bt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Lh extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(_1(i)||_1(o))return Ot;const l=I1(i.value,o.value);return l.valid?((k1(i)||k1(o))&&r.dirty(),{status:r.value,value:l.data}):(ut(n,{code:Ge.invalid_intersection_types}),Ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lh.create=(e,t,r)=>new Lh({left:e,right:t,typeName:Lt.ZodIntersection,...tr(r)});class bo extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==bt.array)return ut(n,{code:Ge.invalid_type,expected:bt.array,received:n.parsedType}),Ot;if(n.data.length<this._def.items.length)return ut(n,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ot;!this._def.rest&&n.data.length>this._def.items.length&&(ut(n,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const A=this._def.items[l]||this._def.rest;return A?A._parse(new wo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>js.mergeArray(r,o)):js.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new bo({...this._def,rest:t})}}bo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bo({items:e,typeName:Lt.ZodTuple,rest:null,...tr(t)})};class Mh extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==bt.object)return ut(n,{code:Ge.invalid_type,expected:bt.object,received:n.parsedType}),Ot;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new wo(n,l,n.path,l)),value:o._parse(new wo(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?js.mergeObjectAsync(r,a):js.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ar?new Mh({keyType:t,valueType:r,typeName:Lt.ZodRecord,...tr(n)}):new Mh({keyType:Si.create(),valueType:t,typeName:Lt.ZodRecord,...tr(r)})}}class pg extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==bt.map)return ut(n,{code:Ge.invalid_type,expected:bt.map,received:n.parsedType}),Ot;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,A],c)=>({key:a._parse(new wo(n,l,n.path,[c,"key"])),value:i._parse(new wo(n,A,n.path,[c,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const A of o){const c=await A.key,d=await A.value;if(c.status==="aborted"||d.status==="aborted")return Ot;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const A of o){const c=A.key,d=A.value;if(c.status==="aborted"||d.status==="aborted")return Ot;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}}}pg.create=(e,t,r)=>new pg({valueType:t,keyType:e,typeName:Lt.ZodMap,...tr(r)});class jc extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==bt.set)return ut(n,{code:Ge.invalid_type,expected:bt.set,received:n.parsedType}),Ot;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ut(n,{code:Ge.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ut(n,{code:Ge.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(A){const c=new Set;for(const d of A){if(d.status==="aborted")return Ot;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const l=[...n.data.values()].map((A,c)=>i._parse(new wo(n,A,n.path,c)));return n.common.async?Promise.all(l).then(A=>o(A)):o(l)}min(t,r){return new jc({...this._def,minSize:{value:t,message:St.toString(r)}})}max(t,r){return new jc({...this._def,maxSize:{value:t,message:St.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}jc.create=(e,t)=>new jc({valueType:e,minSize:null,maxSize:null,typeName:Lt.ZodSet,...tr(t)});class Hd extends Ar{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==bt.function)return ut(r,{code:Ge.invalid_type,expected:bt.function,received:r.parsedType}),Ot;function n(l,A){return fg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ug(),Bu].filter(c=>!!c),issueData:{code:Ge.invalid_arguments,argumentsError:A}})}function a(l,A){return fg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ug(),Bu].filter(c=>!!c),issueData:{code:Ge.invalid_return_type,returnTypeError:A}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Nu){const l=this;return Ks(async function(...A){const c=new _a([]),d=await l._def.args.parseAsync(A,i).catch(m=>{throw c.addIssue(n(A,m)),c}),u=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(u,i).catch(m=>{throw c.addIssue(a(u,m)),c})})}else{const l=this;return Ks(function(...A){const c=l._def.args.safeParse(A,i);if(!c.success)throw new _a([n(A,c.error)]);const d=Reflect.apply(o,this,c.data),u=l._def.returns.safeParse(d,i);if(!u.success)throw new _a([a(d,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Hd({...this._def,args:bo.create(t).rest(oc.create())})}returns(t){return new Hd({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Hd({args:t||bo.create([]).rest(oc.create()),returns:r||oc.create(),typeName:Lt.ZodFunction,...tr(n)})}}class Hh extends Ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Hh.create=(e,t)=>new Hh({getter:e,typeName:Lt.ZodLazy,...tr(t)});class Kh extends Ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ut(r,{received:r.data,code:Ge.invalid_literal,expected:this._def.value}),Ot}return{status:"valid",value:t.data}}get value(){return this._def.value}}Kh.create=(e,t)=>new Kh({value:e,typeName:Lt.ZodLiteral,...tr(t)});function XD(e,t){return new xA({values:e,typeName:Lt.ZodEnum,...tr(t)})}class xA extends Ar{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ut(r,{expected:pr.joinValues(n),received:r.parsedType,code:Ge.invalid_type}),Ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ut(r,{received:r.data,code:Ge.invalid_enum_value,options:n}),Ot}return Ks(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return xA.create(t,{...this._def,...r})}exclude(t,r=this._def){return xA.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}xA.create=XD;class Vh extends Ar{_parse(t){const r=pr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==bt.string&&n.parsedType!==bt.number){const a=pr.objectValues(r);return ut(n,{expected:pr.joinValues(a),received:n.parsedType,code:Ge.invalid_type}),Ot}if(this._cache||(this._cache=new Set(pr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=pr.objectValues(r);return ut(n,{received:n.data,code:Ge.invalid_enum_value,options:a}),Ot}return Ks(t.data)}get enum(){return this._def.values}}Vh.create=(e,t)=>new Vh({values:e,typeName:Lt.ZodNativeEnum,...tr(t)});class Nu extends Ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==bt.promise&&r.common.async===!1)return ut(r,{code:Ge.invalid_type,expected:bt.promise,received:r.parsedType}),Ot;const n=r.parsedType===bt.promise?r.data:Promise.resolve(r.data);return Ks(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Nu.create=(e,t)=>new Nu({type:e,typeName:Lt.ZodPromise,...tr(t)});class Oi extends Ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ut(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ot;const A=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return A.status==="aborted"?Ot:A.status==="dirty"||r.value==="dirty"?Td(A.value):A});{if(r.value==="aborted")return Ot;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ot:l.status==="dirty"||r.value==="dirty"?Td(l.value):l}}if(a.type==="refinement"){const o=l=>{const A=a.refinement(l,i);if(n.common.async)return Promise.resolve(A);if(A instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Cc(o))return Ot;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Cc(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ot);pr.assertNever(a)}}Oi.create=(e,t,r)=>new Oi({schema:e,typeName:Lt.ZodEffects,effect:t,...tr(r)});Oi.createWithPreprocess=(e,t,r)=>new Oi({schema:t,effect:{type:"preprocess",transform:e},typeName:Lt.ZodEffects,...tr(r)});class fo extends Ar{_parse(t){return this._getType(t)===bt.undefined?Ks(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}fo.create=(e,t)=>new fo({innerType:e,typeName:Lt.ZodOptional,...tr(t)});class vA extends Ar{_parse(t){return this._getType(t)===bt.null?Ks(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vA.create=(e,t)=>new vA({innerType:e,typeName:Lt.ZodNullable,...tr(t)});class $h extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===bt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$h.create=(e,t)=>new $h({innerType:e,typeName:Lt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...tr(t)});class Gh extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Qh(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _a(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _a(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Gh.create=(e,t)=>new Gh({innerType:e,typeName:Lt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...tr(t)});class gg extends Ar{_parse(t){if(this._getType(t)!==bt.nan){const n=this._getOrReturnCtx(t);return ut(n,{code:Ge.invalid_type,expected:bt.nan,received:n.parsedType}),Ot}return{status:"valid",value:t.data}}}gg.create=e=>new gg({typeName:Lt.ZodNaN,...tr(e)});const Pz=Symbol("zod_brand");class tB extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Fm extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ot:i.status==="dirty"?(r.dirty(),Td(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ot:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Fm({in:t,out:r,typeName:Lt.ZodPipeline})}}class Wh extends Ar{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Cc(a)&&(a.value=Object.freeze(a.value)),a);return Qh(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Wh.create=(e,t)=>new Wh({innerType:e,typeName:Lt.ZodReadonly,...tr(t)});function j2(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function rB(e,t={},r){return e?ju.create().superRefine((n,a)=>{const i=e(n);if(i instanceof Promise)return i.then(o=>{if(!o){const l=j2(t,n),A=l.fatal??r??!0;a.addIssue({code:"custom",...l,fatal:A})}});if(!i){const o=j2(t,n),l=o.fatal??r??!0;a.addIssue({code:"custom",...o,fatal:l})}}):ju.create()}const Oz={object:tn.lazycreate};var Lt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const Rz=(e,t={message:`Input not instance of ${e.name}`})=>rB(r=>r instanceof e,t),pt=Si.create,Mc=pA.create,Lz=gg.create,Mz=gA.create,na=Dh.create,Hz=Bc.create,Kz=hg.create,Vz=Ph.create,qD=Oh.create,xg=ju.create,$z=oc.create,Gz=ll.create,Wz=mg.create,Al=ki.create,Wn=tn.create,zz=tn.strictCreate,nB=Rh.create,Xz=Mx.create,qz=Lh.create,Yz=bo.create,YD=Mh.create,Jz=pg.create,Zz=jc.create,eX=Hd.create,tX=Hh.create,In=Kh.create,Gu=xA.create,rX=Vh.create,nX=Nu.create,N2=Oi.create,sX=fo.create,aX=vA.create,iX=Oi.createWithPreprocess,oX=Fm.create,lX=()=>pt().optional(),AX=()=>Mc().optional(),cX=()=>na().optional(),JD={string:e=>Si.create({...e,coerce:!0}),number:e=>pA.create({...e,coerce:!0}),boolean:e=>Dh.create({...e,coerce:!0}),bigint:e=>gA.create({...e,coerce:!0}),date:e=>Bc.create({...e,coerce:!0})},dX=Ot,uX=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Pz,DIRTY:Td,EMPTY_PATH:mz,INVALID:Ot,NEVER:dX,OK:Ks,ParseStatus:js,Schema:Ar,ZodAny:ju,ZodArray:ki,ZodBigInt:gA,ZodBoolean:Dh,ZodBranded:tB,ZodCatch:Gh,ZodDate:Bc,ZodDefault:$h,ZodDiscriminatedUnion:Mx,ZodEffects:Oi,ZodEnum:xA,ZodError:_a,get ZodFirstPartyTypeKind(){return Lt},ZodFunction:Hd,ZodIntersection:Lh,ZodIssueCode:Ge,ZodLazy:Hh,ZodLiteral:Kh,ZodMap:pg,ZodNaN:gg,ZodNativeEnum:Vh,ZodNever:ll,ZodNull:Oh,ZodNullable:vA,ZodNumber:pA,ZodObject:tn,ZodOptional:fo,ZodParsedType:bt,ZodPipeline:Fm,ZodPromise:Nu,ZodReadonly:Wh,ZodRecord:Mh,ZodSchema:Ar,ZodSet:jc,ZodString:Si,ZodSymbol:hg,ZodTransformer:Oi,ZodTuple:bo,ZodType:Ar,ZodUndefined:Ph,ZodUnion:Rh,ZodUnknown:oc,ZodVoid:mg,addIssueToContext:ut,any:xg,array:Al,bigint:Mz,boolean:na,coerce:JD,custom:rB,date:Hz,datetimeRegex:zD,defaultErrorMap:Bu,discriminatedUnion:Xz,effect:N2,enum:Gu,function:eX,getErrorMap:ug,getParsedType:Lo,instanceof:Rz,intersection:qz,isAborted:_1,isAsync:Qh,isDirty:k1,isValid:Cc,late:Oz,lazy:tX,literal:In,makeIssue:fg,map:Jz,nan:Lz,nativeEnum:rX,never:Gz,null:qD,nullable:aX,number:Mc,object:Wn,get objectUtil(){return T1},oboolean:cX,onumber:AX,optional:sX,ostring:lX,pipeline:oX,preprocess:iX,promise:nX,quotelessJson:fz,record:YD,set:Zz,setErrorMap:hz,strictObject:zz,string:pt,symbol:Kz,transformer:N2,tuple:Yz,undefined:Vz,union:nB,unknown:$z,get util(){return pr},void:Wz},Symbol.toStringTag,{value:"Module"})),Le=Symbol.for("drizzle:entityKind");function Bn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Le))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(Le in r&&r[Le]===t[Le])return!0;r=Object.getPrototypeOf(r)}return!1}var ZS;ZS=Le;class Eu{constructor(t,r){le(this,"name");le(this,"keyAsName");le(this,"primary");le(this,"notNull");le(this,"default");le(this,"defaultFn");le(this,"onUpdateFn");le(this,"hasDefault");le(this,"isUnique");le(this,"uniqueName");le(this,"uniqueType");le(this,"dataType");le(this,"columnType");le(this,"enumValues");le(this,"generated");le(this,"generatedIdentity");le(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}le(Eu,ZS,"Column");var eF;eF=Le;class ZD{constructor(t,r,n){le(this,"config");le(this,"$default",this.$defaultFn);le(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}le(ZD,eF,"ColumnBuilder");const Kd=Symbol.for("drizzle:Name");var tF;tF=Le;class eP{constructor(t,r){le(this,"reference");le(this,"_onUpdate","no action");le(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:i}=t();return{name:n,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new tP(t,this)}}le(eP,tF,"PgForeignKeyBuilder");var rF;rF=Le;class tP{constructor(t,r){le(this,"reference");le(this,"onUpdate");le(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),a=r.map(l=>l.name),i=n.map(l=>l.name),o=[this.table[Kd],...a,n[0].table[Kd],...i];return t??`${o.join("_")}_fk`}}le(tP,rF,"PgForeignKey");function fX(e,...t){return e(...t)}function hX(e,t){return`${e[Kd]}_${t.join("_")}_unique`}function E2(e,t,r){for(let n=t;n<e.length;n++){const a=e[n];if(a==="\\"){n++;continue}if(a==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function rP(e,t=0){const r=[];let n=t,a=!1;for(;n<e.length;){const i=e[n];if(i===","){(a||n===t)&&r.push(""),a=!0,n++;continue}if(a=!1,i==="\\"){n+=2;continue}if(i==='"'){const[A,c]=E2(e,n+1,!0);r.push(A),n=c;continue}if(i==="}")return[r,n+1];if(i==="{"){const[A,c]=rP(e,n+1);r.push(A),n=c;continue}const[o,l]=E2(e,n,!1);r.push(o),n=l}return[r,n]}function mX(e){const[t]=rP(e,1);return t}function nP(e){return`{${e.map(t=>Array.isArray(t)?nP(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var nF,sF;class gr extends(sF=ZD,nF=Le,sF){constructor(){super(...arguments);le(this,"foreignKeyConfigs",[])}array(r){return new aP(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>fX((o,l)=>{const A=new eP(()=>{const c=o();return{columns:[r],foreignColumns:[c]}});return l.onUpdate&&A.onUpdate(l.onUpdate),l.onDelete&&A.onDelete(l.onDelete),A.build(n)},a,i))}buildExtraConfigColumn(r){return new sP(r,this.config)}}le(gr,nF,"PgColumnBuilder");var aF,iF;class rr extends(iF=Eu,aF=Le,iF){constructor(t,r){r.uniqueName||(r.uniqueName=hX(t,[r.name])),super(t,r),this.table=t}}le(rr,aF,"PgColumn");var oF,lF;class sP extends(lF=rr,oF=Le,lF){constructor(){super(...arguments);le(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});le(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}le(sP,oF,"ExtraConfigColumn");var AF;AF=Le;class yp{constructor(t,r,n,a){le(this,"name");le(this,"keyAsName");le(this,"type");le(this,"indexConfig");this.name=t,this.keyAsName=r,this.type=n,this.indexConfig=a}}le(yp,AF,"IndexedColumn");var cF,dF;class aP extends(dF=gr,cF=Le,dF){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new U1(t,this.config,r)}}le(aP,cF,"PgArrayBuilder");var uF,fF;const Zg=class Zg extends(fF=rr,uF=Le,fF){constructor(r,n,a,i){super(r,n);le(this,"size");this.baseColumn=a,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=mX(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const a=r.map(i=>i===null?null:Bn(this.baseColumn,Zg)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?a:nP(a)}};le(Zg,uF,"PgArray");let U1=Zg;const S2=Symbol.for("drizzle:isPgEnum");function pX(e){return!!e&&typeof e=="function"&&S2 in e&&e[S2]===!0}var hF;hF=Le;class sB{constructor(t,r,n,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:a}}}le(sB,hF,"Subquery");const gX={startActiveSpan(e,t){return t()}},Vd=Symbol.for("drizzle:ViewBaseConfig"),gy=Symbol.for("drizzle:Schema"),F2=Symbol.for("drizzle:Columns"),T2=Symbol.for("drizzle:ExtraConfigColumns"),xy=Symbol.for("drizzle:OriginalName"),vy=Symbol.for("drizzle:BaseName"),vg=Symbol.for("drizzle:IsAlias"),_2=Symbol.for("drizzle:ExtraConfigBuilder"),iP=Symbol.for("drizzle:IsDrizzleTable");var mF,pF,gF,xF,vF,yF,wF,bF,CF,BF,Z0;let ja=(BF=Le,CF=Kd,bF=xy,wF=gy,yF=F2,vF=T2,xF=vy,gF=vg,pF=iP,mF=_2,Z0=class{constructor(t,r,n){le(this,CF);le(this,bF);le(this,wF);le(this,yF);le(this,vF);le(this,xF);le(this,gF,!1);le(this,pF,!0);le(this,mF);this[Kd]=this[xy]=t,this[gy]=r,this[vy]=n}},le(Z0,BF,"Table"),le(Z0,"Symbol",{Name:Kd,Schema:gy,OriginalName:xy,Columns:F2,ExtraConfigColumns:T2,BaseName:vy,IsAlias:vg,ExtraConfigBuilder:_2}),Z0);function oP(e){return typeof e=="object"&&e!==null&&iP in e}function xX(e){return e!=null&&typeof e.getSQL=="function"}function vX(e){var r;const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),(r=n.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}var jF;jF=Le;class Ka{constructor(t){le(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new cn([this])}}le(Ka,jF,"StringChunk");var NF;NF=Le;const RA=class RA{constructor(t){le(this,"decoder",lP);le(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return gX.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:A,paramStartIndex:c}=n;return vX(t.map(d=>{var u;if(Bn(d,Ka))return{sql:d.value.join(""),params:[]};if(Bn(d,yg))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const f=[new Ka("(")];for(const[m,p]of d.entries())f.push(p),m<d.length-1&&f.push(new Ka(", "));return f.push(new Ka(")")),this.buildQueryFromSourceParams(f,n)}if(Bn(d,RA))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:A||d.shouldInlineParams});if(Bn(d,ja)){const f=d[ja.Symbol.Schema],m=d[ja.Symbol.Name];return{sql:f===void 0||d[vg]?i(m):i(f)+"."+i(m),params:[]}}if(Bn(d,Eu)){const f=a.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(f),params:[]};const m=d.table[ja.Symbol.Schema];return{sql:d.table[vg]||m===void 0?i(d.table[ja.Symbol.Name])+"."+i(f):i(m)+"."+i(d.table[ja.Symbol.Name])+"."+i(f),params:[]}}if(Bn(d,dP)){const f=d[Vd].schema,m=d[Vd].name;return{sql:f===void 0||d[Vd].isAlias?i(m):i(f)+"."+i(m),params:[]}}if(Bn(d,aB)){if(Bn(d.value,wg))return{sql:o(c.value++,d),params:[d],typings:["none"]};const f=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Bn(f,RA))return this.buildQueryFromSourceParams([f],n);if(A)return{sql:this.mapInlineParam(f,n),params:[]};let m=["none"];return l&&(m=[l(d.encoder)]),{sql:o(c.value++,f),params:[f],typings:m}}return Bn(d,wg)?{sql:o(c.value++,d),params:[d],typings:["none"]}:Bn(d,RA.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Bn(d,sB)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Ka("("),d._.sql,new Ka(") "),new yg(d._.alias)],n):pX(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:xX(d)?(u=d.shouldOmitSQLParens)!=null&&u.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Ka("("),d.getSQL(),new Ka(")")],n):A?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(c.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new RA.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};le(RA,NF,"SQL");let cn=RA;var EF;EF=Le;class yg{constructor(t){le(this,"brand");this.value=t}getSQL(){return new cn([this])}}le(yg,EF,"Name");const lP={mapFromDriverValue:e=>e},AP={mapToDriverValue:e=>e};({...lP,...AP});var SF;SF=Le;class aB{constructor(t,r=AP){le(this,"brand");this.value=t,this.encoder=r}getSQL(){return new cn([this])}}le(aB,SF,"Param");function lr(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new Ka(e[0]));for(const[n,a]of t.entries())r.push(a,new Ka(e[n+1]));return new cn(r)}(e=>{function t(){return new cn([])}e.empty=t;function r(A){return new cn(A)}e.fromList=r;function n(A){return new cn([new Ka(A)])}e.raw=n;function a(A,c){const d=[];for(const[u,f]of A.entries())u>0&&c!==void 0&&d.push(c),d.push(f);return new cn(d)}e.join=a;function i(A){return new yg(A)}e.identifier=i;function o(A){return new wg(A)}e.placeholder=o;function l(A,c){return new aB(A,c)}e.param=l})(lr||(lr={}));(e=>{var r;r=Le;const n=class n{constructor(i,o){le(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};le(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(cn||(cn={}));var FF;FF=Le;class wg{constructor(t){this.name=t}getSQL(){return new cn([this])}}le(wg,FF,"Placeholder");const cP=Symbol.for("drizzle:IsDrizzleView");var TF,_F,kF;kF=Le,_F=Vd,TF=cP;class dP{constructor({name:t,schema:r,selectedFields:n,query:a}){le(this,_F);le(this,TF,!0);this[Vd]={name:t,originalName:t,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new cn([this])}}le(dP,kF,"View");function yX(e){return typeof e=="object"&&e!==null&&cP in e}Eu.prototype.getSQL=function(){return new cn([this])};ja.prototype.getSQL=function(){return new cn([this])};sB.prototype.getSQL=function(){return new cn([this])};function wX(e){return e[ja.Symbol.Columns]}function bX(e){return e[Vd].selectedFields}function zn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var IF,UF;class Tm extends(UF=gr,IF=Le,UF){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}le(Tm,IF,"PgIntColumnBaseBuilder");var QF,DF;class uP extends(DF=Tm,QF=Le,DF){constructor(t){super(t,"number","PgBigInt53")}build(t){return new fP(t,this.config)}}le(uP,QF,"PgBigInt53Builder");var PF,OF;class fP extends(OF=rr,PF=Le,OF){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}le(fP,PF,"PgBigInt53");var RF,LF;class hP extends(LF=Tm,RF=Le,LF){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new mP(t,this.config)}}le(hP,RF,"PgBigInt64Builder");var MF,HF;class mP extends(HF=rr,MF=Le,HF){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}le(mP,MF,"PgBigInt64");function CX(e,t){const{name:r,config:n}=zn(e,t);return n.mode==="number"?new uP(r):new hP(r)}var KF,VF;class pP extends(VF=gr,KF=Le,VF){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new gP(t,this.config)}}le(pP,KF,"PgBigSerial53Builder");var $F,GF;class gP extends(GF=rr,$F=Le,GF){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}le(gP,$F,"PgBigSerial53");var WF,zF;class xP extends(zF=gr,WF=Le,zF){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new vP(t,this.config)}}le(xP,WF,"PgBigSerial64Builder");var XF,qF;class vP extends(qF=rr,XF=Le,qF){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}le(vP,XF,"PgBigSerial64");function BX(e,t){const{name:r,config:n}=zn(e,t);return n.mode==="number"?new pP(r):new xP(r)}var YF,JF;class yP extends(JF=gr,YF=Le,JF){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new wP(t,this.config)}}le(yP,YF,"PgBooleanBuilder");var ZF,eT;class wP extends(eT=rr,ZF=Le,eT){getSQLType(){return"boolean"}}le(wP,ZF,"PgBoolean");function un(e){return new yP(e??"")}var tT,rT;class bP extends(rT=gr,tT=Le,rT){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new CP(t,this.config)}}le(bP,tT,"PgCharBuilder");var nT,sT;class CP extends(sT=rr,nT=Le,sT){constructor(){super(...arguments);le(this,"length",this.config.length);le(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}le(CP,nT,"PgChar");function jX(e,t={}){const{name:r,config:n}=zn(e,t);return new bP(r,n)}var aT,iT;class BP extends(iT=gr,aT=Le,iT){constructor(t){super(t,"string","PgCidr")}build(t){return new jP(t,this.config)}}le(BP,aT,"PgCidrBuilder");var oT,lT;class jP extends(lT=rr,oT=Le,lT){getSQLType(){return"cidr"}}le(jP,oT,"PgCidr");function NX(e){return new BP(e??"")}var AT,cT;class NP extends(cT=gr,AT=Le,cT){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new EP(t,this.config)}}le(NP,AT,"PgCustomColumnBuilder");var dT,uT;class EP extends(uT=rr,dT=Le,uT){constructor(r,n){super(r,n);le(this,"sqlName");le(this,"mapTo");le(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}le(EP,dT,"PgCustomColumn");function EX(e){return(t,r)=>{const{name:n,config:a}=zn(t,r);return new NP(n,a,e)}}var fT,hT;class Wu extends(hT=gr,fT=Le,hT){defaultNow(){return this.default(lr`now()`)}}le(Wu,fT,"PgDateColumnBaseBuilder");var mT,pT;class SP extends(pT=Wu,mT=Le,pT){constructor(t){super(t,"date","PgDate")}build(t){return new FP(t,this.config)}}le(SP,mT,"PgDateBuilder");var gT,xT;class FP extends(xT=rr,gT=Le,xT){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}le(FP,gT,"PgDate");var vT,yT;class TP extends(yT=Wu,vT=Le,yT){constructor(t){super(t,"string","PgDateString")}build(t){return new _P(t,this.config)}}le(TP,vT,"PgDateStringBuilder");var wT,bT;class _P extends(bT=rr,wT=Le,bT){getSQLType(){return"date"}}le(_P,wT,"PgDateString");function Aa(e,t){const{name:r,config:n}=zn(e,t);return(n==null?void 0:n.mode)==="date"?new SP(r):new TP(r)}var CT,BT;class kP extends(BT=gr,CT=Le,BT){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new IP(t,this.config)}}le(kP,CT,"PgDoublePrecisionBuilder");var jT,NT;class IP extends(NT=rr,jT=Le,NT){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}le(IP,jT,"PgDoublePrecision");function SX(e){return new kP(e??"")}var ET,ST;class UP extends(ST=gr,ET=Le,ST){constructor(t){super(t,"string","PgInet")}build(t){return new QP(t,this.config)}}le(UP,ET,"PgInetBuilder");var FT,TT;class QP extends(TT=rr,FT=Le,TT){getSQLType(){return"inet"}}le(QP,FT,"PgInet");function FX(e){return new UP(e??"")}var _T,kT;class DP extends(kT=Tm,_T=Le,kT){constructor(t){super(t,"number","PgInteger")}build(t){return new PP(t,this.config)}}le(DP,_T,"PgIntegerBuilder");var IT,UT;class PP extends(UT=rr,IT=Le,UT){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}le(PP,IT,"PgInteger");function oi(e){return new DP(e??"")}var QT,DT;class OP extends(DT=gr,QT=Le,DT){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new RP(t,this.config)}}le(OP,QT,"PgIntervalBuilder");var PT,OT;class RP extends(OT=rr,PT=Le,OT){constructor(){super(...arguments);le(this,"fields",this.config.intervalConfig.fields);le(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}le(RP,PT,"PgInterval");function TX(e,t={}){const{name:r,config:n}=zn(e,t);return new OP(r,n)}var RT,LT;class LP extends(LT=gr,RT=Le,LT){constructor(t){super(t,"json","PgJson")}build(t){return new MP(t,this.config)}}le(LP,RT,"PgJsonBuilder");var MT,HT;class MP extends(HT=rr,MT=Le,HT){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}le(MP,MT,"PgJson");function _X(e){return new LP(e??"")}var KT,VT;class HP extends(VT=gr,KT=Le,VT){constructor(t){super(t,"json","PgJsonb")}build(t){return new KP(t,this.config)}}le(HP,KT,"PgJsonbBuilder");var $T,GT;class KP extends(GT=rr,$T=Le,GT){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}le(KP,$T,"PgJsonb");function ca(e){return new HP(e??"")}var WT,zT;class VP extends(zT=gr,WT=Le,zT){constructor(t){super(t,"array","PgLine")}build(t){return new $P(t,this.config)}}le(VP,WT,"PgLineBuilder");var XT,qT;class $P extends(qT=rr,XT=Le,qT){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}le($P,XT,"PgLine");var YT,JT;class GP extends(JT=gr,YT=Le,JT){constructor(t){super(t,"json","PgLineABC")}build(t){return new WP(t,this.config)}}le(GP,YT,"PgLineABCBuilder");var ZT,e4;class WP extends(e4=rr,ZT=Le,e4){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}le(WP,ZT,"PgLineABC");function kX(e,t){const{name:r,config:n}=zn(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new VP(r):new GP(r)}var t4,r4;class zP extends(r4=gr,t4=Le,r4){constructor(t){super(t,"string","PgMacaddr")}build(t){return new XP(t,this.config)}}le(zP,t4,"PgMacaddrBuilder");var n4,s4;class XP extends(s4=rr,n4=Le,s4){getSQLType(){return"macaddr"}}le(XP,n4,"PgMacaddr");function IX(e){return new zP(e??"")}var a4,i4;class qP extends(i4=gr,a4=Le,i4){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new YP(t,this.config)}}le(qP,a4,"PgMacaddr8Builder");var o4,l4;class YP extends(l4=rr,o4=Le,l4){getSQLType(){return"macaddr8"}}le(YP,o4,"PgMacaddr8");function UX(e){return new qP(e??"")}var A4,c4;class JP extends(c4=gr,A4=Le,c4){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new ZP(t,this.config)}}le(JP,A4,"PgNumericBuilder");var d4,u4;class ZP extends(u4=rr,d4=Le,u4){constructor(r,n){super(r,n);le(this,"precision");le(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}le(ZP,d4,"PgNumeric");function QX(e,t){const{name:r,config:n}=zn(e,t);return new JP(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var f4,h4;class e3 extends(h4=gr,f4=Le,h4){constructor(t){super(t,"array","PgPointTuple")}build(t){return new t3(t,this.config)}}le(e3,f4,"PgPointTupleBuilder");var m4,p4;class t3 extends(p4=rr,m4=Le,p4){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}le(t3,m4,"PgPointTuple");var g4,x4;class r3 extends(x4=gr,g4=Le,x4){constructor(t){super(t,"json","PgPointObject")}build(t){return new n3(t,this.config)}}le(r3,g4,"PgPointObjectBuilder");var v4,y4;class n3 extends(y4=rr,v4=Le,y4){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}le(n3,v4,"PgPointObject");function DX(e,t){const{name:r,config:n}=zn(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new e3(r):new r3(r)}function PX(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function k2(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,e[t+a]);return n.getFloat64(0,!0)}function s3(e){const t=PX(e);let r=0;const n=t[r];r+=1;const a=new DataView(t.buffer),i=a.getUint32(r,n===1);if(r+=4,i&536870912&&(a.getUint32(r,n===1),r+=4),(i&65535)===1){const o=k2(t,r);r+=8;const l=k2(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var w4,b4;class a3 extends(b4=gr,w4=Le,b4){constructor(t){super(t,"array","PgGeometry")}build(t){return new i3(t,this.config)}}le(a3,w4,"PgGeometryBuilder");var C4,B4;class i3 extends(B4=rr,C4=Le,B4){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return s3(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}le(i3,C4,"PgGeometry");var j4,N4;class o3 extends(N4=gr,j4=Le,N4){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new l3(t,this.config)}}le(o3,j4,"PgGeometryObjectBuilder");var E4,S4;class l3 extends(S4=rr,E4=Le,S4){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=s3(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}le(l3,E4,"PgGeometryObject");function OX(e,t){const{name:r,config:n}=zn(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new a3(r):new o3(r)}var F4,T4;class A3 extends(T4=gr,F4=Le,T4){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new c3(t,this.config)}}le(A3,F4,"PgRealBuilder");var _4,k4;class c3 extends(k4=rr,_4=Le,k4){constructor(r,n){super(r,n);le(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}le(c3,_4,"PgReal");function RX(e){return new A3(e??"")}var I4,U4;class d3 extends(U4=gr,I4=Le,U4){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new u3(t,this.config)}}le(d3,I4,"PgSerialBuilder");var Q4,D4;class u3 extends(D4=rr,Q4=Le,D4){getSQLType(){return"serial"}}le(u3,Q4,"PgSerial");function LX(e){return new d3(e??"")}var P4,O4;class f3 extends(O4=Tm,P4=Le,O4){constructor(t){super(t,"number","PgSmallInt")}build(t){return new h3(t,this.config)}}le(f3,P4,"PgSmallIntBuilder");var R4,L4;class h3 extends(L4=rr,R4=Le,L4){constructor(){super(...arguments);le(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}le(h3,R4,"PgSmallInt");function MX(e){return new f3(e??"")}var M4,H4;class m3 extends(H4=gr,M4=Le,H4){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new p3(t,this.config)}}le(m3,M4,"PgSmallSerialBuilder");var K4,V4;class p3 extends(V4=rr,K4=Le,V4){getSQLType(){return"smallserial"}}le(p3,K4,"PgSmallSerial");function HX(e){return new m3(e??"")}var $4,G4;class g3 extends(G4=gr,$4=Le,G4){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new x3(t,this.config)}}le(g3,$4,"PgTextBuilder");var W4,z4;class x3 extends(z4=rr,W4=Le,z4){constructor(){super(...arguments);le(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}le(x3,W4,"PgText");function Vs(e,t={}){const{name:r,config:n}=zn(e,t);return new g3(r,n)}var X4,q4;class v3 extends(q4=Wu,X4=Le,q4){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new y3(t,this.config)}}le(v3,X4,"PgTimeBuilder");var Y4,J4;class y3 extends(J4=rr,Y4=Le,J4){constructor(r,n){super(r,n);le(this,"withTimezone");le(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}le(y3,Y4,"PgTime");function KX(e,t={}){const{name:r,config:n}=zn(e,t);return new v3(r,n.withTimezone??!1,n.precision)}var Z4,e_;class w3 extends(e_=Wu,Z4=Le,e_){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new b3(t,this.config)}}le(w3,Z4,"PgTimestampBuilder");var t_,r_;class b3 extends(r_=rr,t_=Le,r_){constructor(r,n){super(r,n);le(this,"withTimezone");le(this,"precision");le(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));le(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}le(b3,t_,"PgTimestamp");var n_,s_;class C3 extends(s_=Wu,n_=Le,s_){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new B3(t,this.config)}}le(C3,n_,"PgTimestampStringBuilder");var a_,i_;class B3 extends(i_=rr,a_=Le,i_){constructor(r,n){super(r,n);le(this,"withTimezone");le(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}le(B3,a_,"PgTimestampString");function Ft(e,t={}){const{name:r,config:n}=zn(e,t);return(n==null?void 0:n.mode)==="string"?new C3(r,n.withTimezone??!1,n.precision):new w3(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var o_,l_;class j3 extends(l_=gr,o_=Le,l_){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(lr`gen_random_uuid()`)}build(t){return new N3(t,this.config)}}le(j3,o_,"PgUUIDBuilder");var A_,c_;class N3 extends(c_=rr,A_=Le,c_){getSQLType(){return"uuid"}}le(N3,A_,"PgUUID");function dt(e){return new j3(e??"")}var d_,u_;class E3 extends(u_=gr,d_=Le,u_){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new S3(t,this.config)}}le(E3,d_,"PgVarcharBuilder");var f_,h_;class S3 extends(h_=rr,f_=Le,h_){constructor(){super(...arguments);le(this,"length",this.config.length);le(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}le(S3,f_,"PgVarchar");function Xe(e,t={}){const{name:r,config:n}=zn(e,t);return new E3(r,n)}var m_,p_;class F3 extends(p_=gr,m_=Le,p_){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new T3(t,this.config)}}le(F3,m_,"PgBinaryVectorBuilder");var g_,x_;class T3 extends(x_=rr,g_=Le,x_){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}le(T3,g_,"PgBinaryVector");function VX(e,t){const{name:r,config:n}=zn(e,t);return new F3(r,n)}var v_,y_;class _3 extends(y_=gr,v_=Le,y_){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new k3(t,this.config)}}le(_3,v_,"PgHalfVectorBuilder");var w_,b_;class k3 extends(b_=rr,w_=Le,b_){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}le(k3,w_,"PgHalfVector");function $X(e,t){const{name:r,config:n}=zn(e,t);return new _3(r,n)}var C_,B_;class I3 extends(B_=gr,C_=Le,B_){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new U3(t,this.config)}}le(I3,C_,"PgSparseVectorBuilder");var j_,N_;class U3 extends(N_=rr,j_=Le,N_){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}le(U3,j_,"PgSparseVector");function GX(e,t){const{name:r,config:n}=zn(e,t);return new I3(r,n)}var E_,S_;class Q3 extends(S_=gr,E_=Le,S_){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new D3(t,this.config)}}le(Q3,E_,"PgVectorBuilder");var F_,T_;class D3 extends(T_=rr,F_=Le,T_){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}le(D3,F_,"PgVector");function WX(e,t){const{name:r,config:n}=zn(e,t);return new Q3(r,n)}function zX(){return{bigint:CX,bigserial:BX,boolean:un,char:jX,cidr:NX,customType:EX,date:Aa,doublePrecision:SX,inet:FX,integer:oi,interval:TX,json:_X,jsonb:ca,line:kX,macaddr:IX,macaddr8:UX,numeric:QX,point:DX,geometry:OX,real:RX,serial:LX,smallint:MX,smallserial:HX,text:Vs,time:KX,timestamp:Ft,uuid:dt,varchar:Xe,bit:VX,halfvec:$X,sparsevec:GX,vector:WX}}const Q1=Symbol.for("drizzle:PgInlineForeignKeys"),I2=Symbol.for("drizzle:EnableRLS");var __,k_,I_,U_,Q_;class Jf extends(Q_=ja,U_=Le,I_=Q1,k_=I2,__=ja.Symbol.ExtraConfigBuilder,Q_){constructor(){super(...arguments);le(this,I_,[]);le(this,k_,!1);le(this,__)}}le(Jf,U_,"PgTable"),le(Jf,"Symbol",Object.assign({},ja.Symbol,{InlineForeignKeys:Q1,EnableRLS:I2}));function XX(e,t,r,n,a=e){const i=new Jf(e,n,a),o=typeof t=="function"?t(zX()):t,l=Object.fromEntries(Object.entries(o).map(([d,u])=>{const f=u;f.setName(d);const m=f.build(i);return i[Q1].push(...f.buildForeignKeys(m,i)),[d,m]})),A=Object.fromEntries(Object.entries(o).map(([d,u])=>{const f=u;f.setName(d);const m=f.buildExtraConfigColumn(i);return[d,m]})),c=Object.assign(i,l);return c[ja.Symbol.Columns]=l,c[ja.Symbol.ExtraConfigColumns]=A,r&&(c[Jf.Symbol.ExtraConfigBuilder]=r),Object.assign(c,{enableRLS:()=>(c[Jf.Symbol.EnableRLS]=!0,c)})}const Wr=(e,t,r)=>XX(e,t,r,void 0);var D_;D_=Le;class P3{constructor(t,r){this.unique=t,this.name=r}on(...t){return new wp(t.map(r=>{if(Bn(r,cn))return r;r=r;const n=new yp(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...t){return new wp(t.map(r=>{if(Bn(r,cn))return r;r=r;const n=new yp(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(t,...r){return new wp(r.map(n=>{if(Bn(n,cn))return n;n=n;const a=new yp(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),a}),this.unique,!0,this.name,t)}}le(P3,D_,"PgIndexBuilderOn");var P_;P_=Le;class wp{constructor(t,r,n,a,i="btree"){le(this,"config");this.config={name:a,columns:t,unique:r,only:n,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new O3(this.config,t)}}le(wp,P_,"PgIndexBuilder");var O_;O_=Le;class O3{constructor(t,r){le(this,"config");this.config={...t,table:r}}}le(O3,O_,"PgIndex");function qX(e){return new P3(!1,e)}const en={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function xn(e,t){return t.includes(e.columnType)}function YX(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const JX=nB([pt(),Mc(),na(),qD()]),ZX=nB([JX,YD(xg()),Al(xg())]),eq=rB(e=>e instanceof Buffer);function R3(e,t){const r=(t==null?void 0:t.zodInstance)??uX,n=(t==null?void 0:t.coerce)??{};let a;return YX(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(xn(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):xn(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):xn(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):xn(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):xn(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):xn(e,["PgArray"])?(a=r.array(R3(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=tq(e,r,n):e.dataType==="bigint"?a=rq(e,r,n):e.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?a=nq(e,r,n):e.dataType==="json"?a=ZX:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=eq)),a||(a=r.any()),a}function tq(e,t,r){let n=e.getSQLType().includes("unsigned"),a,i,o=!1;xn(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:en.INT8_MIN,i=n?en.INT8_UNSIGNED_MAX:en.INT8_MAX,o=!0):xn(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:en.INT16_MIN,i=n?en.INT16_UNSIGNED_MAX:en.INT16_MAX,o=!0):xn(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:en.INT24_MIN,i=n?en.INT24_UNSIGNED_MAX:en.INT24_MAX,o=xn(e,["MySqlMediumInt","SingleStoreMediumInt"])):xn(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:en.INT32_MIN,i=n?en.INT32_UNSIGNED_MAX:en.INT32_MAX,o=!0):xn(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:en.INT48_MIN,i=n?en.INT48_UNSIGNED_MAX:en.INT48_MAX):xn(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||xn(e,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):xn(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function rq(e,t,r){const n=e.getSQLType().includes("unsigned"),a=n?0n:en.INT64_MIN,i=n?en.INT64_UNSIGNED_MAX:en.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function nq(e,t,r){if(xn(e,["PgUUID"]))return t.string().uuid();let n,a,i=!1;xn(e,["PgVarchar","SQLiteText"])?n=e.length:xn(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??en.INT16_UNSIGNED_MAX:xn(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=en.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=en.INT24_UNSIGNED_MAX:e.textType==="text"?n=en.INT16_UNSIGNED_MAX:n=en.INT8_UNSIGNED_MAX),xn(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,i=!0),xn(e,["PgBinaryVector"])&&(a=/^[01]+$/,n=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=a?o.regex(a):o,n&&i?o.length(n):n?o.max(n):o}function L3(e){return oP(e)?wX(e):bX(e)}function M3(e,t,r,n){const a={};for(const[i,o]of Object.entries(e)){if(!Bn(o,Eu)&&!Bn(o,cn)&&!Bn(o,cn.Aliased)&&typeof o=="object"){const u=oP(o)||yX(o)?L3(o):o;a[i]=M3(u,t[i]??{},r,n);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const A=Bn(o,Eu)?o:void 0,c=A?R3(A,n):xg(),d=typeof l=="function"?l(c):c;r.never(A)||(a[i]=d,A&&(r.nullable(A)&&(a[i]=a[i].nullable()),r.optional(A)&&(a[i]=a[i].optional())))}return Wn(a)}const sq={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Pr=(e,t)=>{const r=L3(e);return M3(r,{},sq)},Es=Wr("schools",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),name:Xe("name",{length:255}).notNull(),address:Vs("address"),contactPhone:Xe("contact_phone",{length:15}),adminName:Xe("admin_name",{length:255}),isActive:un("is_active").notNull().default(!0),timetableFrozen:un("timetable_frozen").notNull().default(!1),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),li=Wr("users",{id:Xe("id").primaryKey().default(lr`gen_random_uuid()`),email:Xe("email",{length:255}),loginId:Xe("login_id",{length:255}).notNull().unique(),passwordHash:Xe("password_hash",{length:255}).notNull(),temporaryPassword:Xe("temporary_password",{length:255}),temporaryPasswordPlainText:Xe("temporary_password_plain_text",{length:255}),temporaryPasswordExpiresAt:Ft("temporary_password_expires_at"),role:Xe("role",{enum:["super_admin","admin","teacher","student","parent"]}).notNull().default("teacher"),isFirstLogin:un("is_first_login").notNull().default(!0),schoolId:dt("school_id").references(()=>Es.id,{onDelete:"cascade"}),teacherId:dt("teacher_id").references(()=>ua.id,{onDelete:"set null"}),studentId:dt("student_id").references(()=>Hx.id,{onDelete:"set null"}),parentId:dt("parent_id").references(()=>iB.id,{onDelete:"set null"}),firstName:Xe("first_name",{length:255}),lastName:Xe("last_name",{length:255}),passwordChangedAt:Ft("password_changed_at"),lastLoginAt:Ft("last_login_at"),isActive:un("is_active").notNull().default(!0),createdBy:Xe("created_by").references(()=>li.id,{onDelete:"set null"}),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),Hx=Wr("students",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),admissionNumber:Xe("admission_number",{length:50}).notNull().unique(),firstName:Xe("first_name",{length:255}).notNull(),lastName:Xe("last_name",{length:255}).notNull(),email:Xe("email",{length:255}),contactNumber:Xe("contact_number",{length:15}),dateOfBirth:Aa("date_of_birth"),gender:Xe("gender",{enum:["male","female","other"]}),address:Vs("address"),classId:dt("class_id").references(()=>Ai.id,{onDelete:"set null"}),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),rollNumber:Xe("roll_number",{length:20}),bloodGroup:Xe("blood_group",{length:5}),guardianName:Xe("guardian_name",{length:255}),guardianRelation:Xe("guardian_relation",{length:50}),guardianContact:Xe("guardian_contact",{length:15}),emergencyContact:Xe("emergency_contact",{length:15}),medicalInfo:Vs("medical_info"),isActive:un("is_active").notNull().default(!0),status:Xe("status",{enum:["active","inactive","graduated","transferred"]}).notNull().default("active"),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),iB=Wr("parents",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),firstName:Xe("first_name",{length:255}).notNull(),lastName:Xe("last_name",{length:255}).notNull(),email:Xe("email",{length:255}),contactNumber:Xe("contact_number",{length:15}).notNull(),alternateContact:Xe("alternate_contact",{length:15}),address:Vs("address").notNull(),occupation:Xe("occupation",{length:255}),relationToStudent:Xe("relation_to_student",{enum:["father","mother","guardian","other"]}).notNull(),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),aq=Wr("student_parents",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),studentId:dt("student_id").notNull().references(()=>Hx.id,{onDelete:"cascade"}),parentId:dt("parent_id").notNull().references(()=>iB.id,{onDelete:"cascade"}),isPrimary:un("is_primary").notNull().default(!1),createdAt:Ft("created_at").defaultNow()}),H3=Wr("system_modules",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),name:Xe("name",{length:255}).notNull().unique(),displayName:Xe("display_name",{length:255}).notNull(),description:Vs("description"),routePath:Xe("route_path",{length:500}),category:Xe("category",{length:100}),icon:Xe("icon",{length:100}),isActive:un("is_active").notNull().default(!0),sortOrder:oi("sort_order").default(0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),iq=Wr("role_permissions",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),role:Xe("role",{enum:["admin","teacher","student","parent"]}).notNull(),moduleId:dt("module_id").notNull().references(()=>H3.id,{onDelete:"cascade"}),permissions:ca("permissions").$type().notNull().default(lr`'{"read": true, "write": false, "delete": false, "export": false}'::jsonb`),isActive:un("is_active").notNull().default(!0),assignedBy:Xe("assigned_by").notNull().references(()=>li.id,{onDelete:"cascade"}),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),ua=Wr("teachers",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),employeeId:Xe("employee_id",{length:50}).notNull().unique(),name:Xe("name",{length:255}).notNull(),email:Xe("email",{length:255}),contactNumber:Xe("contact_number",{length:15}),schoolIdNumber:Xe("school_id_number",{length:50}),aadhar:Xe("aadhar",{length:12}),gender:Xe("gender",{enum:["male","female","other"]}),bloodGroup:Xe("blood_group",{length:5}),designation:Xe("designation",{length:100}),dateOfBirth:Aa("date_of_birth"),fatherHusbandName:Xe("father_husband_name",{length:255}),address:Vs("address"),category:Xe("category",{length:50}),religion:Xe("religion",{length:50}),profilePictureUrl:Xe("profile_picture_url",{length:500}),subjects:ca("subjects").$type().notNull().default(lr`'[]'::jsonb`),classes:ca("classes").$type().notNull().default(lr`'[]'::jsonb`),availability:ca("availability").$type().notNull().default(lr`'{"monday":[],"tuesday":[],"wednesday":[],"thursday":[],"friday":[],"saturday":[]}'::jsonb`),maxLoad:oi("max_load").notNull().default(30),maxDailyPeriods:oi("max_daily_periods").notNull().default(6),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),isActive:un("is_active").notNull().default(!0),status:Xe("status",{enum:["active","inactive","left_school"]}).notNull().default("active"),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),Kx=Wr("subjects",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),name:Xe("name",{length:255}).notNull(),code:Xe("code",{length:10}).notNull(),periodsPerWeek:oi("periods_per_week").notNull(),color:Xe("color",{length:7}).notNull().default("#3B82F6"),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),Ai=Wr("classes",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),grade:Xe("grade",{length:50}).notNull(),section:Xe("section",{length:10}).notNull(),studentCount:oi("student_count").notNull().default(0),requiredSubjects:ca("required_subjects").$type().notNull().default(lr`'[]'::jsonb`),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),room:Xe("room",{length:100}),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),oq=Wr("class_subject_assignments",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),subjectId:dt("subject_id").notNull().references(()=>Kx.id,{onDelete:"cascade"}),weeklyFrequency:oi("weekly_frequency").notNull(),assignedTeacherId:dt("assigned_teacher_id").references(()=>ua.id,{onDelete:"set null"}),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),K3=Wr("timetable_versions",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),version:Xe("version",{length:10}).notNull(),weekStart:Aa("week_start").notNull(),weekEnd:Aa("week_end").notNull(),isActive:un("is_active").notNull().default(!1),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),oB=Wr("timetable_entries",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),teacherId:dt("teacher_id").notNull().references(()=>ua.id,{onDelete:"cascade"}),subjectId:dt("subject_id").notNull().references(()=>Kx.id,{onDelete:"cascade"}),day:Xe("day",{enum:["monday","tuesday","wednesday","thursday","friday","saturday"]}).notNull(),period:oi("period").notNull(),startTime:Xe("start_time",{length:5}).notNull(),endTime:Xe("end_time",{length:5}).notNull(),room:Xe("room",{length:100}),versionId:dt("version_id").references(()=>K3.id,{onDelete:"cascade"}),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),lq=Wr("timetable_validity_periods",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),validFrom:Aa("valid_from").notNull(),validTo:Aa("valid_to").notNull(),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),Aq=Wr("substitutions",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),originalTeacherId:dt("original_teacher_id").notNull().references(()=>ua.id),substituteTeacherId:dt("substitute_teacher_id").references(()=>ua.id),timetableEntryId:dt("timetable_entry_id").notNull().references(()=>oB.id,{onDelete:"cascade"}),date:Ft("date").notNull(),reason:Vs("reason"),status:Xe("status",{enum:["pending","confirmed","rejected","auto_assigned"]}).notNull().default("pending"),isAutoGenerated:un("is_auto_generated").notNull().default(!1),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),cq=Wr("timetable_changes",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),timetableEntryId:dt("timetable_entry_id").notNull().references(()=>oB.id,{onDelete:"cascade"}),changeType:Xe("change_type",{enum:["substitution","cancellation","room_change","time_change"]}).notNull(),changeDate:Aa("change_date").notNull(),originalTeacherId:dt("original_teacher_id").references(()=>ua.id),newTeacherId:dt("new_teacher_id").references(()=>ua.id),originalRoom:Xe("original_room",{length:100}),newRoom:Xe("new_room",{length:100}),reason:Vs("reason").notNull(),changeSource:Xe("change_source",{enum:["manual","auto_absence","auto_substitution"]}).notNull(),approvedBy:Xe("approved_by").references(()=>li.id),approvedAt:Ft("approved_at"),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),dq=Wr("timetable_structures",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),periodsPerDay:oi("periods_per_day").notNull().default(8),workingDays:ca("working_days").$type().notNull().default(lr`'["monday","tuesday","wednesday","thursday","friday","saturday"]'::jsonb`),timeSlots:ca("time_slots").$type().notNull().default(lr`'[{"period":1,"startTime":"07:30","endTime":"08:15"},{"period":2,"startTime":"08:15","endTime":"09:00"},{"period":3,"startTime":"09:00","endTime":"09:45"},{"period":4,"startTime":"09:45","endTime":"10:15"},{"period":5,"startTime":"10:15","endTime":"11:00","isBreak":true},{"period":6,"startTime":"11:00","endTime":"11:45"},{"period":7,"startTime":"11:45","endTime":"12:30"},{"period":8,"startTime":"12:30","endTime":"13:15"}]'::jsonb`),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),uq=Wr("weekly_timetables",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),weekStart:Aa("week_start").notNull(),weekEnd:Aa("week_end").notNull(),timetableData:ca("timetable_data").$type().notNull().default(lr`'[]'::jsonb`),modifiedBy:Xe("modified_by").notNull().references(()=>li.id,{onDelete:"cascade"}),modificationCount:oi("modification_count").notNull().default(1),basedOnGlobalVersion:Xe("based_on_global_version"),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()},e=>({classWeekIdx:qX("class_week_idx").on(e.classId,e.weekStart)})),fq=Wr("class_teacher_assignments",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),teacherId:dt("teacher_id").notNull().references(()=>ua.id,{onDelete:"cascade"}),role:Xe("role",{enum:["primary","co_class"]}).notNull(),isPrimary:un("is_primary").notNull().default(!1),privileges:ca("privileges").$type().notNull().default(lr`'{"attendance": true, "classFeedPosting": true, "parentCommunication": true, "leaveApproval": true}'::jsonb`),assignedBy:Xe("assigned_by").notNull().references(()=>li.id,{onDelete:"cascade"}),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),hq=Wr("teacher_attendance",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),teacherId:dt("teacher_id").notNull().references(()=>ua.id,{onDelete:"cascade"}),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),attendanceDate:Aa("attendance_date").notNull(),status:Xe("status",{enum:["present","absent","late","on_leave","medical_leave","personal_leave"]}).notNull().default("present"),reason:Vs("reason"),leaveStartDate:Aa("leave_start_date"),leaveEndDate:Aa("leave_end_date"),isFullDay:un("is_full_day").notNull().default(!0),markedBy:Xe("marked_by").references(()=>li.id),markedAt:Ft("marked_at").defaultNow(),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),mq=Wr("student_attendance",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),studentId:dt("student_id").notNull().references(()=>Hx.id,{onDelete:"cascade"}),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),attendanceDate:Aa("attendance_date").notNull(),status:Xe("status",{enum:["present","absent","late","excused"]}).notNull().default("present"),reason:Vs("reason"),markedBy:Xe("marked_by").references(()=>li.id),markedAt:Ft("marked_at").defaultNow(),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),pq=Wr("audit_logs",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),userId:Xe("user_id").notNull().references(()=>li.id,{onDelete:"cascade"}),action:Xe("action",{length:100}).notNull(),entityType:Xe("entity_type",{length:50}).notNull(),entityId:Xe("entity_id",{length:36}).notNull(),previousValues:ca("previous_values"),newValues:ca("new_values"),description:Vs("description"),createdAt:Ft("created_at").defaultNow()});Pr(Es).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(li).omit({id:!0,createdAt:!0,updatedAt:!0});Wn({email:pt().min(1,"Email or Login ID is required"),password:pt().min(6)});const V3=Pr(ua).omit({id:!0,createdAt:!0,updatedAt:!0}),gq=Pr(Hx).omit({id:!0,createdAt:!0,updatedAt:!0}),xq=Pr(iB).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(aq).omit({id:!0,createdAt:!0});Pr(H3).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(iq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(Kx).omit({id:!0,createdAt:!0,updatedAt:!0});Wn({name:pt().min(1,"Subject name is required").max(255,"Subject name too long"),color:pt().regex(/^#[0-9A-F]{6}$/i,"Invalid color format").default("#3B82F6"),classId:pt().uuid("Invalid class ID"),weeklyFrequency:Mc().min(1,"Weekly frequency must be at least 1").max(8,"Weekly frequency cannot exceed 8 periods")});Pr(Ai).omit({id:!0,createdAt:!0,updatedAt:!0}).refine(e=>!e.section||!e.section.includes(","),"Section cannot contain commas. Each class-section combination must be separate.");Pr(Ai).omit({id:!0,createdAt:!0,updatedAt:!0}).partial().refine(e=>!e.section||!e.section.includes(","),"Section cannot contain commas. Each class-section combination must be separate.");Pr(oB).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(uq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(Aq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(cq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(lq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(oq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(dq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(K3).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(fq).omit({id:!0,createdAt:!0,updatedAt:!0});const vq=Wr("manual_assignment_audits",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),timetableEntryId:dt("timetable_entry_id").notNull(),classId:dt("class_id").notNull().references(()=>Ai.id,{onDelete:"cascade"}),day:Xe("day",{enum:["monday","tuesday","wednesday","thursday","friday","saturday"]}).notNull(),period:oi("period").notNull(),oldTeacherId:dt("old_teacher_id").references(()=>ua.id),newTeacherId:dt("new_teacher_id").references(()=>ua.id,{onDelete:"cascade"}),subjectId:dt("subject_id").references(()=>Kx.id),changeReason:Vs("change_reason").default("Manual assignment by admin"),assignedBy:Xe("assigned_by").notNull().references(()=>li.id),assignedAt:Ft("assigned_at").defaultNow(),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()}),yq=Wr("teacher_replacements",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),originalTeacherId:dt("original_teacher_id").notNull().references(()=>ua.id),replacementTeacherId:dt("replacement_teacher_id").notNull().references(()=>ua.id),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),replacementDate:Ft("replacement_date").notNull(),reason:Vs("reason").notNull(),affectedTimetableEntries:oi("affected_timetable_entries").notNull().default(0),conflictDetails:ca("conflict_details").$type().notNull().default(lr`'{"hasConflicts": false}'::jsonb`),status:Xe("status",{enum:["pending","completed","failed"]}).notNull().default("pending"),replacedBy:Xe("replaced_by").notNull().references(()=>li.id),completedAt:Ft("completed_at"),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()});Pr(vq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(yq).omit({id:!0,createdAt:!0,updatedAt:!0});Pr(hq).omit({id:!0,createdAt:!0,updatedAt:!0,markedAt:!0});Pr(mq).omit({id:!0,createdAt:!0,updatedAt:!0,markedAt:!0});Pr(pq).omit({id:!0,createdAt:!0});Wn({teacherId:pt().uuid().optional(),maxDailyPeriods:Mc().min(1).max(10),applyToAll:na().default(!1)});const wq=Wn({teacherId:pt().uuid(),status:Gu(["absent","on_leave","medical_leave","personal_leave"]),reason:pt().optional(),startDate:pt(),endDate:pt(),isFullDay:na().default(!0)}),$3=Wr("posts",{id:dt("id").primaryKey().default(lr`gen_random_uuid()`),content:Vs("content").notNull(),attachments:ca("attachments").$type().notNull().default(lr`'[]'::jsonb`),postedById:Xe("posted_by_id").notNull().references(()=>li.id,{onDelete:"cascade"}),feedScope:Xe("feed_scope",{enum:["school","class"]}).notNull(),classId:dt("class_id").references(()=>Ai.id,{onDelete:"cascade"}),schoolId:dt("school_id").notNull().references(()=>Es.id,{onDelete:"cascade"}),isActive:un("is_active").notNull().default(!0),createdAt:Ft("created_at").defaultNow(),updatedAt:Ft("updated_at").defaultNow()});Pr($3).omit({id:!0,createdAt:!0,updatedAt:!0});Pr($3).partial().omit({id:!0,createdAt:!0,updatedAt:!0});function U2(e,[t,r]){return Math.min(r,Math.max(t,e))}var bq=v.createContext(void 0);function Vx(e){const t=v.useContext(bq);return e||t||"ltr"}function lB(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Cq=[" ","Enter","ArrowUp","ArrowDown"],Bq=[" ","Enter"],Nc="Select",[$x,Gx,jq]=xx(Nc),[zu,J0e]=Ws(Nc,[jq,EA]),Wx=EA(),[Nq,SA]=zu(Nc),[Eq,Sq]=zu(Nc),G3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:c,name:d,autoComplete:u,disabled:f,required:m,form:p}=e,h=Wx(t),[x,y]=v.useState(null),[g,w]=v.useState(null),[b,C]=v.useState(!1),N=Vx(c),[B,F]=Qi({prop:n,defaultProp:a??!1,onChange:i,caller:Nc}),[E,U]=Qi({prop:o,defaultProp:l,onChange:A,caller:Nc}),P=v.useRef(null),O=x?p||!!x.closest("form"):!0,[X,ae]=v.useState(new Set),he=Array.from(X).map(q=>q.props.value).join(";");return s.jsx(Ex,{...h,children:s.jsxs(Nq,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:ti(),value:E,onValueChange:U,open:B,onOpenChange:F,dir:N,triggerPointerDownPosRef:P,disabled:f,children:[s.jsx($x.Provider,{scope:t,children:s.jsx(Eq,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(q=>{ae(ne=>new Set(ne).add(q))},[]),onNativeOptionRemove:v.useCallback(q=>{ae(ne=>{const H=new Set(ne);return H.delete(q),H})},[]),children:r})}),O?s.jsxs(pO,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:u,value:E,onChange:q=>U(q.target.value),disabled:f,form:p,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(X)]},he):null]})})};G3.displayName=Nc;var W3="SelectTrigger",z3=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Wx(r),o=SA(W3,r),l=o.disabled||n,A=cr(t,o.onTriggerChange),c=Gx(r),d=v.useRef("touch"),[u,f,m]=xO(h=>{const x=c().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),g=vO(x,h,y);g!==void 0&&o.onValueChange(g.value)}),p=h=>{l||(o.onOpenChange(!0),m()),h&&(o.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return s.jsx(wm,{asChild:!0,...i,children:s.jsx(kt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gO(o.value)?"":void 0,...a,ref:A,onClick:nt(a.onClick,h=>{h.currentTarget.focus(),d.current!=="mouse"&&p(h)}),onPointerDown:nt(a.onPointerDown,h=>{d.current=h.pointerType;const x=h.target;x.hasPointerCapture(h.pointerId)&&x.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(p(h),h.preventDefault())}),onKeyDown:nt(a.onKeyDown,h=>{const x=u.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&f(h.key),!(x&&h.key===" ")&&Cq.includes(h.key)&&(p(),h.preventDefault())})})})});z3.displayName=W3;var X3="SelectValue",q3=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,A=SA(X3,r),{onValueNodeHasChildrenChange:c}=A,d=i!==void 0,u=cr(t,A.onValueNodeChange);return Sn(()=>{c(d)},[c,d]),s.jsx(kt.span,{...l,ref:u,style:{pointerEvents:"none"},children:gO(A.value)?s.jsx(s.Fragment,{children:o}):i})});q3.displayName=X3;var Fq="SelectIcon",Y3=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(kt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Y3.displayName=Fq;var Tq="SelectPortal",J3=e=>s.jsx(Hu,{asChild:!0,...e});J3.displayName=Tq;var Ec="SelectContent",Z3=v.forwardRef((e,t)=>{const r=SA(Ec,e.__scopeSelect),[n,a]=v.useState();if(Sn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Pc.createPortal(s.jsx(eO,{scope:e.__scopeSelect,children:s.jsx($x.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(tO,{...e,ref:t})});Z3.displayName=Ec;var gi=10,[eO,FA]=zu(Ec),_q="SelectContentImpl",kq=dA("SelectContent.RemoveScroll"),tO=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:h,avoidCollisions:x,...y}=e,g=SA(Ec,r),[w,b]=v.useState(null),[C,N]=v.useState(null),B=cr(t,_=>b(_)),[F,E]=v.useState(null),[U,P]=v.useState(null),O=Gx(r),[X,ae]=v.useState(!1),he=v.useRef(!1);v.useEffect(()=>{if(w)return Qx(w)},[w]),Ix();const q=v.useCallback(_=>{const[Z,...K]=O().map(Te=>Te.ref.current),[re]=K.slice(-1),ye=document.activeElement;for(const Te of _)if(Te===ye||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===Z&&C&&(C.scrollTop=0),Te===re&&C&&(C.scrollTop=C.scrollHeight),Te==null||Te.focus(),document.activeElement!==ye))return},[O,C]),ne=v.useCallback(()=>q([F,w]),[q,F,w]);v.useEffect(()=>{X&&ne()},[X,ne]);const{onOpenChange:H,triggerPointerDownPosRef:J}=g;v.useEffect(()=>{if(w){let _={x:0,y:0};const Z=re=>{var ye,Te;_={x:Math.abs(Math.round(re.pageX)-(((ye=J.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(re.pageY)-(((Te=J.current)==null?void 0:Te.y)??0))}},K=re=>{_.x<=10&&_.y<=10?re.preventDefault():w.contains(re.target)||H(!1),document.removeEventListener("pointermove",Z),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,H,J]),v.useEffect(()=>{const _=()=>H(!1);return window.addEventListener("blur",_),window.addEventListener("resize",_),()=>{window.removeEventListener("blur",_),window.removeEventListener("resize",_)}},[H]);const[de,se]=xO(_=>{const Z=O().filter(ye=>!ye.disabled),K=Z.find(ye=>ye.ref.current===document.activeElement),re=vO(Z,_,K);re&&setTimeout(()=>re.ref.current.focus())}),D=v.useCallback((_,Z,K)=>{const re=!he.current&&!K;(g.value!==void 0&&g.value===Z||re)&&(E(_),re&&(he.current=!0))},[g.value]),j=v.useCallback(()=>w==null?void 0:w.focus(),[w]),k=v.useCallback((_,Z,K)=>{const re=!he.current&&!K;(g.value!==void 0&&g.value===Z||re)&&P(_)},[g.value]),M=n==="popper"?D1:rO,S=M===D1?{side:l,sideOffset:A,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:h,avoidCollisions:x}:{};return s.jsx(eO,{scope:r,content:w,viewport:C,onViewportChange:N,itemRefCallback:D,selectedItem:F,onItemLeave:j,itemTextRefCallback:k,focusSelectedItem:ne,selectedItemText:U,position:n,isPositioned:X,searchRef:de,children:s.jsx(Cm,{as:kq,allowPinchZoom:!0,children:s.jsx(bm,{asChild:!0,trapped:g.open,onMountAutoFocus:_=>{_.preventDefault()},onUnmountAutoFocus:nt(a,_=>{var Z;(Z=g.trigger)==null||Z.focus({preventScroll:!0}),_.preventDefault()}),children:s.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:_=>_.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(M,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:_=>_.preventDefault(),...y,...S,onPlaced:()=>ae(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:nt(y.onKeyDown,_=>{const Z=_.ctrlKey||_.altKey||_.metaKey;if(_.key==="Tab"&&_.preventDefault(),!Z&&_.key.length===1&&se(_.key),["ArrowUp","ArrowDown","Home","End"].includes(_.key)){let re=O().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(_.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(_.key)){const ye=_.target,Te=re.indexOf(ye);re=re.slice(Te+1)}setTimeout(()=>q(re)),_.preventDefault()}})})})})})})});tO.displayName=_q;var Iq="SelectItemAlignedPosition",rO=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=SA(Ec,r),o=FA(Ec,r),[l,A]=v.useState(null),[c,d]=v.useState(null),u=cr(t,B=>d(B)),f=Gx(r),m=v.useRef(!1),p=v.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:y,focusSelectedItem:g}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&c&&h&&x&&y){const B=i.trigger.getBoundingClientRect(),F=c.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),U=y.getBoundingClientRect();if(i.dir!=="rtl"){const ye=U.left-F.left,Te=E.left-ye,Nt=B.left-Te,mt=B.width+Nt,Vt=Math.max(mt,F.width),$t=window.innerWidth-gi,He=U2(Te,[gi,Math.max(gi,$t-Vt)]);l.style.minWidth=mt+"px",l.style.left=He+"px"}else{const ye=F.right-U.right,Te=window.innerWidth-E.right-ye,Nt=window.innerWidth-B.right-Te,mt=B.width+Nt,Vt=Math.max(mt,F.width),$t=window.innerWidth-gi,He=U2(Te,[gi,Math.max(gi,$t-Vt)]);l.style.minWidth=mt+"px",l.style.right=He+"px"}const P=f(),O=window.innerHeight-gi*2,X=h.scrollHeight,ae=window.getComputedStyle(c),he=parseInt(ae.borderTopWidth,10),q=parseInt(ae.paddingTop,10),ne=parseInt(ae.borderBottomWidth,10),H=parseInt(ae.paddingBottom,10),J=he+q+X+H+ne,de=Math.min(x.offsetHeight*5,J),se=window.getComputedStyle(h),D=parseInt(se.paddingTop,10),j=parseInt(se.paddingBottom,10),k=B.top+B.height/2-gi,M=O-k,S=x.offsetHeight/2,_=x.offsetTop+S,Z=he+q+_,K=J-Z;if(Z<=k){const ye=P.length>0&&x===P[P.length-1].ref.current;l.style.bottom="0px";const Te=c.clientHeight-h.offsetTop-h.offsetHeight,Nt=Math.max(M,S+(ye?j:0)+Te+ne),mt=Z+Nt;l.style.height=mt+"px"}else{const ye=P.length>0&&x===P[0].ref.current;l.style.top="0px";const Nt=Math.max(k,he+h.offsetTop+(ye?D:0)+S)+K;l.style.height=Nt+"px",h.scrollTop=Z-k+h.offsetTop}l.style.margin=`${gi}px 0`,l.style.minHeight=de+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,c,h,x,y,i.dir,n]);Sn(()=>w(),[w]);const[b,C]=v.useState();Sn(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const N=v.useCallback(B=>{B&&p.current===!0&&(w(),g==null||g(),p.current=!1)},[w,g]);return s.jsx(Qq,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(kt.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});rO.displayName=Iq;var Uq="SelectPopperPosition",D1=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=gi,...i}=e,o=Wx(r);return s.jsx(Sx,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D1.displayName=Uq;var[Qq,AB]=zu(Ec,{}),P1="SelectViewport",nO=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=FA(P1,r),o=AB(P1,r),l=cr(t,i.onViewportChange),A=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx($x.Slot,{scope:r,children:s.jsx(kt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:nt(a.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const m=Math.abs(A.current-d.scrollTop);if(m>0){const p=window.innerHeight-gi*2,h=parseFloat(u.style.minHeight),x=parseFloat(u.style.height),y=Math.max(h,x);if(y<p){const g=y+m,w=Math.min(p,g),b=g-w;u.style.height=w+"px",u.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}A.current=d.scrollTop})})})]})});nO.displayName=P1;var sO="SelectGroup",[Dq,Pq]=zu(sO),Oq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ti();return s.jsx(Dq,{scope:r,id:a,children:s.jsx(kt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Oq.displayName=sO;var aO="SelectLabel",iO=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Pq(aO,r);return s.jsx(kt.div,{id:a.id,...n,ref:t})});iO.displayName=aO;var bg="SelectItem",[Rq,oO]=zu(bg),lO=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=SA(bg,r),A=FA(bg,r),c=l.value===n,[d,u]=v.useState(i??""),[f,m]=v.useState(!1),p=cr(t,g=>{var w;return(w=A.itemRefCallback)==null?void 0:w.call(A,g,n,a)}),h=ti(),x=v.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Rq,{scope:r,value:n,disabled:a,textId:h,isSelected:c,onItemTextChange:v.useCallback(g=>{u(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:s.jsx($x.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(kt.div,{role:"option","aria-labelledby":h,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:nt(o.onFocus,()=>m(!0)),onBlur:nt(o.onBlur,()=>m(!1)),onClick:nt(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:nt(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:nt(o.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:nt(o.onPointerMove,g=>{var w;x.current=g.pointerType,a?(w=A.onItemLeave)==null||w.call(A):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=A.onItemLeave)==null||w.call(A))}),onKeyDown:nt(o.onKeyDown,g=>{var b;((b=A.searchRef)==null?void 0:b.current)!==""&&g.key===" "||(Bq.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});lO.displayName=bg;var Ef="SelectItemText",AO=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=SA(Ef,r),l=FA(Ef,r),A=oO(Ef,r),c=Sq(Ef,r),[d,u]=v.useState(null),f=cr(t,y=>u(y),A.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,A.value,A.disabled)}),m=d==null?void 0:d.textContent,p=v.useMemo(()=>s.jsx("option",{value:A.value,disabled:A.disabled,children:m},A.value),[A.disabled,A.value,m]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=c;return Sn(()=>(h(p),()=>x(p)),[h,x,p]),s.jsxs(s.Fragment,{children:[s.jsx(kt.span,{id:A.textId,...i,ref:f}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Pc.createPortal(i.children,o.valueNode):null]})});AO.displayName=Ef;var cO="SelectItemIndicator",dO=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return oO(cO,r).isSelected?s.jsx(kt.span,{"aria-hidden":!0,...n,ref:t}):null});dO.displayName=cO;var O1="SelectScrollUpButton",uO=v.forwardRef((e,t)=>{const r=FA(O1,e.__scopeSelect),n=AB(O1,e.__scopeSelect),[a,i]=v.useState(!1),o=cr(t,n.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=A.scrollTop>0;i(c)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(hO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});uO.displayName=O1;var R1="SelectScrollDownButton",fO=v.forwardRef((e,t)=>{const r=FA(R1,e.__scopeSelect),n=AB(R1,e.__scopeSelect),[a,i]=v.useState(!1),o=cr(t,n.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=A.scrollHeight-A.clientHeight,d=Math.ceil(A.scrollTop)<c;i(d)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(hO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});fO.displayName=R1;var hO=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=FA("SelectScrollButton",r),o=v.useRef(null),l=Gx(r),A=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>A(),[A]),Sn(()=>{var d;const c=l().find(u=>u.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(kt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:nt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:nt(a.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:nt(a.onPointerLeave,()=>{A()})})}),Lq="SelectSeparator",mO=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(kt.div,{"aria-hidden":!0,...n,ref:t})});mO.displayName=Lq;var L1="SelectArrow",Mq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Wx(r),i=SA(L1,r),o=FA(L1,r);return i.open&&o.position==="popper"?s.jsx(Fx,{...a,...n,ref:t}):null});Mq.displayName=L1;var Hq="SelectBubbleInput",pO=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),i=cr(n,a),o=lB(t);return v.useEffect(()=>{const l=a.current;if(!l)return;const A=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==t&&d){const u=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(u)}},[o,t]),s.jsx(kt.select,{...r,style:{...UU,...r.style},ref:i,defaultValue:t})});pO.displayName=Hq;function gO(e){return e===""||e===void 0}function xO(e){const t=Hs(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function A(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>A(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function vO(e,t,r){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Kq(e,Math.max(i,0));a.length===1&&(o=o.filter(c=>c!==r));const A=o.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return A!==r?A:void 0}function Kq(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Vq=G3,yO=z3,$q=q3,Gq=Y3,Wq=J3,wO=Z3,zq=nO,bO=iO,CO=lO,Xq=AO,qq=dO,BO=uO,jO=fO,NO=mO;const Yt=Vq,Jt=$q,Wt=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(yO,{ref:n,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Gq,{asChild:!0,children:s.jsx(wx,{className:"h-4 w-4 opacity-50"})})]}));Wt.displayName=yO.displayName;const EO=v.forwardRef(({className:e,...t},r)=>s.jsx(BO,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(V7,{className:"h-4 w-4"})}));EO.displayName=BO.displayName;const SO=v.forwardRef(({className:e,...t},r)=>s.jsx(jO,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(wx,{className:"h-4 w-4"})}));SO.displayName=jO.displayName;const zt=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Wq,{children:s.jsxs(wO,{ref:a,className:De("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(EO,{}),s.jsx(zq,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(SO,{})]})}));zt.displayName=wO.displayName;const Yq=v.forwardRef(({className:e,...t},r)=>s.jsx(bO,{ref:r,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Yq.displayName=bO.displayName;const $e=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(CO,{ref:n,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qq,{children:s.jsx(gu,{className:"h-4 w-4"})})}),s.jsx(Xq,{children:t})]}));$e.displayName=CO.displayName;const Jq=v.forwardRef(({className:e,...t},r)=>s.jsx(NO,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));Jq.displayName=NO.displayName;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M1=function(e,t){return M1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},M1(e,t)};function Ki(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");M1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var H1=function(){return H1=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},H1.apply(this,arguments)};function _s(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(u){o(u)}}function A(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?i(d.value):a(d.value).then(l,A)}c((n=n.apply(e,[])).next())})}function gs(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(d){return A([c,d])}}function A(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function w0(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var cl=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),zx=function(e,t){return cl.fromClientRect(e,t.getBoundingClientRect())},Zq=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new cl(0,0,n,a)},Xx=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},gn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Q2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var b0=0;b0<Q2.length;b0++)eY[Q2.charCodeAt(b0)]=b0;var D2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var C0=0;C0<D2.length;C0++)Sf[D2.charCodeAt(C0)]=C0;var tY=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Sf[e.charCodeAt(n)],o=Sf[e.charCodeAt(n+1)],l=Sf[e.charCodeAt(n+2)],A=Sf[e.charCodeAt(n+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|l>>2,d[a++]=(l&3)<<6|A&63;return c},rY=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},nY=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},lc=5,cB=11,yy=2,sY=cB-lc,FO=65536>>lc,aY=1<<lc,wy=aY-1,iY=1024>>lc,oY=FO+iY,lY=oY,AY=32,cY=lY+AY,dY=65536>>cB,uY=1<<sY,fY=uY-1,P2=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},hY=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},mY=function(e,t){var r=tY(e),n=Array.isArray(r)?nY(r):new Uint32Array(r),a=Array.isArray(r)?rY(r):new Uint16Array(r),i=24,o=P2(a,i/2,n[4]/2),l=n[5]===2?P2(a,(i+n[4])/2):hY(n,Math.ceil((i+n[4])/4));return new pY(n[0],n[1],n[2],n[3],o,l)},pY=function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>lc],r=(r<<yy)+(t&wy),this.data[r];if(t<=65535)return r=this.index[FO+(t-55296>>lc)],r=(r<<yy)+(t&wy),this.data[r];if(t<this.highStart)return r=cY-dY+(t>>cB),r=this.index[r],r+=t>>lc&fY,r=this.index[r],r=(r<<yy)+(t&wy),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),O2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var B0=0;B0<O2.length;B0++)gY[O2.charCodeAt(B0)]=B0;var xY="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",R2=50,vY=1,TO=2,_O=3,yY=4,wY=5,L2=7,kO=8,M2=9,Gl=10,K1=11,H2=12,V1=13,bY=14,Ff=15,$1=16,j0=17,mf=18,CY=19,K2=20,G1=21,pf=22,by=23,td=24,xa=25,Tf=26,_f=27,rd=28,BY=29,PA=30,jY=31,N0=32,E0=33,W1=34,z1=35,X1=36,zh=37,q1=38,bp=39,Cp=40,Cy=41,IO=42,NY=43,EY=[9001,65288],UO="!",hr="",S0="",Y1=mY(xY),ko=[PA,X1],J1=[vY,TO,_O,wY],QO=[Gl,kO],V2=[_f,Tf],SY=J1.concat(QO),$2=[q1,bp,Cp,W1,z1],FY=[Ff,V1],TY=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(i,o){var l=Y1.get(i);if(l>R2?(a.push(!0),l-=R2):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push($1);if(l===yY||l===K1){if(o===0)return n.push(o),r.push(PA);var A=r[o-1];return SY.indexOf(A)===-1?(n.push(n[o-1]),r.push(A)):(n.push(o),r.push(PA))}if(n.push(o),l===jY)return r.push(t==="strict"?G1:zh);if(l===IO||l===BY)return r.push(PA);if(l===NY)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(zh):r.push(PA);r.push(l)}),[n,r,a]},By=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==Gl)break}if(a===Gl)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=r;A<=n.length;){A++;var o=n[A];if(o===t)return!0;if(o!==Gl)break}if(l!==Gl)break}return!1},G2=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===Gl)r--;else return n}return 0},_Y=function(e,t,r,n,a){if(r[n]===0)return hr;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return hr;var o=i-1,l=i+1,A=t[i],c=o>=0?t[o]:0,d=t[l];if(A===TO&&d===_O)return hr;if(J1.indexOf(A)!==-1)return UO;if(J1.indexOf(d)!==-1||QO.indexOf(d)!==-1)return hr;if(G2(i,t)===kO)return S0;if(Y1.get(e[i])===K1||(A===N0||A===E0)&&Y1.get(e[l])===K1||A===L2||d===L2||A===M2||[Gl,V1,Ff].indexOf(A)===-1&&d===M2||[j0,mf,CY,td,rd].indexOf(d)!==-1||G2(i,t)===pf||By(by,pf,i,t)||By([j0,mf],G1,i,t)||By(H2,H2,i,t))return hr;if(A===Gl)return S0;if(A===by||d===by)return hr;if(d===$1||A===$1)return S0;if([V1,Ff,G1].indexOf(d)!==-1||A===bY||c===X1&&FY.indexOf(A)!==-1||A===rd&&d===X1||d===K2||ko.indexOf(d)!==-1&&A===xa||ko.indexOf(A)!==-1&&d===xa||A===_f&&[zh,N0,E0].indexOf(d)!==-1||[zh,N0,E0].indexOf(A)!==-1&&d===Tf||ko.indexOf(A)!==-1&&V2.indexOf(d)!==-1||V2.indexOf(A)!==-1&&ko.indexOf(d)!==-1||[_f,Tf].indexOf(A)!==-1&&(d===xa||[pf,Ff].indexOf(d)!==-1&&t[l+1]===xa)||[pf,Ff].indexOf(A)!==-1&&d===xa||A===xa&&[xa,rd,td].indexOf(d)!==-1)return hr;if([xa,rd,td,j0,mf].indexOf(d)!==-1)for(var u=i;u>=0;){var f=t[u];if(f===xa)return hr;if([rd,td].indexOf(f)!==-1)u--;else break}if([_f,Tf].indexOf(d)!==-1)for(var u=[j0,mf].indexOf(A)!==-1?o:i;u>=0;){var f=t[u];if(f===xa)return hr;if([rd,td].indexOf(f)!==-1)u--;else break}if(q1===A&&[q1,bp,W1,z1].indexOf(d)!==-1||[bp,W1].indexOf(A)!==-1&&[bp,Cp].indexOf(d)!==-1||[Cp,z1].indexOf(A)!==-1&&d===Cp||$2.indexOf(A)!==-1&&[K2,Tf].indexOf(d)!==-1||$2.indexOf(d)!==-1&&A===_f||ko.indexOf(A)!==-1&&ko.indexOf(d)!==-1||A===td&&ko.indexOf(d)!==-1||ko.concat(xa).indexOf(A)!==-1&&d===pf&&EY.indexOf(e[l])===-1||ko.concat(xa).indexOf(d)!==-1&&A===mf)return hr;if(A===Cy&&d===Cy){for(var m=r[i],p=1;m>0&&(m--,t[m]===Cy);)p++;if(p%2!==0)return hr}return A===N0&&d===E0?hr:S0},kY=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=TY(e,t.lineBreak),n=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(l){return[xa,PA,IO].indexOf(l)!==-1?zh:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[n,a,o]},IY=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===UO,this.start=n,this.end=a}return e.prototype.slice=function(){return gn.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),UY=function(e,t){var r=Xx(e),n=kY(r,t),a=n[0],i=n[1],o=n[2],l=r.length,A=0,c=0;return{next:function(){if(c>=l)return{done:!0,value:null};for(var d=hr;c<l&&(d=_Y(r,i,a,++c,o))===hr;);if(d!==hr||c===l){var u=new IY(r,d,A,c);return A=c,{value:u,done:!1}}return{done:!0,value:null}}}},QY=1,DY=2,_m=4,W2=8,Cg=10,z2=47,Zf=92,PY=9,OY=32,F0=34,gf=61,RY=35,LY=36,MY=37,T0=39,_0=40,xf=41,HY=95,Js=45,KY=33,VY=60,$Y=62,GY=64,WY=91,zY=93,XY=61,qY=123,k0=63,YY=125,X2=124,JY=126,ZY=128,q2=65533,jy=42,GA=43,eJ=44,tJ=58,rJ=59,Xh=46,nJ=0,sJ=8,aJ=11,iJ=14,oJ=31,lJ=127,zi=-1,DO=48,PO=97,OO=101,AJ=102,cJ=117,dJ=122,RO=65,LO=69,MO=70,uJ=85,fJ=90,xs=function(e){return e>=DO&&e<=57},hJ=function(e){return e>=55296&&e<=57343},nd=function(e){return xs(e)||e>=RO&&e<=MO||e>=PO&&e<=AJ},mJ=function(e){return e>=PO&&e<=dJ},pJ=function(e){return e>=RO&&e<=fJ},gJ=function(e){return mJ(e)||pJ(e)},xJ=function(e){return e>=ZY},I0=function(e){return e===Cg||e===PY||e===OY},Bg=function(e){return gJ(e)||xJ(e)||e===HY},Y2=function(e){return Bg(e)||xs(e)||e===Js},vJ=function(e){return e>=nJ&&e<=sJ||e===aJ||e>=iJ&&e<=oJ||e===lJ},Tl=function(e,t){return e!==Zf?!1:t!==Cg},U0=function(e,t,r){return e===Js?Bg(t)||Tl(t,r):Bg(e)?!0:!!(e===Zf&&Tl(e,t))},Ny=function(e,t,r){return e===GA||e===Js?xs(t)?!0:t===Xh&&xs(r):xs(e===Xh?t:e)},yJ=function(e){var t=0,r=1;(e[t]===GA||e[t]===Js)&&(e[t]===Js&&(r=-1),t++);for(var n=[];xs(e[t]);)n.push(e[t++]);var a=n.length?parseInt(gn.apply(void 0,n),10):0;e[t]===Xh&&t++;for(var i=[];xs(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(gn.apply(void 0,i),10):0;(e[t]===LO||e[t]===OO)&&t++;var A=1;(e[t]===GA||e[t]===Js)&&(e[t]===Js&&(A=-1),t++);for(var c=[];xs(e[t]);)c.push(e[t++]);var d=c.length?parseInt(gn.apply(void 0,c),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,A*d)},wJ={type:2},bJ={type:3},CJ={type:4},BJ={type:13},jJ={type:8},NJ={type:21},EJ={type:9},SJ={type:10},FJ={type:11},TJ={type:12},_J={type:14},Q0={type:23},kJ={type:1},IJ={type:25},UJ={type:24},QJ={type:26},DJ={type:27},PJ={type:28},OJ={type:29},RJ={type:31},Z1={type:32},HO=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Xx(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==Z1;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case F0:return this.consumeStringToken(F0);case RY:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Y2(r)||Tl(n,a)){var i=U0(r,n,a)?DY:QY,o=this.consumeName();return{type:5,value:o,flags:i}}break;case LY:if(this.peekCodePoint(0)===gf)return this.consumeCodePoint(),BJ;break;case T0:return this.consumeStringToken(T0);case _0:return wJ;case xf:return bJ;case jy:if(this.peekCodePoint(0)===gf)return this.consumeCodePoint(),_J;break;case GA:if(Ny(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case eJ:return CJ;case Js:var l=t,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Ny(l,A,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(U0(l,A,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===Js&&c===$Y)return this.consumeCodePoint(),this.consumeCodePoint(),UJ;break;case Xh:if(Ny(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case z2:if(this.peekCodePoint(0)===jy)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===jy&&(d=this.consumeCodePoint(),d===z2))return this.consumeToken();if(d===zi)return this.consumeToken()}break;case tJ:return QJ;case rJ:return DJ;case VY:if(this.peekCodePoint(0)===KY&&this.peekCodePoint(1)===Js&&this.peekCodePoint(2)===Js)return this.consumeCodePoint(),this.consumeCodePoint(),IJ;break;case GY:var u=this.peekCodePoint(0),f=this.peekCodePoint(1),m=this.peekCodePoint(2);if(U0(u,f,m)){var o=this.consumeName();return{type:7,value:o}}break;case WY:return PJ;case Zf:if(Tl(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case zY:return OJ;case XY:if(this.peekCodePoint(0)===gf)return this.consumeCodePoint(),jJ;break;case qY:return FJ;case YY:return TJ;case cJ:case uJ:var p=this.peekCodePoint(0),h=this.peekCodePoint(1);return p===GA&&(nd(h)||h===k0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case X2:if(this.peekCodePoint(0)===gf)return this.consumeCodePoint(),EJ;if(this.peekCodePoint(0)===X2)return this.consumeCodePoint(),NJ;break;case JY:if(this.peekCodePoint(0)===gf)return this.consumeCodePoint(),SJ;break;case zi:return Z1}return I0(t)?(this.consumeWhiteSpace(),RJ):xs(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Bg(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:gn(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();nd(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===k0&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(gn.apply(void 0,t.map(function(A){return A===k0?DO:A})),16),i=parseInt(gn.apply(void 0,t.map(function(A){return A===k0?MO:A})),16);return{type:30,start:a,end:i}}var o=parseInt(gn.apply(void 0,t),16);if(this.peekCodePoint(0)===Js&&nd(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];nd(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(gn.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===_0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===_0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===zi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===T0||r===F0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===zi||this.peekCodePoint(0)===xf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Q0)}for(;;){var a=this.consumeCodePoint();if(a===zi||a===xf)return{type:22,value:gn.apply(void 0,t)};if(I0(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===zi||this.peekCodePoint(0)===xf?(this.consumeCodePoint(),{type:22,value:gn.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Q0);if(a===F0||a===T0||a===_0||vJ(a))return this.consumeBadUrlRemnants(),Q0;if(a===Zf)if(Tl(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Q0;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;I0(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===xf||t===zi)return;Tl(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=gn.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===zi||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Cg)return this._value.splice(0,n),kJ;if(a===Zf){var i=this._value[n+1];i!==zi&&i!==void 0&&(i===Cg?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Tl(a,i)&&(r+=this.consumeStringSlice(n),r+=gn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=_m,n=this.peekCodePoint(0);for((n===GA||n===Js)&&t.push(this.consumeCodePoint());xs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Xh&&xs(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=W2;xs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===LO||n===OO)&&((a===GA||a===Js)&&xs(i)||xs(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=W2;xs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[yJ(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(U0(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===MY?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(nd(t)){for(var r=gn(t);nd(this.peekCodePoint(0))&&r.length<6;)r+=gn(this.consumeCodePoint());I0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||hJ(n)||n>1114111?q2:n}return t===zi?q2:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(Y2(r))t+=gn(r);else if(Tl(r,this.peekCodePoint(0)))t+=gn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),KO=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new HO;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||MJ(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Z1:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),km=function(e){return e.type===15},Xu=function(e){return e.type===17},Dr=function(e){return e.type===20},LJ=function(e){return e.type===0},eb=function(e,t){return Dr(e)&&e.value===t},VO=function(e){return e.type!==31},Su=function(e){return e.type!==31&&e.type!==4},No=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},MJ=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},yA=function(e){return e.type===17||e.type===15},jn=function(e){return e.type===16||yA(e)},$O=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},os={type:17,number:0,flags:_m},dB={type:16,number:50,flags:_m},Wl={type:16,number:100,flags:_m},kf=function(e,t,r){var n=e[0],a=e[1];return[Rr(n,t),Rr(typeof a<"u"?a:n,r)]},Rr=function(e,t){if(e.type===16)return e.number/100*t;if(km(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},GO="deg",WO="grad",zO="rad",XO="turn",qx={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case GO:return Math.PI*t.number/180;case WO:return Math.PI/200*t.number;case zO:return t.number;case XO:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},qO=function(e){return e.type===15&&(e.unit===GO||e.unit===WO||e.unit===zO||e.unit===XO)},YO=function(e){var t=e.filter(Dr).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[os,os];case"to top":case"bottom":return Ya(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[os,Wl];case"to right":case"left":return Ya(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wl,Wl];case"to bottom":case"top":return Ya(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wl,os];case"to left":case"right":return Ya(270)}return 0},Ya=function(e){return Math.PI*e/180},iA={name:"color",parse:function(e,t){if(t.type===18){var r=HJ[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return zl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return zl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return zl(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return zl(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=zo[t.value.toUpperCase()];if(typeof l<"u")return l}return zo.TRANSPARENT}},oA=function(e){return(255&e)===0},Ln=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},zl=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},J2=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},Z2=function(e,t){var r=t.filter(Su);if(r.length===3){var n=r.map(J2),a=n[0],i=n[1],o=n[2];return zl(a,i,o,1)}if(r.length===4){var l=r.map(J2),a=l[0],i=l[1],o=l[2],A=l[3];return zl(a,i,o,A)}return 0};function Ey(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var eE=function(e,t){var r=t.filter(Su),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?Ya(n.number):qx.parse(e,n))/(Math.PI*2),A=jn(a)?a.number/100:0,c=jn(i)?i.number/100:0,d=typeof o<"u"&&jn(o)?Rr(o,1):1;if(A===0)return zl(c*255,c*255,c*255,1);var u=c<=.5?c*(A+1):c+A-c*A,f=c*2-u,m=Ey(f,u,l+1/3),p=Ey(f,u,l),h=Ey(f,u,l-1/3);return zl(m*255,p*255,h*255,d)},HJ={hsl:eE,hsla:eE,rgb:Z2,rgba:Z2},eh=function(e,t){return iA.parse(e,KO.create(t).parseComponentValue())},zo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},KJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Dr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},VJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yx=function(e,t){var r=iA.parse(e,t[0]),n=t[1];return n&&jn(n)?{color:r,stop:n}:{color:r,stop:null}},tE=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=os),n.stop===null&&(n.stop=Wl);for(var a=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=Rr(l,t);A>i?a.push(A):a.push(i),i=A}else a.push(null)}for(var c=null,o=0;o<a.length;o++){var d=a[o];if(d===null)c===null&&(c=o);else if(c!==null){for(var u=o-c,f=a[c-1],m=(d-f)/(u+1),p=1;p<=u;p++)a[c+p-1]=m*p;c=null}}return e.map(function(h,x){var y=h.color;return{color:y,stop:Math.max(Math.min(1,a[x]/t),0)}})},$J=function(e,t,r){var n=t/2,a=r/2,i=Rr(e[0],t)-n,o=a-Rr(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},GJ=function(e,t,r){var n=typeof e=="number"?e:$J(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,l=a/2,A=Math.sin(n-Math.PI/2)*l,c=Math.cos(n-Math.PI/2)*l;return[a,i-c,i+c,o-A,o+A]},pi=function(e,t){return Math.sqrt(e*e+t*t)},rE=function(e,t,r,n,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var A=l[0],c=l[1],d=pi(r-A,n-c);return(a?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:l,optimumDistance:d}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},WJ=function(e,t,r,n,a){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)i=o=Math.min(pi(t,r),pi(t,r-a),pi(t-n,r),pi(t-n,r-a));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),A=rE(n,a,t,r,!0),c=A[0],d=A[1];i=pi(c-t,(d-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)i=o=Math.max(pi(t,r),pi(t,r-a),pi(t-n,r),pi(t-n,r-a));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),u=rE(n,a,t,r,!1),c=u[0],d=u[1];i=pi(c-t,(d-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Rr(e.size[0],n),o=e.size.length===2?Rr(e.size[1],a):i),[i,o]},zJ=function(e,t){var r=Ya(180),n=[];return No(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=YO(a);return}else if(qO(o)){r=qx.parse(e,o);return}}var l=Yx(e,a);n.push(l)}),{angle:r,stops:n,type:1}},D0=function(e,t){var r=Ya(180),n=[];return No(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=YO(a);return}else if(qO(o)){r=(qx.parse(e,o)+Ya(270))%Ya(360);return}}var l=Yx(e,a);n.push(l)}),{angle:r,stops:n,type:1}},XJ=function(e,t){var r=Ya(180),n=[],a=1,i=0,o=3,l=[];return No(t).forEach(function(A,c){var d=A[0];if(c===0){if(Dr(d)&&d.value==="linear"){a=1;return}else if(Dr(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var u=iA.parse(e,d.values[0]);n.push({stop:os,color:u})}else if(d.name==="to"){var u=iA.parse(e,d.values[0]);n.push({stop:Wl,color:u})}else if(d.name==="color-stop"){var f=d.values.filter(Su);if(f.length===2){var u=iA.parse(e,f[1]),m=f[0];Xu(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:u})}}}}),a===1?{angle:(r+Ya(180))%Ya(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},JO="closest-side",ZO="farthest-side",eR="closest-corner",tR="farthest-corner",rR="circle",nR="ellipse",sR="cover",aR="contain",qJ=function(e,t){var r=0,n=3,a=[],i=[];return No(t).forEach(function(o,l){var A=!0;if(l===0){var c=!1;A=o.reduce(function(u,f){if(c)if(Dr(f))switch(f.value){case"center":return i.push(dB),u;case"top":case"left":return i.push(os),u;case"right":case"bottom":return i.push(Wl),u}else(jn(f)||yA(f))&&i.push(f);else if(Dr(f))switch(f.value){case rR:return r=0,!1;case nR:return r=1,!1;case"at":return c=!0,!1;case JO:return n=0,!1;case sR:case ZO:return n=1,!1;case aR:case eR:return n=2,!1;case tR:return n=3,!1}else if(yA(f)||jn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return u},A)}if(A){var d=Yx(e,o);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},P0=function(e,t){var r=0,n=3,a=[],i=[];return No(t).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(d,u){if(Dr(u))switch(u.value){case"center":return i.push(dB),!1;case"top":case"left":return i.push(os),!1;case"right":case"bottom":return i.push(Wl),!1}else if(jn(u)||yA(u))return i.push(u),!1;return d},A):l===1&&(A=o.reduce(function(d,u){if(Dr(u))switch(u.value){case rR:return r=0,!1;case nR:return r=1,!1;case aR:case JO:return n=0,!1;case ZO:return n=1,!1;case eR:return n=2,!1;case sR:case tR:return n=3,!1}else if(yA(u)||jn(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return d},A)),A){var c=Yx(e,o);a.push(c)}}),{size:n,shape:r,stops:a,position:i,type:2}},YJ=function(e){return e.type===1},JJ=function(e){return e.type===2},uB={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=iR[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function ZJ(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!iR[e.name])}var iR={"linear-gradient":zJ,"-moz-linear-gradient":D0,"-ms-linear-gradient":D0,"-o-linear-gradient":D0,"-webkit-linear-gradient":D0,"radial-gradient":qJ,"-moz-radial-gradient":P0,"-ms-radial-gradient":P0,"-o-radial-gradient":P0,"-webkit-radial-gradient":P0,"-webkit-gradient":XJ},eZ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Su(n)&&ZJ(n)}).map(function(n){return uB.parse(e,n)})}},tZ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Dr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rZ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return No(t).map(function(r){return r.filter(jn)}).map($O)}},nZ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return No(t).map(function(r){return r.filter(Dr).map(function(n){return n.value}).join(" ")}).map(sZ)}},sZ=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},$d;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})($d||($d={}));var aZ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return No(t).map(function(r){return r.filter(iZ)})}},iZ=function(e){return Dr(e)||jn(e)},Jx=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oZ=Jx("top"),lZ=Jx("right"),AZ=Jx("bottom"),cZ=Jx("left"),Zx=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return $O(r.filter(jn))}}},dZ=Zx("top-left"),uZ=Zx("top-right"),fZ=Zx("bottom-right"),hZ=Zx("bottom-left"),ev=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mZ=ev("top"),pZ=ev("right"),gZ=ev("bottom"),xZ=ev("left"),tv=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return km(r)?r.number:0}}},vZ=tv("top"),yZ=tv("right"),wZ=tv("bottom"),bZ=tv("left"),CZ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},BZ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},jZ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Dr).reduce(function(r,n){return r|NZ(n.value)},0)}},NZ=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},EZ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},SZ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},jg;(function(e){e.NORMAL="normal",e.STRICT="strict"})(jg||(jg={}));var FZ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return jg.STRICT;case"normal":default:return jg.NORMAL}}},TZ={name:"line-height",initialValue:"normal",prefix:!1,type:4},nE=function(e,t){return Dr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:jn(e)?Rr(e,t):t},_Z={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:uB.parse(e,t)}},kZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},tb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},rv=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},IZ=rv("top"),UZ=rv("right"),QZ=rv("bottom"),DZ=rv("left"),PZ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Dr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},OZ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},nv=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},RZ=nv("top"),LZ=nv("right"),MZ=nv("bottom"),HZ=nv("left"),KZ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},VZ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},$Z={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&eb(t[0],"none")?[]:No(t).map(function(r){for(var n={color:zo.TRANSPARENT,offsetX:os,offsetY:os,blur:os},a=0,i=0;i<r.length;i++){var o=r[i];yA(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=iA.parse(e,o)}return n})}},GZ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},WZ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=qZ[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},zZ=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},XZ=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,a,i,o,l]:null},qZ={matrix:zZ,matrix3d:XZ},sE={type:16,number:50,flags:_m},YZ=[sE,sE],JZ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(jn);return r.length!==2?YZ:[r[0],r[1]]}},ZZ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},th;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(th||(th={}));var eee={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return th.BREAK_ALL;case"keep-all":return th.KEEP_ALL;case"normal":default:return th.NORMAL}}},tee={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Xu(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},oR={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},ree={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Xu(t)?t.number:1}},nee={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},see={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Dr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},aee={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},iee={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},oee={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Xu(t))return t.number;if(Dr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},lee={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Dr).map(function(r){return r.value})}},Aee={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Qn=function(e,t){return(e&t)!==0},cee={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},dee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(VO),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var A=l&&Xu(l)?l.number:1;n.push({counter:o.value,increment:A})}}return n}},uee={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(VO),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(Dr(i)&&i.value!=="none"){var l=o&&Xu(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},fee={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(km).map(function(r){return oR.parse(e,r)})}},hee={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(LJ);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},aE=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},mee={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&eb(t[0],"none")?[]:No(t).map(function(r){for(var n={color:255,offsetX:os,offsetY:os,blur:os,spread:os,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];eb(o,"inset")?n.inset=!0:yA(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=iA.parse(e,o)}return n})}},pee={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Dr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},gee={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},xee={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return km(t)?t.number:0}},vee=function(){function e(t,r){var n,a;this.animationDuration=wt(t,fee,r.animationDuration),this.backgroundClip=wt(t,KJ,r.backgroundClip),this.backgroundColor=wt(t,VJ,r.backgroundColor),this.backgroundImage=wt(t,eZ,r.backgroundImage),this.backgroundOrigin=wt(t,tZ,r.backgroundOrigin),this.backgroundPosition=wt(t,rZ,r.backgroundPosition),this.backgroundRepeat=wt(t,nZ,r.backgroundRepeat),this.backgroundSize=wt(t,aZ,r.backgroundSize),this.borderTopColor=wt(t,oZ,r.borderTopColor),this.borderRightColor=wt(t,lZ,r.borderRightColor),this.borderBottomColor=wt(t,AZ,r.borderBottomColor),this.borderLeftColor=wt(t,cZ,r.borderLeftColor),this.borderTopLeftRadius=wt(t,dZ,r.borderTopLeftRadius),this.borderTopRightRadius=wt(t,uZ,r.borderTopRightRadius),this.borderBottomRightRadius=wt(t,fZ,r.borderBottomRightRadius),this.borderBottomLeftRadius=wt(t,hZ,r.borderBottomLeftRadius),this.borderTopStyle=wt(t,mZ,r.borderTopStyle),this.borderRightStyle=wt(t,pZ,r.borderRightStyle),this.borderBottomStyle=wt(t,gZ,r.borderBottomStyle),this.borderLeftStyle=wt(t,xZ,r.borderLeftStyle),this.borderTopWidth=wt(t,vZ,r.borderTopWidth),this.borderRightWidth=wt(t,yZ,r.borderRightWidth),this.borderBottomWidth=wt(t,wZ,r.borderBottomWidth),this.borderLeftWidth=wt(t,bZ,r.borderLeftWidth),this.boxShadow=wt(t,mee,r.boxShadow),this.color=wt(t,CZ,r.color),this.direction=wt(t,BZ,r.direction),this.display=wt(t,jZ,r.display),this.float=wt(t,EZ,r.cssFloat),this.fontFamily=wt(t,aee,r.fontFamily),this.fontSize=wt(t,iee,r.fontSize),this.fontStyle=wt(t,Aee,r.fontStyle),this.fontVariant=wt(t,lee,r.fontVariant),this.fontWeight=wt(t,oee,r.fontWeight),this.letterSpacing=wt(t,SZ,r.letterSpacing),this.lineBreak=wt(t,FZ,r.lineBreak),this.lineHeight=wt(t,TZ,r.lineHeight),this.listStyleImage=wt(t,_Z,r.listStyleImage),this.listStylePosition=wt(t,kZ,r.listStylePosition),this.listStyleType=wt(t,tb,r.listStyleType),this.marginTop=wt(t,IZ,r.marginTop),this.marginRight=wt(t,UZ,r.marginRight),this.marginBottom=wt(t,QZ,r.marginBottom),this.marginLeft=wt(t,DZ,r.marginLeft),this.opacity=wt(t,ree,r.opacity);var i=wt(t,PZ,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=wt(t,OZ,r.overflowWrap),this.paddingTop=wt(t,RZ,r.paddingTop),this.paddingRight=wt(t,LZ,r.paddingRight),this.paddingBottom=wt(t,MZ,r.paddingBottom),this.paddingLeft=wt(t,HZ,r.paddingLeft),this.paintOrder=wt(t,pee,r.paintOrder),this.position=wt(t,VZ,r.position),this.textAlign=wt(t,KZ,r.textAlign),this.textDecorationColor=wt(t,nee,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=wt(t,see,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=wt(t,$Z,r.textShadow),this.textTransform=wt(t,GZ,r.textTransform),this.transform=wt(t,WZ,r.transform),this.transformOrigin=wt(t,JZ,r.transformOrigin),this.visibility=wt(t,ZZ,r.visibility),this.webkitTextStrokeColor=wt(t,gee,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=wt(t,xee,r.webkitTextStrokeWidth),this.wordBreak=wt(t,eee,r.wordBreak),this.zIndex=wt(t,tee,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return oA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Qn(this.display,4)||Qn(this.display,33554432)||Qn(this.display,268435456)||Qn(this.display,536870912)||Qn(this.display,67108864)||Qn(this.display,134217728)},e}(),yee=function(){function e(t,r){this.content=wt(t,cee,r.content),this.quotes=wt(t,hee,r.quotes)}return e}(),iE=function(){function e(t,r){this.counterIncrement=wt(t,dee,r.counterIncrement),this.counterReset=wt(t,uee,r.counterReset)}return e}(),wt=function(e,t,r){var n=new HO,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var i=new KO(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Dr(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return qx.parse(e,i.parseComponentValue());case"color":return iA.parse(e,i.parseComponentValue());case"image":return uB.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return yA(l)?l:os;case"length-percentage":var A=i.parseComponentValue();return jn(A)?A:os;case"time":return oR.parse(e,i.parseComponentValue())}break}},wee="data-html2canvas-debug",bee=function(e){var t=e.getAttribute(wee);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},rb=function(e,t){var r=bee(e);return r===1||t===r},Eo=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,rb(r,3))debugger;this.styles=new vee(t,window.getComputedStyle(r,null)),ab(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=zx(this.context,r),rb(r,4)&&(this.flags|=16)}return e}(),Cee="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",oE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",If=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var O0=0;O0<oE.length;O0++)If[oE.charCodeAt(O0)]=O0;var Bee=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=If[e.charCodeAt(n)],o=If[e.charCodeAt(n+1)],l=If[e.charCodeAt(n+2)],A=If[e.charCodeAt(n+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|l>>2,d[a++]=(l&3)<<6|A&63;return c},jee=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Nee=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ac=5,fB=11,Sy=2,Eee=fB-Ac,lR=65536>>Ac,See=1<<Ac,Fy=See-1,Fee=1024>>Ac,Tee=lR+Fee,_ee=Tee,kee=32,Iee=_ee+kee,Uee=65536>>fB,Qee=1<<Eee,Dee=Qee-1,lE=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Pee=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Oee=function(e,t){var r=Bee(e),n=Array.isArray(r)?Nee(r):new Uint32Array(r),a=Array.isArray(r)?jee(r):new Uint16Array(r),i=24,o=lE(a,i/2,n[4]/2),l=n[5]===2?lE(a,(i+n[4])/2):Pee(n,Math.ceil((i+n[4])/4));return new Ree(n[0],n[1],n[2],n[3],o,l)},Ree=function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ac],r=(r<<Sy)+(t&Fy),this.data[r];if(t<=65535)return r=this.index[lR+(t-55296>>Ac)],r=(r<<Sy)+(t&Fy),this.data[r];if(t<this.highStart)return r=Iee-Uee+(t>>fB),r=this.index[r],r+=t>>Ac&Dee,r=this.index[r],r=(r<<Sy)+(t&Fy),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),AE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var R0=0;R0<AE.length;R0++)Lee[AE.charCodeAt(R0)]=R0;var Mee=1,Ty=2,_y=3,cE=4,dE=5,Hee=7,uE=8,ky=9,Iy=10,fE=11,hE=12,mE=13,pE=14,Uy=15,Kee=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Vee=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},$ee=Oee(Cee),Ma="",Qy="",Gee=function(e){return $ee.get(e)},Wee=function(e,t,r){var n=r-2,a=t[n],i=t[r-1],o=t[r];if(i===Ty&&o===_y)return Ma;if(i===Ty||i===_y||i===cE||o===Ty||o===_y||o===cE)return Qy;if(i===uE&&[uE,ky,fE,hE].indexOf(o)!==-1||(i===fE||i===ky)&&(o===ky||o===Iy)||(i===hE||i===Iy)&&o===Iy||o===mE||o===dE||o===Hee||i===Mee)return Ma;if(i===mE&&o===pE){for(;a===dE;)a=t[--n];if(a===pE)return Ma}if(i===Uy&&o===Uy){for(var l=0;a===Uy;)l++,a=t[--n];if(l%2===0)return Ma}return Qy},zee=function(e){var t=Kee(e),r=t.length,n=0,a=0,i=t.map(Gee);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Ma;n<r&&(o=Wee(t,i,++n))===Ma;);if(o!==Ma||n===r){var l=Vee.apply(null,t.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},Xee=function(e){for(var t=zee(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},qee=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),i===t)return!0}}return!1},Yee=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=Xx(n.data).map(function(A){return gn(A)}),i=0,o={},l=a.every(function(A,c){r.setStart(n,i),r.setEnd(n,i+A.length);var d=r.getBoundingClientRect();i+=A.length;var u=d.x>o.x||d.y>o.y;return o=d,c===0?!0:u});return e.body.removeChild(t),l},Jee=function(){return typeof new Image().crossOrigin<"u"},Zee=function(){return typeof new XMLHttpRequest().responseType=="string"},ete=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},gE=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},tte=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var o=nb(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),xE(o).then(function(l){n.drawImage(l,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",gE(A)?xE(nb(r,r,0,0,c)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),gE(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},nb=function(e,t,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},xE=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Jn={get SUPPORT_RANGE_BOUNDS(){var e=qee(document);return Object.defineProperty(Jn,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Jn.SUPPORT_RANGE_BOUNDS&&Yee(document);return Object.defineProperty(Jn,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ete(document);return Object.defineProperty(Jn,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?tte(document):Promise.resolve(!1);return Object.defineProperty(Jn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Jee();return Object.defineProperty(Jn,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Zee();return Object.defineProperty(Jn,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Jn,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Jn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},rh=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),rte=function(e,t,r,n){var a=ate(t,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Jn.SUPPORT_RANGE_BOUNDS){var A=vE(n,o,l.length).getClientRects();if(A.length>1){var c=hB(l),d=0;c.forEach(function(f){i.push(new rh(f,cl.fromDOMRectList(e,vE(n,d+o,f.length).getClientRects()))),d+=f.length})}else i.push(new rh(l,cl.fromDOMRectList(e,A)))}else{var u=n.splitText(l.length);i.push(new rh(l,nte(e,n))),n=u}else Jn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},nte=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=zx(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return cl.EMPTY},vE=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},hB=function(e){if(Jn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return Xee(e)},ste=function(e,t){if(Jn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return ote(e,t)},ate=function(e,t){return t.letterSpacing!==0?hB(e):ste(e,t)},ite=[32,160,4961,65792,65793,4153,4241],ote=function(e,t){for(var r=UY(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=Xx(o),A="";l.forEach(function(c){ite.indexOf(c)===-1?A+=gn(c):(A.length&&n.push(A),n.push(gn(c)),A="")}),A.length&&n.push(A)}};!(a=r.next()).done;)i();return n},lte=function(){function e(t,r,n){this.text=Ate(r.data,n.textTransform),this.textBounds=rte(t,this.text,n,r)}return e}(),Ate=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(cte,dte);case 2:return e.toUpperCase();default:return e}},cte=/(^|\s|:|-|\(|\))([a-z])/g,dte=function(e,t,r){return e.length>0?t+r.toUpperCase():e},AR=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(Eo),cR=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(Eo),dR=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=new XMLSerializer,o=zx(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(Eo),uR=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(Eo),sb=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(Eo),ute=[{type:15,flags:0,unit:"px",number:3}],fte=[{type:16,flags:0,number:50}],hte=function(e){return e.width>e.height?new cl(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new cl(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},mte=function(e){var t=e.type===pte?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Ng="checkbox",Eg="radio",pte="password",yE=707406591,mB=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=mte(n),(a.type===Ng||a.type===Eg)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=hte(a.bounds)),a.type){case Ng:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=ute;break;case Eg:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=fte;break}return a}return t}(Eo),fR=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(Eo),hR=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(Eo),mR=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=gR(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?eh(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):zo.TRANSPARENT,o=n.contentWindow.document.body?eh(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):zo.TRANSPARENT;a.backgroundColor=oA(i)?oA(o)?a.styles.backgroundColor:o:i}}catch{}return a}return t}(Eo),gte=["OL","UL","MENU"],Bp=function(e,t,r,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,xR(a)&&a.data.trim().length>0)r.textNodes.push(new lte(e,a,r.styles));else if(_d(a))if(bR(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return Bp(e,l,r,n)});else{var o=pR(e,a);o.styles.isVisible()&&(xte(a,o,n)?o.flags|=4:vte(o.styles)&&(o.flags|=2),gte.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?Bp(e,a.shadowRoot,o,n):!Sg(a)&&!vR(a)&&!Fg(a)&&Bp(e,a,o,n))}},pR=function(e,t){return ib(t)?new AR(e,t):yR(t)?new cR(e,t):vR(t)?new dR(e,t):yte(t)?new uR(e,t):wte(t)?new sb(e,t):bte(t)?new mB(e,t):Fg(t)?new fR(e,t):Sg(t)?new hR(e,t):wR(t)?new mR(e,t):new Eo(e,t)},gR=function(e,t){var r=pR(e,t);return r.flags|=4,Bp(e,t,r,r),r},xte=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||pB(e)&&r.styles.isTransparent()},vte=function(e){return e.isPositioned()||e.isFloating()},xR=function(e){return e.nodeType===Node.TEXT_NODE},_d=function(e){return e.nodeType===Node.ELEMENT_NODE},ab=function(e){return _d(e)&&typeof e.style<"u"&&!jp(e)},jp=function(e){return typeof e.className=="object"},yte=function(e){return e.tagName==="LI"},wte=function(e){return e.tagName==="OL"},bte=function(e){return e.tagName==="INPUT"},Cte=function(e){return e.tagName==="HTML"},vR=function(e){return e.tagName==="svg"},pB=function(e){return e.tagName==="BODY"},yR=function(e){return e.tagName==="CANVAS"},wE=function(e){return e.tagName==="VIDEO"},ib=function(e){return e.tagName==="IMG"},wR=function(e){return e.tagName==="IFRAME"},bE=function(e){return e.tagName==="STYLE"},Bte=function(e){return e.tagName==="SCRIPT"},Sg=function(e){return e.tagName==="TEXTAREA"},Fg=function(e){return e.tagName==="SELECT"},bR=function(e){return e.tagName==="SLOT"},CE=function(e){return e.tagName.indexOf("-")>0},jte=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(l){var A=r.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var A=r.counters[l.counter];o.push(l.counter),A||(A=r.counters[l.counter]=[]),A.push(l.reset)}),o},e}(),BE={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},jE={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Nte={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ete={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sd=function(e,t,r,n,a,i){return e<t||e>r?qh(e,a,i.length>0):n.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=n.values[A];return o},"")+i},CR=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},pn=function(e,t,r,n,a){var i=r-t+1;return(e<0?"-":"")+(CR(Math.abs(e),i,n,function(o){return gn(Math.floor(o%i)+t)})+a)},IA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return CR(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},fd=1,Bl=2,jl=4,Uf=8,Io=function(e,t,r,n,a,i){if(e<-9999||e>9999)return qh(e,4,a.length>0);var o=Math.abs(e),l=a;if(o===0)return t[0]+l;for(var A=0;o>0&&A<=4;A++){var c=o%10;c===0&&Qn(i,fd)&&l!==""?l=t[c]+l:c>1||c===1&&A===0||c===1&&A===1&&Qn(i,Bl)||c===1&&A===1&&Qn(i,jl)&&e>100||c===1&&A>1&&Qn(i,Uf)?l=t[c]+(A>0?r[A-1]:"")+l:c===1&&A>0&&(l=r[A-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},NE="",EE="",SE="",Dy="",qh=function(e,t,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=pn(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return IA(e,"",a);case 6:return sd(e,1,3999,BE,3,n).toLowerCase();case 7:return sd(e,1,3999,BE,3,n);case 8:return pn(e,945,969,!1,n);case 9:return pn(e,97,122,!1,n);case 10:return pn(e,65,90,!1,n);case 11:return pn(e,1632,1641,!0,n);case 12:case 49:return sd(e,1,9999,jE,3,n);case 35:return sd(e,1,9999,jE,3,n).toLowerCase();case 13:return pn(e,2534,2543,!0,n);case 14:case 30:return pn(e,6112,6121,!0,n);case 15:return IA(e,"",a);case 16:return IA(e,"",a);case 17:case 48:return Io(e,"",NE,"",a,Bl|jl|Uf);case 47:return Io(e,"",EE,"",a,fd|Bl|jl|Uf);case 42:return Io(e,"",NE,"",a,Bl|jl|Uf);case 41:return Io(e,"",EE,"",a,fd|Bl|jl|Uf);case 26:return Io(e,"","",SE,a,0);case 25:return Io(e,"","",SE,a,fd|Bl|jl);case 31:return Io(e,"","",Dy,i,fd|Bl|jl);case 33:return Io(e,"","",Dy,i,0);case 32:return Io(e,"","",Dy,i,fd|Bl|jl);case 18:return pn(e,2406,2415,!0,n);case 20:return sd(e,1,19999,Ete,3,n);case 21:return pn(e,2790,2799,!0,n);case 22:return pn(e,2662,2671,!0,n);case 22:return sd(e,1,10999,Nte,3,n);case 23:return IA(e,"");case 24:return IA(e,"");case 27:return pn(e,3302,3311,!0,n);case 28:return IA(e,"",a);case 29:return IA(e,"",a);case 34:return pn(e,3792,3801,!0,n);case 37:return pn(e,6160,6169,!0,n);case 38:return pn(e,4160,4169,!0,n);case 39:return pn(e,2918,2927,!0,n);case 40:return pn(e,1776,1785,!0,n);case 43:return pn(e,3046,3055,!0,n);case 44:return pn(e,3174,3183,!0,n);case 45:return pn(e,3664,3673,!0,n);case 46:return pn(e,3872,3881,!0,n);case 3:default:return pn(e,48,57,!0,n)}},BR="data-html2canvas-ignore",FE=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new jte,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=Ste(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=a.contentWindow,A=l.document,c=_te(a).then(function(){return _s(n,void 0,void 0,function(){var d,u;return gs(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(Qte),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),d=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Tte(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(A,u)}).then(function(){return a})]:[2,a]}})})});return A.open(),A.write(Ite(document.doctype)+"<html></html>"),Ute(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(t){if(rb(t,2))debugger;if(yR(t))return this.createCanvasClone(t);if(wE(t))return this.createVideoClone(t);if(bE(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return ib(r)&&(ib(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),CE(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Py(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!_d(r)||!Bte(r)&&!r.hasAttribute(BR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!_d(r)||!bE(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(_d(i)&&bR(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(xR(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&_d(t)&&(ab(t)||jp(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&ab(a)&&(this.clonedReferenceElement=a),pB(a)&&Ote(a);var A=this.counters.parse(new iE(this.context,i)),c=this.resolvePseudoContent(t,a,o,nh.BEFORE);CE(t)&&(r=!0),wE(t)||this.cloneChildNodes(t,a,r),c&&a.insertBefore(c,a.firstChild);var d=this.resolvePseudoContent(t,a,l,nh.AFTER);return d&&a.appendChild(d),this.counters.pop(A),(i&&(this.options.copyStyles||jp(t))&&!wR(t)||r)&&Py(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(Sg(t)||Fg(t))&&(Sg(a)||Fg(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new iE(this.context,n));var A=new yee(this.context,n),c=l.createElement("html2canvaspseudoelement");Py(n,c),A.content.forEach(function(u){if(u.type===0)c.appendChild(l.createTextNode(u.value));else if(u.type===22){var f=l.createElement("img");f.src=u.value,f.style.opacity="1",c.appendChild(f)}else if(u.type===18){if(u.name==="attr"){var m=u.values.filter(Dr);m.length&&c.appendChild(l.createTextNode(t.getAttribute(m[0].value)||""))}else if(u.name==="counter"){var p=u.values.filter(Su),h=p[0],x=p[1];if(h&&Dr(h)){var y=i.counters.getCounterValue(h.value),g=x&&Dr(x)?tb.parse(i.context,x.value):3;c.appendChild(l.createTextNode(qh(y,g,!1)))}}else if(u.name==="counters"){var w=u.values.filter(Su),h=w[0],b=w[1],x=w[2];if(h&&Dr(h)){var C=i.counters.getCounterValues(h.value),N=x&&Dr(x)?tb.parse(i.context,x.value):3,B=b&&b.type===0?b.value:"",F=C.map(function(P){return qh(P,N,!1)}).join(B);c.appendChild(l.createTextNode(F))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(l.createTextNode(aE(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(l.createTextNode(aE(A.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(l.createTextNode(u.value))}}),c.className=ob+" "+lb;var d=a===nh.BEFORE?" "+ob:" "+lb;return jp(r)?r.className.baseValue+=d:r.className+=d,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),nh;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(nh||(nh={}));var Ste=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(BR,"true"),e.body.appendChild(r),r},Fte=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Tte=function(e){return Promise.all([].slice.call(e.images,0).map(Fte))},_te=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},kte=["all","d","content"],Py=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);kte.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Ite=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Ute=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Qte=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Dte=":before",Pte=":after",ob="___html2canvas___pseudoelement_before",lb="___html2canvas___pseudoelement_after",TE=`{
    content: "" !important;
    display: none !important;
}`,Ote=function(e){Rte(e,"."+ob+Dte+TE+`
         .`+lb+Pte+TE)},Rte=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},jR=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Lte=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(Ry(t)||Vte(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return _s(this,void 0,void 0,function(){var r,n,a,i,o=this;return gs(this,function(l){switch(l.label){case 0:return r=jR.isSameOrigin(t),n=!Oy(t)&&this._options.useCORS===!0&&Jn.SUPPORT_CORS_IMAGES&&!r,a=!Oy(t)&&!r&&!Ry(t)&&typeof this._options.proxy=="string"&&Jn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Oy(t)&&!Ry(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(A,c){var d=new Image;d.onload=function(){return A(d)},d.onerror=c,($te(i)||n)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return A(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,o){var l=Jn.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return i(u.result)},!1),u.addEventListener("error",function(f){return o(f)},!1),u.readAsDataURL(A.response)}else o("Failed to proxy resource "+a+" with status code "+A.status)},A.onerror=o;var c=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+c+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),r._options.imageTimeout){var d=r._options.imageTimeout;A.timeout=d,A.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+a)}}A.send()})},e}(),Mte=/^data:image\/svg\+xml/i,Hte=/^data:image\/.*;base64,/i,Kte=/^data:image\/.*/i,Vte=function(e){return Jn.SUPPORT_SVG_DRAWING||!Gte(e)},Oy=function(e){return Kte.test(e)},$te=function(e){return Hte.test(e)},Ry=function(e){return e.substr(0,4)==="blob"},Gte=function(e){return e.substr(-3).toLowerCase()==="svg"||Mte.test(e)},xt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),ad=function(e,t,r){return new xt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},L0=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=ad(this.start,this.startControl,t),a=ad(this.startControl,this.endControl,t),i=ad(this.endControl,this.end,t),o=ad(n,a,t),l=ad(a,i,t),A=ad(o,l,t);return r?new e(this.start,n,o,A):new e(A,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),za=function(e){return e.type===1},Wte=function(){function e(t){var r=t.styles,n=t.bounds,a=kf(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=kf(r.borderTopRightRadius,n.width,n.height),A=l[0],c=l[1],d=kf(r.borderBottomRightRadius,n.width,n.height),u=d[0],f=d[1],m=kf(r.borderBottomLeftRadius,n.width,n.height),p=m[0],h=m[1],x=[];x.push((i+A)/n.width),x.push((p+u)/n.width),x.push((o+h)/n.height),x.push((c+f)/n.height);var y=Math.max.apply(Math,x);y>1&&(i/=y,o/=y,A/=y,c/=y,u/=y,f/=y,p/=y,h/=y);var g=n.width-A,w=n.height-f,b=n.width-u,C=n.height-h,N=r.borderTopWidth,B=r.borderRightWidth,F=r.borderBottomWidth,E=r.borderLeftWidth,U=Rr(r.paddingTop,t.bounds.width),P=Rr(r.paddingRight,t.bounds.width),O=Rr(r.paddingBottom,t.bounds.width),X=Rr(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Xr(n.left+E/3,n.top+N/3,i-E/3,o-N/3,Br.TOP_LEFT):new xt(n.left+E/3,n.top+N/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Xr(n.left+g,n.top+N/3,A-B/3,c-N/3,Br.TOP_RIGHT):new xt(n.left+n.width-B/3,n.top+N/3),this.bottomRightBorderDoubleOuterBox=u>0||f>0?Xr(n.left+b,n.top+w,u-B/3,f-F/3,Br.BOTTOM_RIGHT):new xt(n.left+n.width-B/3,n.top+n.height-F/3),this.bottomLeftBorderDoubleOuterBox=p>0||h>0?Xr(n.left+E/3,n.top+C,p-E/3,h-F/3,Br.BOTTOM_LEFT):new xt(n.left+E/3,n.top+n.height-F/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Xr(n.left+E*2/3,n.top+N*2/3,i-E*2/3,o-N*2/3,Br.TOP_LEFT):new xt(n.left+E*2/3,n.top+N*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Xr(n.left+g,n.top+N*2/3,A-B*2/3,c-N*2/3,Br.TOP_RIGHT):new xt(n.left+n.width-B*2/3,n.top+N*2/3),this.bottomRightBorderDoubleInnerBox=u>0||f>0?Xr(n.left+b,n.top+w,u-B*2/3,f-F*2/3,Br.BOTTOM_RIGHT):new xt(n.left+n.width-B*2/3,n.top+n.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||h>0?Xr(n.left+E*2/3,n.top+C,p-E*2/3,h-F*2/3,Br.BOTTOM_LEFT):new xt(n.left+E*2/3,n.top+n.height-F*2/3),this.topLeftBorderStroke=i>0||o>0?Xr(n.left+E/2,n.top+N/2,i-E/2,o-N/2,Br.TOP_LEFT):new xt(n.left+E/2,n.top+N/2),this.topRightBorderStroke=i>0||o>0?Xr(n.left+g,n.top+N/2,A-B/2,c-N/2,Br.TOP_RIGHT):new xt(n.left+n.width-B/2,n.top+N/2),this.bottomRightBorderStroke=u>0||f>0?Xr(n.left+b,n.top+w,u-B/2,f-F/2,Br.BOTTOM_RIGHT):new xt(n.left+n.width-B/2,n.top+n.height-F/2),this.bottomLeftBorderStroke=p>0||h>0?Xr(n.left+E/2,n.top+C,p-E/2,h-F/2,Br.BOTTOM_LEFT):new xt(n.left+E/2,n.top+n.height-F/2),this.topLeftBorderBox=i>0||o>0?Xr(n.left,n.top,i,o,Br.TOP_LEFT):new xt(n.left,n.top),this.topRightBorderBox=A>0||c>0?Xr(n.left+g,n.top,A,c,Br.TOP_RIGHT):new xt(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||f>0?Xr(n.left+b,n.top+w,u,f,Br.BOTTOM_RIGHT):new xt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||h>0?Xr(n.left,n.top+C,p,h,Br.BOTTOM_LEFT):new xt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Xr(n.left+E,n.top+N,Math.max(0,i-E),Math.max(0,o-N),Br.TOP_LEFT):new xt(n.left+E,n.top+N),this.topRightPaddingBox=A>0||c>0?Xr(n.left+Math.min(g,n.width-B),n.top+N,g>n.width+B?0:Math.max(0,A-B),Math.max(0,c-N),Br.TOP_RIGHT):new xt(n.left+n.width-B,n.top+N),this.bottomRightPaddingBox=u>0||f>0?Xr(n.left+Math.min(b,n.width-E),n.top+Math.min(w,n.height-F),Math.max(0,u-B),Math.max(0,f-F),Br.BOTTOM_RIGHT):new xt(n.left+n.width-B,n.top+n.height-F),this.bottomLeftPaddingBox=p>0||h>0?Xr(n.left+E,n.top+Math.min(C,n.height-F),Math.max(0,p-E),Math.max(0,h-F),Br.BOTTOM_LEFT):new xt(n.left+E,n.top+n.height-F),this.topLeftContentBox=i>0||o>0?Xr(n.left+E+X,n.top+N+U,Math.max(0,i-(E+X)),Math.max(0,o-(N+U)),Br.TOP_LEFT):new xt(n.left+E+X,n.top+N+U),this.topRightContentBox=A>0||c>0?Xr(n.left+Math.min(g,n.width+E+X),n.top+N+U,g>n.width+E+X?0:A-E+X,c-(N+U),Br.TOP_RIGHT):new xt(n.left+n.width-(B+P),n.top+N+U),this.bottomRightContentBox=u>0||f>0?Xr(n.left+Math.min(b,n.width-(E+X)),n.top+Math.min(w,n.height+N+U),Math.max(0,u-(B+P)),f-(F+O),Br.BOTTOM_RIGHT):new xt(n.left+n.width-(B+P),n.top+n.height-(F+O)),this.bottomLeftContentBox=p>0||h>0?Xr(n.left+E+X,n.top+C,Math.max(0,p-(E+X)),h-(F+O),Br.BOTTOM_LEFT):new xt(n.left+E+X,n.top+n.height-(F+O))}return e}(),Br;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Br||(Br={}));var Xr=function(e,t,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,A=e+r,c=t+n;switch(a){case Br.TOP_LEFT:return new L0(new xt(e,c),new xt(e,c-l),new xt(A-o,t),new xt(A,t));case Br.TOP_RIGHT:return new L0(new xt(e,t),new xt(e+o,t),new xt(A,c-l),new xt(A,c));case Br.BOTTOM_RIGHT:return new L0(new xt(A,t),new xt(A,t+l),new xt(e+o,c),new xt(e,c));case Br.BOTTOM_LEFT:default:return new L0(new xt(A,c),new xt(A-o,c),new xt(e,t+l),new xt(e,t))}},Tg=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},zte=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},_g=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Xte=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),M0=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),qte=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Yte=function(e){return e.type===0},NR=function(e){return e.type===1},Jte=function(e){return e.type===2},_E=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Zte=function(e,t,r,n,a){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+a);case 3:return i.add(t,r+a)}return i})},ER=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),SR=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new Wte(this.container),this.container.styles.opacity<1&&this.effects.push(new qte(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Xte(n,a,i))}if(this.container.styles.overflowX!==0){var o=Tg(this.curves),l=_g(this.curves);_E(o,l)?this.effects.push(new M0(o,6)):(this.effects.push(new M0(o,2)),this.effects.push(new M0(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(A){return!NR(A)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=Tg(n.curves),l=_g(n.curves);_E(o,l)||a.unshift(new M0(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(A){return Qn(A.target,t)})},e}(),Ab=function(e,t,r,n){e.container.elements.forEach(function(a){var i=Qn(a.flags,4),o=Qn(a.flags,2),l=new SR(a,e);Qn(a.styles.display,2048)&&n.push(l);var A=Qn(a.flags,8)?[]:n;if(i||o){var c=i||a.styles.isPositioned()?r:t,d=new ER(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var u=a.styles.zIndex.order;if(u<0){var f=0;c.negativeZIndex.some(function(p,h){return u>p.element.container.styles.zIndex.order?(f=h,!1):f>0}),c.negativeZIndex.splice(f,0,d)}else if(u>0){var m=0;c.positiveZIndex.some(function(p,h){return u>=p.element.container.styles.zIndex.order?(m=h+1,!1):m>0}),c.positiveZIndex.splice(m,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);Ab(l,d,i?d:r,A)}else a.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),Ab(l,t,r,A);Qn(a.flags,8)&&FR(a,A)})},FR=function(e,t){for(var r=e instanceof sb?e.start:1,n=e instanceof sb?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof uR&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=qh(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},ere=function(e){var t=new SR(e,null),r=new ER(t),n=[];return Ab(t,r,r,n),FR(t.container,n),r},kE=function(e,t){switch(t){case 0:return Ja(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ja(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ja(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ja(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},tre=function(e,t){switch(t){case 0:return Ja(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ja(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ja(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ja(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},rre=function(e,t){switch(t){case 0:return Ja(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ja(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ja(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ja(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},nre=function(e,t){switch(t){case 0:return H0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return H0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return H0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return H0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},H0=function(e,t){var r=[];return za(e)?r.push(e.subdivide(.5,!1)):r.push(e),za(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Ja=function(e,t,r,n){var a=[];return za(e)?a.push(e.subdivide(.5,!1)):a.push(e),za(r)?a.push(r.subdivide(.5,!0)):a.push(r),za(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),za(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},TR=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},kg=function(e){var t=e.styles,r=e.bounds,n=Rr(t.paddingLeft,r.width),a=Rr(t.paddingRight,r.width),i=Rr(t.paddingTop,r.width),o=Rr(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+o))},sre=function(e,t){return e===0?t.bounds:e===2?kg(t):TR(t)},are=function(e,t){return e===0?t.bounds:e===2?kg(t):TR(t)},Ly=function(e,t,r){var n=sre(hd(e.styles.backgroundOrigin,t),e),a=are(hd(e.styles.backgroundClip,t),e),i=ire(hd(e.styles.backgroundSize,t),r,n),o=i[0],l=i[1],A=kf(hd(e.styles.backgroundPosition,t),n.width-o,n.height-l),c=ore(hd(e.styles.backgroundRepeat,t),A,i,n,a),d=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[c,d,u,o,l]},id=function(e){return Dr(e)&&e.value===$d.AUTO},K0=function(e){return typeof e=="number"},ire=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(jn(o)&&l&&jn(l))return[Rr(o,r.width),Rr(l,r.height)];var A=K0(i);if(Dr(o)&&(o.value===$d.CONTAIN||o.value===$d.COVER)){if(K0(i)){var c=r.width/r.height;return c<i!=(o.value===$d.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var d=K0(n),u=K0(a),f=d||u;if(id(o)&&(!l||id(l))){if(d&&u)return[n,a];if(!A&&!f)return[r.width,r.height];if(f&&A){var m=d?n:a*i,p=u?a:n/i;return[m,p]}var h=d?n:r.width,x=u?a:r.height;return[h,x]}if(A){var y=0,g=0;return jn(o)?y=Rr(o,r.width):jn(l)&&(g=Rr(l,r.height)),id(o)?y=g*i:(!l||id(l))&&(g=y/i),[y,g]}var w=null,b=null;if(jn(o)?w=Rr(o,r.width):l&&jn(l)&&(b=Rr(l,r.height)),w!==null&&(!l||id(l))&&(b=d&&u?w/n*a:r.height),b!==null&&id(o)&&(w=d&&u?b/a*n:r.width),w!==null&&b!==null)return[w,b];throw new Error("Unable to calculate background-size for element")},hd=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},ore=function(e,t,r,n,a){var i=t[0],o=t[1],l=r[0],A=r[1];switch(e){case 2:return[new xt(Math.round(n.left),Math.round(n.top+o)),new xt(Math.round(n.left+n.width),Math.round(n.top+o)),new xt(Math.round(n.left+n.width),Math.round(A+n.top+o)),new xt(Math.round(n.left),Math.round(A+n.top+o))];case 3:return[new xt(Math.round(n.left+i),Math.round(n.top)),new xt(Math.round(n.left+i+l),Math.round(n.top)),new xt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new xt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new xt(Math.round(n.left+i),Math.round(n.top+o)),new xt(Math.round(n.left+i+l),Math.round(n.top+o)),new xt(Math.round(n.left+i+l),Math.round(n.top+o+A)),new xt(Math.round(n.left+i),Math.round(n.top+o+A))];default:return[new xt(Math.round(a.left),Math.round(a.top)),new xt(Math.round(a.left+a.width),Math.round(a.top)),new xt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new xt(Math.round(a.left),Math.round(a.height+a.top))]}},lre="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",IE="Hidden Text",Are=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=lre,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(IE)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(IE)),n.style.lineHeight="normal",a.style.verticalAlign="super";var A=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:A}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),_R=function(){function e(t,r){this.context=t,this.options=r}return e}(),cre=1e4,dre=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Are(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),Jte(r)&&(this.ctx.globalAlpha=r.opacity),Yte(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),NR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return _s(this,void 0,void 0,function(){var n;return gs(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return _s(this,void 0,void 0,function(){return gs(this,function(n){switch(n.label){case 0:if(Qn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=hB(r.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,r.bounds.top+a),l+i.ctx.measureText(A).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=pre(r.fontFamily).join(", "),i=km(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,n){return _s(this,void 0,void 0,function(){var a,i,o,l,A,c,d,u,f=this;return gs(this,function(m){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),c=A.baseline,d=A.middle,u=n.paintOrder,r.textBounds.forEach(function(p){u.forEach(function(h){switch(h){case 0:f.ctx.fillStyle=Ln(n.color),f.renderTextWithLetterSpacing(p,n.letterSpacing,c);var x=n.textShadow;x.length&&p.text.trim().length&&(x.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=Ln(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(p,n.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=Ln(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+d),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=Ln(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=kg(r),o=_g(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return _s(this,void 0,void 0,function(){var n,a,i,o,l,A,g,g,c,d,u,f,b,m,p,C,h,x,y,g,w,b,C;return gs(this,function(N){switch(N.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,N.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:N.sent(),N.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof AR))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return g=N.sent(),this.renderReplacedElement(n,a,g),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof cR&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof dR))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return g=N.sent(),this.renderReplacedElement(n,a,g),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof mR&&n.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:d=N.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),N.label=14;case 14:if(n instanceof mB&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===Ng?n.checked&&(this.ctx.save(),this.path([new xt(n.bounds.left+u*.39363,n.bounds.top+u*.79),new xt(n.bounds.left+u*.16,n.bounds.top+u*.5549),new xt(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new xt(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new xt(n.bounds.left+u*.72983,n.bounds.top+u*.23),new xt(n.bounds.left+u*.84,n.bounds.top+u*.34085),new xt(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=Ln(yE),this.ctx.fill(),this.ctx.restore()):n.type===Eg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ln(yE),this.ctx.fill(),this.ctx.restore())),ure(n)&&n.value.length){switch(f=this.createFontStyle(i),b=f[0],m=f[1],p=this.fontMetrics.getMetrics(b,m).baseline,this.ctx.font=b,this.ctx.fillStyle=Ln(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hre(n.styles.textAlign),C=kg(n),h=0,n.styles.textAlign){case 1:h+=C.width/2;break;case 2:h+=C.width;break}x=C.add(h,0,0,-C.height/2+1),this.ctx.save(),this.path([new xt(C.left,C.top),new xt(C.left+C.width,C.top),new xt(C.left+C.width,C.top+C.height),new xt(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new rh(n.value,x),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Qn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];g=void 0,w=y.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return g=N.sent(),this.ctx.drawImage(g,n.bounds.left-(g.width+10),n.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(i)[0],this.ctx.font=b,this.ctx.fillStyle=Ln(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new cl(n.bounds.left,n.bounds.top+Rr(n.styles.paddingTop,n.bounds.width),n.bounds.width,nE(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new rh(r.listValue,C),i.letterSpacing,nE(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return _s(this,void 0,void 0,function(){var n,a,y,i,o,y,l,A,y,c,d,y,u,f,y,m,p,y,h,x,y;return gs(this,function(g){switch(g.label){case 0:if(Qn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:g.sent(),n=0,a=r.negativeZIndex,g.label=2;case 2:return n<a.length?(y=a[n],[4,this.renderStack(y)]):[3,5];case 3:g.sent(),g.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:g.sent(),i=0,o=r.nonInlineLevel,g.label=7;case 7:return i<o.length?(y=o[i],[4,this.renderNode(y)]):[3,10];case 8:g.sent(),g.label=9;case 9:return i++,[3,7];case 10:l=0,A=r.nonPositionedFloats,g.label=11;case 11:return l<A.length?(y=A[l],[4,this.renderStack(y)]):[3,14];case 12:g.sent(),g.label=13;case 13:return l++,[3,11];case 14:c=0,d=r.nonPositionedInlineLevel,g.label=15;case 15:return c<d.length?(y=d[c],[4,this.renderStack(y)]):[3,18];case 16:g.sent(),g.label=17;case 17:return c++,[3,15];case 18:u=0,f=r.inlineLevel,g.label=19;case 19:return u<f.length?(y=f[u],[4,this.renderNode(y)]):[3,22];case 20:g.sent(),g.label=21;case 21:return u++,[3,19];case 22:m=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,g.label=23;case 23:return m<p.length?(y=p[m],[4,this.renderStack(y)]):[3,26];case 24:g.sent(),g.label=25;case 25:return m++,[3,23];case 26:h=0,x=r.positiveZIndex,g.label=27;case 27:return h<x.length?(y=x[h],[4,this.renderStack(y)]):[3,30];case 28:g.sent(),g.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=za(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),za(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var A=l.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},t.prototype.renderBackgroundImage=function(r){return _s(this,void 0,void 0,function(){var n,a,i,o,l,A;return gs(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,a=function(d){var u,f,m,U,q,ne,X,ae,F,p,U,q,ne,X,ae,h,x,y,g,w,b,C,N,B,F,E,U,P,O,X,ae,he,q,ne,H,J,de,se,D,j,k,M;return gs(this,function(S){switch(S.label){case 0:if(d.type!==0)return[3,5];u=void 0,f=d.url,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return u=S.sent(),[3,4];case 3:return S.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return u&&(m=Ly(r,n,[u.width,u.height,u.width/u.height]),U=m[0],q=m[1],ne=m[2],X=m[3],ae=m[4],F=i.ctx.createPattern(i.resizeImage(u,X,ae),"repeat"),i.renderRepeat(U,F,q,ne)),[3,6];case 5:YJ(d)?(p=Ly(r,n,[null,null,null]),U=p[0],q=p[1],ne=p[2],X=p[3],ae=p[4],h=GJ(d.angle,X,ae),x=h[0],y=h[1],g=h[2],w=h[3],b=h[4],C=document.createElement("canvas"),C.width=X,C.height=ae,N=C.getContext("2d"),B=N.createLinearGradient(y,w,g,b),tE(d.stops,x).forEach(function(_){return B.addColorStop(_.stop,Ln(_.color))}),N.fillStyle=B,N.fillRect(0,0,X,ae),X>0&&ae>0&&(F=i.ctx.createPattern(C,"repeat"),i.renderRepeat(U,F,q,ne))):JJ(d)&&(E=Ly(r,n,[null,null,null]),U=E[0],P=E[1],O=E[2],X=E[3],ae=E[4],he=d.position.length===0?[dB]:d.position,q=Rr(he[0],X),ne=Rr(he[he.length-1],ae),H=WJ(d,q,ne,X,ae),J=H[0],de=H[1],J>0&&de>0&&(se=i.ctx.createRadialGradient(P+q,O+ne,0,P+q,O+ne,J),tE(d.stops,J*2).forEach(function(_){return se.addColorStop(_.stop,Ln(_.color))}),i.path(U),i.ctx.fillStyle=se,J!==de?(D=r.bounds.left+.5*r.bounds.width,j=r.bounds.top+.5*r.bounds.height,k=de/J,M=1/k,i.ctx.save(),i.ctx.translate(D,j),i.ctx.transform(1,0,0,k,0,0),i.ctx.translate(-D,-j),i.ctx.fillRect(P,M*(O-j)+j,X,ae*M),i.ctx.restore()):i.ctx.fill())),S.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<l.length?(A=l[o],[5,a(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return _s(this,void 0,void 0,function(){return gs(this,function(i){return this.path(kE(a,n)),this.ctx.fillStyle=Ln(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,i){return _s(this,void 0,void 0,function(){var o,l;return gs(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=tre(i,a),this.path(o),this.ctx.fillStyle=Ln(r),this.ctx.fill(),l=rre(i,a),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return _s(this,void 0,void 0,function(){var n,a,i,o,l,A,c,d,u=this;return gs(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!oA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=fre(hd(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),oA(n.backgroundColor)||(this.ctx.fillStyle=Ln(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){u.ctx.save();var p=Tg(r.curves),h=m.inset?0:cre,x=Zte(p,-h+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(u.path(p),u.ctx.clip(),u.mask(x)):(u.mask(p),u.ctx.clip(),u.path(x)),u.ctx.shadowOffsetX=m.offsetX.number+h,u.ctx.shadowOffsetY=m.offsetY.number,u.ctx.shadowColor=Ln(m.color),u.ctx.shadowBlur=m.blur.number,u.ctx.fillStyle=m.inset?Ln(m.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),f.label=2;case 2:l=0,A=0,c=i,f.label=3;case 3:return A<c.length?(d=c[A],d.style!==0&&!oA(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,r.curves)];case 10:f.sent(),f.label=11;case 11:l++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return _s(this,void 0,void 0,function(){var l,A,c,d,u,f,m,p,h,x,y,g,w,b,C,N,C,N;return gs(this,function(B){return this.ctx.save(),l=nre(i,a),A=kE(i,a),o===2&&(this.path(A),this.ctx.clip()),za(A[0])?(c=A[0].start.x,d=A[0].start.y):(c=A[0].x,d=A[0].y),za(A[1])?(u=A[1].end.x,f=A[1].end.y):(u=A[1].x,f=A[1].y),a===0||a===2?m=Math.abs(c-u):m=Math.abs(d-f),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),p=n<3?n*3:n*2,h=n<3?n*2:n,o===3&&(p=n,h=n),x=!0,m<=p*2?x=!1:m<=p*2+h?(y=m/(2*p+h),p*=y,h*=y):(g=Math.floor((m+h)/(p+h)),w=(m-g*p)/(g-1),b=(m-(g+1)*p)/g,h=b<=0||Math.abs(h-w)<Math.abs(h-b)?w:b),x&&(o===3?this.ctx.setLineDash([0,p+h]):this.ctx.setLineDash([p,h])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ln(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(za(A[0])&&(C=A[3],N=A[0],this.ctx.beginPath(),this.formatPath([new xt(C.end.x,C.end.y),new xt(N.start.x,N.start.y)]),this.ctx.stroke()),za(A[1])&&(C=A[1],N=A[2],this.ctx.beginPath(),this.formatPath([new xt(C.end.x,C.end.y),new xt(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return _s(this,void 0,void 0,function(){var n;return gs(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ln(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ere(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(_R),ure=function(e){return e instanceof hR||e instanceof fR?!0:e instanceof mB&&e.type!==Eg&&e.type!==Ng},fre=function(e,t){switch(e){case 0:return Tg(t);case 2:return zte(t);case 1:default:return _g(t)}},hre=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},mre=["-apple-system","system-ui"],pre=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return mre.indexOf(t)===-1}):e},gre=function(e){Ki(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return _s(this,void 0,void 0,function(){var n,a;return gs(this,function(i){switch(i.label){case 0:return n=nb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,xre(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ln(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(_R),xre=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},vre=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,w0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,w0([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,w0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,w0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),yre=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new vre({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new Lte(this,t)}return e.instanceCount=1,e}(),Yh=function(e,t){return t===void 0&&(t={}),wre(e,t)};typeof window<"u"&&jR.setContext(window);var wre=function(e,t){return _s(void 0,void 0,void 0,function(){var r,n,a,i,o,l,A,c,d,u,f,m,p,h,x,y,g,w,b,C,B,N,B,F,E,U,P,O,X,ae,he,q,ne,H,J,de,se,D,j,k;return gs(this,function(M){switch(M.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(F=t.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(E=t.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:t.proxy,useCORS:(U=t.useCORS)!==null&&U!==void 0?U:!1},i=H1({logging:(P=t.logging)!==null&&P!==void 0?P:!0,cache:t.cache},a),o={windowWidth:(O=t.windowWidth)!==null&&O!==void 0?O:n.innerWidth,windowHeight:(X=t.windowHeight)!==null&&X!==void 0?X:n.innerHeight,scrollX:(ae=t.scrollX)!==null&&ae!==void 0?ae:n.pageXOffset,scrollY:(he=t.scrollY)!==null&&he!==void 0?he:n.pageYOffset},l=new cl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new yre(i,l),c=(q=t.foreignObjectRendering)!==null&&q!==void 0?q:!1,d={allowTaint:(ne=t.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),u=new FE(A,e,d),f=u.clonedReferenceElement,f?[4,u.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=M.sent(),p=pB(f)||Cte(f)?Zq(f.ownerDocument):zx(A,f),h=p.width,x=p.height,y=p.left,g=p.top,w=bre(A,f,t.backgroundColor),b={canvas:t.canvas,backgroundColor:w,scale:(J=(H=t.scale)!==null&&H!==void 0?H:n.devicePixelRatio)!==null&&J!==void 0?J:1,x:((de=t.x)!==null&&de!==void 0?de:0)+y,y:((se=t.y)!==null&&se!==void 0?se:0)+g,width:(D=t.width)!==null&&D!==void 0?D:Math.ceil(h),height:(j=t.height)!==null&&j!==void 0?j:Math.ceil(x)},c?(A.logger.debug("Document cloned, using foreign object rendering"),B=new gre(A,b),[4,B.render(f)]):[3,3];case 2:return C=M.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+g+" with size "+h+"x"+x+" using computed rendering"),A.logger.debug("Starting DOM parsing"),N=gR(A,f),w===N.styles.backgroundColor&&(N.styles.backgroundColor=zo.TRANSPARENT),A.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),B=new dre(A,b),[4,B.render(N)];case 4:C=M.sent(),M.label=5;case 5:return(!((k=t.removeContainer)!==null&&k!==void 0)||k)&&(FE.destroy(m)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,C]}})})},bre=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?eh(e,getComputedStyle(n.documentElement).backgroundColor):zo.TRANSPARENT,i=n.body?eh(e,getComputedStyle(n.body).backgroundColor):zo.TRANSPARENT,o=typeof r=="string"?eh(e,r):r===null?zo.TRANSPARENT:4294967295;return t===n.documentElement?oA(a)?oA(i)?o:i:a:o};const UE=Object.freeze(Object.defineProperty({__proto__:null,default:Yh},Symbol.toStringTag,{value:"Module"})),QE={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday"},My=e=>{const[t,r]=e.split(":"),n=parseInt(t,10),a=n===0?12:n>12?n-12:n,i=n>=12?"PM":"AM";return`${a}:${r} ${i}`},Cre=(e,t)=>{const r=new Date(e),n=new Date(t),a={month:"short",day:"numeric"};return`${r.toLocaleDateString("en-US",a)} - ${n.toLocaleDateString("en-US",a)}, ${r.getFullYear()}`},Bre=({classInfo:e,weekStart:t,weekEnd:r,timetableData:n,timeSlots:a,workingDays:i})=>{const o=v.useRef(null),[l,A]=v.useState(!1);if(!a||!i||!n)return s.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-4 max-w-4xl",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(ns,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Unable to load timetable data. Please try again."})]})});const c=["monday","tuesday","wednesday","thursday","friday","saturday"].filter(g=>i.includes(g)),d=g=>{const w=new Date(t),b=["monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(g),C=new Date(w);return C.setDate(w.getDate()+b),C.getDate().toString()},u=(g,w)=>n.find(b=>{var C;return((C=b.day)==null?void 0:C.toLowerCase())===g.toLowerCase()&&b.period===w})||null,f=async()=>{if(o.current)try{const g=await Yh(o.current,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}),w=document.createElement("a");w.download=`Class_${e.grade}${e.section?"_"+e.section:""}_Timetable_${t}.png`,w.href=g.toDataURL(),w.click()}catch(g){console.error("Failed to export timetable:",g)}},m=()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],p=()=>new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),h=()=>{const g=m();return a.map(w=>({...w,entry:u(g,w.period)})).filter(w=>!w.isBreak)},x=()=>{const g=h(),b=m()==="sunday";return s.jsxs("div",{className:"bg-card rounded-lg border border-border shadow-sm p-3 max-w-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>A(!0),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium text-foreground",children:["Class ",e.grade,e.section?`-${e.section}`:""," Timetable"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:p()})]})]}),s.jsx(iQ,{className:"w-4 h-4 text-muted-foreground"})]}),b?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:" Weekend"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"No classes today"})]}):s.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:g.map(C=>{var N,B;return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["P",C.period," (",My(C.startTime),")"]}),s.jsx("span",{className:"font-medium text-foreground",children:((B=(N=C.entry)==null?void 0:N.subject)==null?void 0:B.name)||"Free"})]},C.period)})}),s.jsx("div",{className:"mt-2 text-xs text-center text-blue-600 font-medium",children:"Click to view full timetable"})]})},y=()=>s.jsxs("div",{className:"bg-card rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Class ",e.grade,e.section?`-${e.section}`:""," Weekly Timetable"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Cre(t,r)})]})]}),s.jsxs(oe,{onClick:f,size:"sm",variant:"outline",className:"flex items-center space-x-1",children:[s.jsx(xc,{className:"w-4 h-4"}),s.jsx("span",{children:"Export PNG"})]})]}),s.jsx("div",{ref:o,className:"bg-card",children:s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full border-collapse text-sm min-w-0",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-blue-50 dark:from-blue-950/30 to-indigo-50 dark:to-indigo-950/30",children:[s.jsx("th",{className:"border border-border px-2 md:px-3 py-2 text-left font-medium text-foreground w-20 md:w-32 lg:w-36 sticky left-0 bg-blue-50 dark:bg-blue-950/30 z-10",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:""}),s.jsx("span",{className:"text-sm hidden md:inline",children:"Period"}),s.jsx("span",{className:"text-sm md:hidden",children:"P"})]})}),c.map(g=>s.jsx("th",{className:"border border-border px-1 md:px-3 lg:px-4 py-2 text-center font-medium text-foreground w-24 md:w-auto",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:QE[g]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[QE[g].slice(0,3)," ",d(g)]})]})},g))]})}),s.jsx("tbody",{children:a.map(g=>g.isBreak?s.jsxs("tr",{className:"bg-orange-50 dark:bg-orange-950/30 h-10",children:[s.jsxs("td",{className:"border border-border px-2 md:px-3 py-2 font-medium text-orange-700 dark:text-orange-300 sticky left-0 bg-orange-50 dark:bg-orange-950/30 z-10",children:[s.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[s.jsx("span",{className:"text-sm",children:""}),s.jsx("span",{className:"text-sm",children:"Break"})]}),s.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:My(g.startTime)})]}),c.map(b=>s.jsx("td",{className:"border border-border px-1 md:px-3 lg:px-4 py-2 text-center bg-orange-50 dark:bg-orange-950/30",children:s.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm",children:"Break"})},`${b}-break-${g.period}`))]},`break-${g.period}`):s.jsxs("tr",{className:"hover:bg-muted/30 h-16",children:[s.jsxs("td",{className:"border border-border px-2 md:px-3 py-2 font-medium text-foreground bg-blue-50 dark:bg-blue-950/30 sticky left-0 z-10",children:[s.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[s.jsx("span",{className:"bg-blue-600 text-white rounded w-5 h-5 md:w-6 md:h-6 flex items-center justify-center text-xs md:text-sm font-bold",children:g.period}),s.jsxs("span",{className:"text-xs md:text-sm hidden md:inline",children:["P",g.period]})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:My(g.startTime)})]}),c.map(b=>{var B,F,E,U,P,O;const C=u(b,g.period);if(!C||!C.teacherId&&!C.subjectId)return s.jsx("td",{className:"border border-border px-1 md:px-3 lg:px-4 py-2 text-center",children:s.jsx("div",{className:"text-muted-foreground/60 text-xs md:text-sm",children:"Free Period"})},`${b}-${g.period}`);const N=(B=C.subject)!=null&&B.color?`${C.subject.color}15`:"#f9fafb";return s.jsx("td",{className:"border border-border px-1 md:px-3 lg:px-4 py-2",style:{backgroundColor:N},children:s.jsxs("div",{className:"space-y-0.5 md:space-y-1",children:[s.jsx("div",{className:"font-semibold text-xs md:text-sm leading-tight truncate",style:{color:((F=C.subject)==null?void 0:F.color)||"hsl(var(--foreground))"},title:((E=C.subject)==null?void 0:E.name)||"Subject",children:((U=C.subject)==null?void 0:U.name)||"Subject"}),s.jsx("div",{className:"text-xs md:text-sm text-muted-foreground leading-tight truncate",title:((P=C.teacher)==null?void 0:P.name)||"Teacher",children:((O=C.teacher)==null?void 0:O.name)||"Teacher"}),C.room&&s.jsxs("div",{className:"text-xs text-muted-foreground/80 hidden md:block",children:["Room: ",C.room]}),C.isModified&&s.jsx("div",{className:"inline-flex items-center px-1 rounded text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 hidden md:inline-flex",children:" Modified"})]})},`${b}-${g.period}`)})]},g.period))})]})})}),s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground/60 text-center",children:["Generated on ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),"  Class ",e.grade,e.section?`-${e.section}`:""]})]});return s.jsxs(s.Fragment,{children:[x(),s.jsx(qt,{open:l,onOpenChange:A,children:s.jsxs(er,{className:"w-[95vw] max-w-[95vw] xl:max-w-[90vw] h-[90vh] md:h-[85vh] p-0 overflow-hidden",children:[s.jsx(sr,{className:"px-6 py-4 border-b",children:s.jsxs(ar,{className:"sr-only",children:["Class ",e.grade,e.section?`-${e.section}`:""," Timetable"]})}),s.jsx("div",{className:"flex-1 overflow-auto px-6 py-4",children:y()})]})})]})};var sv="Checkbox",[jre,Z0e]=Ws(sv),[Nre,gB]=jre(sv);function Ere(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:A,required:c,value:d="on",internal_do_not_use_render:u}=e,[f,m]=Qi({prop:r,defaultProp:a??!1,onChange:A,caller:sv}),[p,h]=v.useState(null),[x,y]=v.useState(null),g=v.useRef(!1),w=p?!!o||!!p.closest("form"):!0,b={checked:f,disabled:i,setChecked:m,control:p,setControl:h,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:c,defaultChecked:lA(a)?!1:a,isFormControl:w,bubbleInput:x,setBubbleInput:y};return s.jsx(Nre,{scope:t,...b,children:Sre(u)?u(b):n})}var kR="CheckboxTrigger",IR=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:A,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:p}=gB(kR,e),h=cr(a,d),x=v.useRef(A);return v.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const g=()=>u(x.current);return y.addEventListener("reset",g),()=>y.removeEventListener("reset",g)}},[i,u]),s.jsx(kt.button,{type:"button",role:"checkbox","aria-checked":lA(A)?"mixed":A,"aria-required":c,"data-state":OR(A),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:h,onKeyDown:nt(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:nt(r,y=>{u(g=>lA(g)?!0:!g),p&&m&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});IR.displayName=kR;var xB=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:A,onCheckedChange:c,form:d,...u}=e;return s.jsx(Ere,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:c,name:n,form:d,value:A,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(IR,{...u,ref:t,__scopeCheckbox:r}),f&&s.jsx(PR,{__scopeCheckbox:r})]})})});xB.displayName=sv;var UR="CheckboxIndicator",QR=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=gB(UR,r);return s.jsx(pa,{present:n||lA(i.checked)||i.checked===!0,children:s.jsx(kt.span,{"data-state":OR(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});QR.displayName=UR;var DR="CheckboxBubbleInput",PR=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:A,name:c,value:d,form:u,bubbleInput:f,setBubbleInput:m}=gB(DR,e),p=cr(r,m),h=lB(i),x=PC(n);v.useEffect(()=>{const g=f;if(!g)return;const w=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(h!==i&&C){const B=new Event("click",{bubbles:N});g.indeterminate=lA(i),C.call(g,lA(i)?!1:i),g.dispatchEvent(B)}},[f,h,i,a]);const y=v.useRef(lA(i)?!1:i);return s.jsx(kt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:A,name:c,value:d,form:u,...t,tabIndex:-1,ref:p,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});PR.displayName=DR;function Sre(e){return typeof e=="function"}function lA(e){return e==="indeterminate"}function OR(e){return lA(e)?"indeterminate":e?"checked":"unchecked"}const va=v.forwardRef(({className:e,...t},r)=>s.jsx(xB,{ref:r,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(QR,{className:De("flex items-center justify-center text-current"),children:s.jsx(gu,{className:"h-4 w-4"})})}));va.displayName=xB.displayName;const Fre={basic:"bg-blue-100 text-blue-800",contact:"bg-green-100 text-green-800",personal:"bg-purple-100 text-purple-800",guardian:"bg-orange-100 text-orange-800",medical:"bg-red-100 text-red-800",system:"bg-gray-100 text-gray-800",academic:"bg-indigo-100 text-indigo-800",workload:"bg-yellow-100 text-yellow-800",schedule:"bg-pink-100 text-pink-800"},Tre={basic:"Basic Info",contact:"Contact Details",personal:"Personal Info",guardian:"Guardian Details",medical:"Medical Info",system:"System Info",academic:"Academic Info",workload:"Workload Info",schedule:"Schedule Info"};function _re({type:e,count:t,availableFields:r,onClose:n}){const[a,i]=v.useState([]),[o,l]=v.useState(!1),A=r.reduce((m,p)=>(m[p.category]||(m[p.category]=[]),m[p.category].push(p),m),{}),c=m=>{i(p=>p.includes(m)?p.filter(h=>h!==m):[...p,m])},d=m=>{const p=A[m].map(x=>x.id),h=p.every(x=>a.includes(x));i(h?x=>x.filter(y=>!p.includes(y)):x=>[...x,...p.filter(y=>!x.includes(y))])},u=async()=>{if(a.length===0){alert("Please select at least one field to download");return}l(!0);try{const m=await Ne("POST","/api/download-excel",{type:e,fields:a});if(!m.ok){const y=await m.json();throw new Error(y.error||"Download failed")}const p=await m.blob(),h=window.URL.createObjectURL(p),x=document.createElement("a");x.href=h,x.download=`${e}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(x),x.click(),x.remove(),window.URL.revokeObjectURL(h),n()}catch(m){console.error("Download failed:",m);const p=m instanceof Error?m.message:"Download failed. Please try again.";alert(p)}finally{l(!1)}},f=m=>{let p=[];m==="essential"?e==="students"?p=["admissionNumber","firstName","lastName","rollNumber","className","contactNumber"]:p=["employeeId","name","email","contactNumber","subjects"]:m==="contact"?e==="students"?p=["firstName","lastName","className","email","contactNumber","guardianName","guardianContact"]:p=["name","email","contactNumber"]:m==="all"&&(p=r.map(h=>h.id)),i(p)};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Qe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs(qe,{className:"border-b",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(rg,{className:"h-5 w-5 text-green-600"}),"Download ",e==="students"?"Student":"Teacher"," Data"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Select the fields you want to include in your Excel file (",t," records)"]})]}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(al,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f("essential"),children:"Essential Fields"}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f("contact"),children:"Contact Info"}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f("all"),children:"Select All"}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>i([]),children:"Clear All"})]})]}),s.jsx(Pe,{className:"p-6 overflow-y-auto max-h-[60vh]",children:s.jsx("div",{className:"space-y-6",children:Object.entries(A).map(([m,p])=>{const h=p.map(g=>g.id),x=h.filter(g=>a.includes(g)).length,y=x===h.length;return x>0&&x<h.length,s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ht,{variant:"secondary",className:Fre[m],children:Tre[m]||m}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",x,"/",h.length," selected)"]})]}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>d(m),className:"text-xs",children:y?"Deselect All":"Select All"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pl-4",children:p.map(g=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(va,{id:g.id,checked:a.includes(g.id),onCheckedChange:()=>c(g.id)}),s.jsx("label",{htmlFor:g.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:g.label})]},g.id))})]},m)})})}),s.jsx("div",{className:"border-t p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(tg,{className:"h-4 w-4"}),a.length," field",a.length!==1?"s":""," selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(oe,{variant:"outline",onClick:n,children:"Cancel"}),s.jsx(oe,{onClick:u,disabled:a.length===0||o,className:"min-w-32",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Downloading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xc,{className:"h-4 w-4 mr-2"}),"Download Excel"]})})]})]})})]})})}const av=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:De("w-full caption-bottom text-sm",e),...t})}));av.displayName="Table";const iv=v.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:De("[&_tr]:border-b",e),...t}));iv.displayName="TableHeader";const ov=v.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:De("[&_tr:last-child]:border-0",e),...t}));ov.displayName="TableBody";const kre=v.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kre.displayName="TableFooter";const Sc=v.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:De("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Sc.displayName="TableRow";const ea=v.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ea.displayName="TableHead";const ta=v.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ta.displayName="TableCell";const Ire=v.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:De("mt-4 text-sm text-muted-foreground",e),...t}));Ire.displayName="TableCaption";const Ure=()=>{const e=["Hey there! I'm Chroney, your AI assistant. I do classes, attendance, timetables basically everything except homework. Don't even try ","What's up! Chroney here . I run your school system smoother than a principal on a Friday afternoon. What's the mission today?","Yo! I'm Chroney, your school's brainy sidekick . Wanna take attendance or should I just mark everyone present and go home early?","Sup, human? Chroney reporting for duty . Tell me what you wantattendance, classes, timetableor I'll just start rapping the ABCs.","Hey hey! Chroney here . Think of me as the class topper who actually does your work. What do you need today?"];return e[Math.floor(Math.random()*e.length)]};function Qre({onSystemAction:e}){const[t,r]=v.useState([{id:"1",role:"assistant",content:Ure(),timestamp:new Date}]),[n,a]=v.useState(""),[i,o]=v.useState(!1),[l,A]=v.useState(!1),[c,d]=v.useState(null),u=v.useRef(null),f=v.useRef(null),m=()=>{if(u.current){const y=u.current.parentElement;y&&(y.scrollTop=y.scrollHeight)}};v.useEffect(()=>{const y=setTimeout(()=>{m()},50);return()=>clearTimeout(y)},[t]);const p=async()=>{if(!n.trim()||i)return;const y={id:Date.now().toString(),role:"user",content:n.trim(),timestamp:new Date};r(w=>[...w,y]),a(""),o(!0);const g={id:"typing",role:"assistant",content:"",timestamp:new Date,isTyping:!0};r(w=>[...w,g]);try{const b=await(await Ne("POST","/api/chat/process",{message:y.content})).json();if(r(C=>C.filter(N=>N.id!=="typing")),b.action==="display-timetable"&&b.actionData){const{timetableEntries:C,className:N,workingDays:B,timeSlots:F,...E}=b.actionData,U=N.match(/^(\d+)([A-Z]?)$/),P=U?U[1]:N,O=U?U[2]:"",X=new Date,ae=new Date(X.setDate(X.getDate()-X.getDay()+1)),he=new Date(ae);he.setDate(ae.getDate()+6);const q={classInfo:{grade:P,section:O},weekStart:ae.toISOString().split("T")[0],weekEnd:he.toISOString().split("T")[0],timetableData:C,timeSlots:F,workingDays:B,...E},ne={id:(Date.now()+1).toString(),role:"assistant",content:b.reply,timestamp:new Date,timetableData:q};r(H=>[...H,ne])}else if(b.action==="analytics_results"&&b.actionData){const C={query:b.actionData.query,data:b.actionData.data||[],rowCount:b.actionData.rowCount||0},N={id:(Date.now()+1).toString(),role:"assistant",content:b.reply,timestamp:new Date,analyticsData:C};r(B=>[...B,N])}else if(b.action==="show_field_selection"&&b.actionData){d({type:b.actionData.type,count:b.actionData.count,availableFields:b.actionData.availableFields});const C={id:(Date.now()+1).toString(),role:"assistant",content:b.reply,timestamp:new Date};r(N=>[...N,C])}else{const C={id:(Date.now()+1).toString(),role:"assistant",content:b.reply,timestamp:new Date};r(N=>[...N,C]),b.action&&e&&e(b.action,b.actionData)}}catch{r(C=>C.filter(N=>N.id!=="typing"));const b={id:(Date.now()+1).toString(),role:"assistant",content:"I apologize, but I'm having trouble processing your request right now. Please try again later or contact support if the issue persists.",timestamp:new Date};r(C=>[...C,b])}finally{o(!1)}},h=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),p())},x=y=>y.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return l?s.jsxs("div",{className:"relative mb-6",children:[s.jsxs("div",{className:"bg-card rounded-xl shadow-lg border border-border overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 px-6 py-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(mp,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Hi Chroney"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full"}),s.jsx("span",{className:"text-xs text-purple-100",children:"AI Assistant Active"})]})]})]}),s.jsx(oe,{onClick:()=>A(!1),variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/10 rounded-lg",children:s.jsx(aV,{className:"h-4 w-4"})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"h-80 overflow-y-auto bg-muted/30 rounded-lg p-4 mb-4 space-y-4 border border-border",children:[t.map(y=>s.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-3 ${y.role==="user"?"bg-gradient-to-r from-purple-500 to-blue-600 text-white ml-4 shadow-sm":"bg-card text-card-foreground border border-border mr-4 shadow-sm"}`,children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:`flex-shrink-0 ${y.role==="user"?"order-2":""}`,children:y.role==="user"?s.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(wr,{className:"w-3 h-3"})}):s.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:y.isTyping?s.jsx(la,{className:"w-3 h-3 animate-spin text-white"}):s.jsx(mp,{className:"w-3 h-3 text-white"})})}),s.jsx("div",{className:`flex-1 ${y.role==="user"?"order-1":""}`,children:y.isTyping?s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:y.content}),y.timetableData&&s.jsx("div",{className:"mt-3",children:s.jsx(Bre,{...y.timetableData})}),y.analyticsData&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"bg-card border rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm font-semibold text-foreground flex items-center",children:[" ",s.jsx("span",{className:"ml-1",children:"Analytics Results"})]}),s.jsxs(ht,{variant:"secondary",className:"text-xs",children:[y.analyticsData.rowCount," records"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(av,{children:[s.jsx(iv,{children:s.jsx(Sc,{className:"hover:bg-transparent",children:y.analyticsData.data.length>0&&Object.keys(y.analyticsData.data[0]).map(g=>s.jsx(ea,{className:"bg-muted/50 font-semibold text-foreground capitalize",children:g.replace(/_/g," ")},g))})}),s.jsx(ov,{children:y.analyticsData.data.map((g,w)=>s.jsx(Sc,{className:"hover:bg-muted/30 transition-colors",children:Object.entries(g).map(([b,C],N)=>s.jsx(ta,{className:"font-medium",children:C==null?s.jsx("span",{className:"text-muted-foreground",children:"-"}):s.jsx("span",{className:b==="status"&&C==="absent"?"text-red-600 font-semibold":b==="status"&&C==="present"?"text-green-600 font-semibold":b==="status"&&C==="late"?"text-yellow-600 font-semibold":"",children:C.toString()})},N))},w))})]})})]}),s.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:' Need to export this data? Ask me to "export this as Excel" or "export as CSV"'})]}),s.jsx("div",{className:`text-xs mt-1 opacity-60 ${y.role==="user"?"text-right":"text-left"}`,children:x(y.timestamp)})]})})]})})},y.id)),s.jsx("div",{ref:u})]}),s.jsxs("div",{className:"flex space-x-3 mb-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Fe,{ref:f,value:n,onChange:y=>a(y.target.value),onKeyPress:h,placeholder:"Ask Hi Chroney anything... (e.g., 'Create a new class', 'Check attendance')",disabled:i,className:"bg-background border-border text-foreground placeholder-muted-foreground rounded-lg pl-4 pr-12 py-3 focus:border-purple-500 focus:ring-purple-500/20"}),s.jsx(dV,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-purple-400"})]}),s.jsx(oe,{onClick:p,disabled:i||!n.trim(),className:"bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 text-white border-0 rounded-lg px-6 shadow-md hover:shadow-lg transition-all duration-200",children:i?s.jsx(la,{className:"h-4 w-4 animate-spin"}):s.jsx(cQ,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>a("How many teachers are present today?"),disabled:i,className:"bg-muted border-border text-muted-foreground hover:bg-purple-50 dark:hover:bg-purple-950/30 hover:border-purple-300 dark:hover:border-purple-600 rounded-lg",children:"Check Attendance"}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>a("Create a new class"),disabled:i,className:"bg-muted border-border text-muted-foreground hover:bg-purple-50 dark:hover:bg-purple-950/30 hover:border-purple-300 dark:hover:border-purple-600 rounded-lg",children:"Create Class"}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>a("Mark a teacher absent today"),disabled:i,className:"bg-muted border-border text-muted-foreground hover:bg-purple-50 dark:hover:bg-purple-950/30 hover:border-purple-300 dark:hover:border-purple-600 rounded-lg",children:"Mark Absent"}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>a("Show me the timetable"),disabled:i,className:"bg-muted border-border text-muted-foreground hover:bg-purple-50 dark:hover:bg-purple-950/30 hover:border-purple-300 dark:hover:border-purple-600 rounded-lg",children:"View Timetable"})]})]})]}),c&&s.jsx(_re,{type:c.type,count:c.count,availableFields:c.availableFields,onClose:()=>d(null)})]}):s.jsx("div",{className:"relative mb-6",children:s.jsxs("div",{className:"relative bg-gradient-to-br from-card via-purple-50/30 dark:via-purple-900/20 to-blue-50/20 dark:to-blue-900/20 rounded-xl p-6 shadow-lg border border-border overflow-hidden cursor-pointer hover:shadow-xl hover:border-purple-300/50 dark:hover:border-purple-600/50 transition-all duration-200",onClick:()=>A(!0),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100/20 dark:from-purple-800/10 via-transparent to-blue-100/20 dark:to-blue-800/10"}),s.jsxs("div",{className:"relative flex items-center space-x-4 z-10",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx(mp,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Hi Chroney"}),s.jsx(ht,{className:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-xs px-2 py-1 border border-green-200 dark:border-green-700",children:"ONLINE"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"AI School Management Assistant"}),s.jsx("p",{className:"text-xs text-muted-foreground/80",children:"Click anywhere to start chatting with your assistant"})]}),s.jsxs(oe,{onClick:()=>A(!0),className:"bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 text-white border-0 rounded-lg px-4 py-2 shadow-md hover:shadow-lg transition-all duration-200",children:[s.jsx(sV,{className:"w-4 h-4 mr-2"}),"Chat"]})]})]})})}const Co=v.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Co.displayName="Textarea";function Dre(){return tU.useSyncExternalStore(Pre,()=>!0,()=>!1)}function Pre(){return()=>{}}var vB="Avatar",[Ore,epe]=Ws(vB),[Rre,RR]=Ore(vB),LR=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=v.useState("idle");return s.jsx(Rre,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(kt.span,{...n,ref:t})})});LR.displayName=vB;var MR="AvatarImage",HR=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=RR(MR,r),l=Lre(n,i),A=Hs(c=>{a(c),o.onImageLoadingStatusChange(c)});return Sn(()=>{l!=="idle"&&A(l)},[l,A]),l==="loaded"?s.jsx(kt.img,{...i,ref:t,src:n}):null});HR.displayName=MR;var KR="AvatarFallback",VR=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=RR(KR,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const A=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(A)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(kt.span,{...a,ref:t}):null});VR.displayName=KR;function DE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Lre(e,{referrerPolicy:t,crossOrigin:r}){const n=Dre(),a=v.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=v.useState(()=>DE(i,e));return Sn(()=>{l(DE(i,e))},[i,e]),Sn(()=>{const A=u=>()=>{l(u)};if(!i)return;const c=A("loaded"),d=A("error");return i.addEventListener("load",c),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",c),i.removeEventListener("error",d)}},[i,r,t]),o}var $R=LR,GR=HR,WR=VR;const Jh=v.forwardRef(({className:e,...t},r)=>s.jsx($R,{ref:r,className:De("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Jh.displayName=$R.displayName;const Mre=v.forwardRef(({className:e,...t},r)=>s.jsx(GR,{ref:r,className:De("aspect-square h-full w-full",e),...t}));Mre.displayName=GR.displayName;const Zh=v.forwardRef(({className:e,...t},r)=>s.jsx(WR,{ref:r,className:De("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zh.displayName=WR.displayName;function Gt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Qs(e,t){const r=Gt(e);return isNaN(t)?fa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ri(e,t){const r=Gt(e);if(isNaN(t))return fa(e,NaN);if(!t)return r;const n=r.getDate(),a=fa(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const yB=6048e5,Hre=864e5,V0=43200,PE=1440;let Kre={};function qu(){return Kre}function Li(e,t){var l,A,c,d;const r=qu(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,a=Gt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Fc(e){return Li(e,{weekStartsOn:1})}function zR(e){const t=Gt(e),r=t.getFullYear(),n=fa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Fc(n),i=fa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Fc(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Fu(e){const t=Gt(e);return t.setHours(0,0,0,0),t}function Tu(e){const t=Gt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function io(e,t){const r=Fu(e),n=Fu(t),a=+r-Tu(r),i=+n-Tu(n);return Math.round((a-i)/Hre)}function Vre(e){const t=zR(e),r=fa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Fc(r)}function cb(e,t){const r=t*7;return Qs(e,r)}function $re(e,t){return Ri(e,t*12)}function Gre(e){let t;return e.forEach(function(r){const n=Gt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Wre(e){let t;return e.forEach(r=>{const n=Gt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Np(e,t){const r=Gt(e),n=Gt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function zre(e){return fa(e,Date.now())}function sa(e,t){const r=Fu(e),n=Fu(t);return+r==+n}function wB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Xre(e){if(!wB(e)&&typeof e!="number")return!1;const t=Gt(e);return!isNaN(Number(t))}function _u(e,t){const r=Gt(e),n=Gt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function qre(e,t,r){const n=Li(e,r),a=Li(t,r),i=+n-Tu(n),o=+a-Tu(a);return Math.round((i-o)/yB)}function Yre(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Jre(e,t){return+Gt(e)-+Gt(t)}function Zre(e){const t=Gt(e);return t.setHours(23,59,59,999),t}function Im(e){const t=Gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ene(e){const t=Gt(e);return+Zre(t)==+Im(t)}function tne(e,t){const r=Gt(e),n=Gt(t),a=Np(r,n),i=Math.abs(_u(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Np(r,n)===-a;ene(Gt(e))&&i===1&&Np(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function rne(e,t,r){const n=Jre(e,t)/1e3;return Yre(r==null?void 0:r.roundingMethod)(n)}function Ls(e){const t=Gt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function XR(e){const t=Gt(e),r=fa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function lv(e,t){var l,A,c,d;const r=qu(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,a=Gt(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function qR(e){return lv(e,{weekStartsOn:1})}const nne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sne=(e,t,r)=>{let n;const a=nne[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hy(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ane={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ine={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},one={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lne={date:Hy({formats:ane,defaultWidth:"full"}),time:Hy({formats:ine,defaultWidth:"full"}),dateTime:Hy({formats:one,defaultWidth:"full"})},Ane={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cne=(e,t,r,n)=>Ane[e];function vf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const dne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},une={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gne=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xne={ordinalNumber:gne,era:vf({values:dne,defaultWidth:"wide"}),quarter:vf({values:une,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vf({values:fne,defaultWidth:"wide"}),day:vf({values:hne,defaultWidth:"wide"}),dayPeriod:vf({values:mne,defaultWidth:"wide",formattingValues:pne,defaultFormattingWidth:"wide"})};function yf(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?yne(l,u=>u.test(o)):vne(l,u=>u.test(o));let c;c=e.valueCallback?e.valueCallback(A):A,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function vne(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yne(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function wne(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const bne=/^(\d+)(th|st|nd|rd)?/i,Cne=/\d+/i,Bne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jne={any:[/^b/i,/^(a|c)/i]},Nne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ene={any:[/1/i,/2/i,/3/i,/4/i]},Sne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_ne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ine={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Une={ordinalNumber:wne({matchPattern:bne,parsePattern:Cne,valueCallback:e=>parseInt(e,10)}),era:yf({matchPatterns:Bne,defaultMatchWidth:"wide",parsePatterns:jne,defaultParseWidth:"any"}),quarter:yf({matchPatterns:Nne,defaultMatchWidth:"wide",parsePatterns:Ene,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yf({matchPatterns:Sne,defaultMatchWidth:"wide",parsePatterns:Fne,defaultParseWidth:"any"}),day:yf({matchPatterns:Tne,defaultMatchWidth:"wide",parsePatterns:_ne,defaultParseWidth:"any"}),dayPeriod:yf({matchPatterns:kne,defaultMatchWidth:"any",parsePatterns:Ine,defaultParseWidth:"any"})},bB={code:"en-US",formatDistance:sne,formatLong:lne,formatRelative:cne,localize:xne,match:Une,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qne(e){const t=Gt(e);return io(t,XR(t))+1}function YR(e){const t=Gt(e),r=+Fc(t)-+Vre(t);return Math.round(r/yB)+1}function JR(e,t){var d,u,f,m;const r=Gt(e),n=r.getFullYear(),a=qu(),i=(t==null?void 0:t.firstWeekContainsDate)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=fa(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Li(o,t),A=fa(e,0);A.setFullYear(n,0,i),A.setHours(0,0,0,0);const c=Li(A,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Dne(e,t){var l,A,c,d;const r=qu(),n=(t==null?void 0:t.firstWeekContainsDate)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,a=JR(e,t),i=fa(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Li(i,t)}function ZR(e,t){const r=Gt(e),n=+Li(r,t)-+Dne(r,t);return Math.round(n/yB)+1}function Sr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const yl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Sr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Sr(r+1,2)},d(e,t){return Sr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Sr(e.getHours()%12||12,t.length)},H(e,t){return Sr(e.getHours(),t.length)},m(e,t){return Sr(e.getMinutes(),t.length)},s(e,t){return Sr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Sr(a,t.length)}},od={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return yl.y(e,t)},Y:function(e,t,r,n){const a=JR(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Sr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Sr(i,t.length)},R:function(e,t){const r=zR(e);return Sr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Sr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Sr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Sr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return yl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Sr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=ZR(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Sr(a,t.length)},I:function(e,t,r){const n=YR(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Sr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yl.d(e,t)},D:function(e,t,r){const n=Qne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Sr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Sr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Sr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Sr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=od.noon:n===0?a=od.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=od.evening:n>=12?a=od.afternoon:n>=4?a=od.morning:a=od.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Sr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Sr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yl.s(e,t)},S:function(e,t){return yl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return LE(n);case"XXXX":case"XX":return DA(n);case"XXXXX":case"XXX":default:return DA(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return LE(n);case"xxxx":case"xx":return DA(n);case"xxxxx":case"xxx":default:return DA(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+RE(n,":");case"OOOO":default:return"GMT"+DA(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+RE(n,":");case"zzzz":default:return"GMT"+DA(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Sr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Sr(n,t.length)}};function RE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Sr(i,2)}function LE(e,t){return e%60===0?(e>0?"-":"+")+Sr(Math.abs(e)/60,2):DA(e,t)}function DA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Sr(Math.trunc(n/60),2),i=Sr(n%60,2);return r+a+t+i}const ME=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},eL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Pne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ME(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ME(n,t)).replace("{{time}}",eL(a,t))},One={p:eL,P:Pne},Rne=/^D+$/,Lne=/^Y+$/,Mne=["D","DD","YY","YYYY"];function Hne(e){return Rne.test(e)}function Kne(e){return Lne.test(e)}function Vne(e,t,r){const n=$ne(e,t,r);if(console.warn(n),Mne.includes(e))throw new RangeError(n)}function $ne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zne=/^'([^]*?)'?$/,Xne=/''/g,qne=/[a-zA-Z]/;function Yr(e,t,r){var d,u,f,m,p,h,x,y;const n=qu(),a=(r==null?void 0:r.locale)??n.locale??bB,i=(r==null?void 0:r.firstWeekContainsDate)??((u=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((h=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=Gt(e);if(!Xre(l))throw new RangeError("Invalid time value");let A=t.match(Wne).map(g=>{const w=g[0];if(w==="p"||w==="P"){const b=One[w];return b(g,a.formatLong)}return g}).join("").match(Gne).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:Yne(g)};if(OE[w])return{isToken:!0,value:g};if(w.match(qne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(A=a.localize.preprocessor(l,A));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return A.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Kne(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Hne(w))&&Vne(w,t,String(e));const b=OE[w[0]];return b(l,w,a.localize,c)}).join("")}function Yne(e){const t=e.match(zne);return t?t[1].replace(Xne,"'"):e}function Jne(e,t,r){const n=qu(),a=(r==null?void 0:r.locale)??n.locale??bB,i=2520,o=Np(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let A,c;o>0?(A=Gt(t),c=Gt(e)):(A=Gt(e),c=Gt(t));const d=rne(c,A),u=(Tu(c)-Tu(A))/1e3,f=Math.round((d-u)/60);let m;if(f<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<PE){const p=Math.round(f/60);return a.formatDistance("aboutXHours",p,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<V0){const p=Math.round(f/PE);return a.formatDistance("xDays",p,l)}else if(f<V0*2)return m=Math.round(f/V0),a.formatDistance("aboutXMonths",m,l)}if(m=tne(c,A),m<12){const p=Math.round(f/V0);return a.formatDistance("xMonths",p,l)}else{const p=m%12,h=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",h,l):p<9?a.formatDistance("overXYears",h,l):a.formatDistance("almostXYears",h+1,l)}}function tL(e,t){return Jne(e,zre(e),t)}function Zne(e){const t=Gt(e),r=t.getFullYear(),n=t.getMonth(),a=fa(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function ese(e){return Math.trunc(+Gt(e)/1e3)}function tse(e){const t=Gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function rse(e,t){return qre(tse(e),Ls(e),t)+1}function db(e,t){const r=Gt(e),n=Gt(t);return r.getTime()>n.getTime()}function rL(e,t){const r=Gt(e),n=Gt(t);return+r<+n}function CB(e,t){const r=Gt(e),n=Gt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function nse(e,t){const r=Gt(e),n=Gt(t);return r.getFullYear()===n.getFullYear()}function Ky(e,t){return Qs(e,-t)}function Vy(e,t){const r=Gt(e),n=r.getFullYear(),a=r.getDate(),i=fa(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Zne(i);return r.setMonth(t,Math.min(a,o)),r}function HE(e,t){const r=Gt(e);return isNaN(+r)?fa(e,NaN):(r.setFullYear(t),r)}var $y="rovingFocusGroup.onEntryFocus",sse={bubbles:!1,cancelable:!0},Um="RovingFocusGroup",[ub,nL,ase]=xx(Um),[ise,Av]=Ws(Um,[ase]),[ose,lse]=ise(Um),sL=v.forwardRef((e,t)=>s.jsx(ub.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ub.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ase,{...e,ref:t})})}));sL.displayName=Um;var Ase=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,f=v.useRef(null),m=cr(t,f),p=Vx(i),[h,x]=Qi({prop:o,defaultProp:l??null,onChange:A,caller:Um}),[y,g]=v.useState(!1),w=Hs(c),b=nL(r),C=v.useRef(!1),[N,B]=v.useState(0);return v.useEffect(()=>{const F=f.current;if(F)return F.addEventListener($y,w),()=>F.removeEventListener($y,w)},[w]),s.jsx(ose,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:h,onItemFocus:v.useCallback(F=>x(F),[x]),onItemShiftTab:v.useCallback(()=>g(!0),[]),onFocusableItemAdd:v.useCallback(()=>B(F=>F+1),[]),onFocusableItemRemove:v.useCallback(()=>B(F=>F-1),[]),children:s.jsx(kt.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:nt(e.onMouseDown,()=>{C.current=!0}),onFocus:nt(e.onFocus,F=>{const E=!C.current;if(F.target===F.currentTarget&&E&&!y){const U=new CustomEvent($y,sse);if(F.currentTarget.dispatchEvent(U),!U.defaultPrevented){const P=b().filter(q=>q.focusable),O=P.find(q=>q.active),X=P.find(q=>q.id===h),he=[O,X,...P].filter(Boolean).map(q=>q.ref.current);oL(he,d)}}C.current=!1}),onBlur:nt(e.onBlur,()=>g(!1))})})}),aL="RovingFocusGroupItem",iL=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,A=ti(),c=i||A,d=lse(aL,r),u=d.currentTabStopId===c,f=nL(r),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:h}=d;return v.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),s.jsx(ub.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(kt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:nt(e.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:nt(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:nt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=use(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const b=w.indexOf(x.currentTarget);w=d.loop?fse(w,b+1):w.slice(b+1)}setTimeout(()=>oL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:u,hasTabStop:h!=null}):o})})});iL.displayName=aL;var cse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function use(e,t,r){const n=dse(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cse[n]}function oL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function fse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lL=sL,AL=iL,fb=["Enter"," "],hse=["ArrowDown","PageUp","Home"],cL=["ArrowUp","PageDown","End"],mse=[...hse,...cL],pse={ltr:[...fb,"ArrowRight"],rtl:[...fb,"ArrowLeft"]},gse={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qm="Menu",[em,xse,vse]=xx(Qm),[Hc,dL]=Ws(Qm,[vse,EA,Av]),cv=EA(),uL=Av(),[yse,Kc]=Hc(Qm),[wse,Dm]=Hc(Qm),fL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=cv(t),[A,c]=v.useState(null),d=v.useRef(!1),u=Hs(i),f=Vx(a);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),s.jsx(Ex,{...l,children:s.jsx(yse,{scope:t,open:r,onOpenChange:u,content:A,onContentChange:c,children:s.jsx(wse,{scope:t,onClose:v.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};fL.displayName=Qm;var bse="MenuAnchor",BB=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=cv(r);return s.jsx(wm,{...a,...n,ref:t})});BB.displayName=bse;var jB="MenuPortal",[Cse,hL]=Hc(jB,{forceMount:void 0}),mL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Kc(jB,t);return s.jsx(Cse,{scope:t,forceMount:r,children:s.jsx(pa,{present:r||i.open,children:s.jsx(Hu,{asChild:!0,container:a,children:n})})})};mL.displayName=jB;var ri="MenuContent",[Bse,NB]=Hc(ri),pL=v.forwardRef((e,t)=>{const r=hL(ri,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Kc(ri,e.__scopeMenu),o=Dm(ri,e.__scopeMenu);return s.jsx(em.Provider,{scope:e.__scopeMenu,children:s.jsx(pa,{present:n||i.open,children:s.jsx(em.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(jse,{...a,ref:t}):s.jsx(Nse,{...a,ref:t})})})})}),jse=v.forwardRef((e,t)=>{const r=Kc(ri,e.__scopeMenu),n=v.useRef(null),a=cr(t,n);return v.useEffect(()=>{const i=n.current;if(i)return Qx(i)},[]),s.jsx(EB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:nt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Nse=v.forwardRef((e,t)=>{const r=Kc(ri,e.__scopeMenu);return s.jsx(EB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Ese=dA("MenuContent.ScrollLock"),EB=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:A,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:m,disableOutsideScroll:p,...h}=e,x=Kc(ri,r),y=Dm(ri,r),g=cv(r),w=uL(r),b=xse(r),[C,N]=v.useState(null),B=v.useRef(null),F=cr(t,B,x.onContentChange),E=v.useRef(0),U=v.useRef(""),P=v.useRef(0),O=v.useRef(null),X=v.useRef("right"),ae=v.useRef(0),he=p?Cm:v.Fragment,q=p?{as:Ese,allowPinchZoom:!0}:void 0,ne=J=>{var _,Z;const de=U.current+J,se=b().filter(K=>!K.disabled),D=document.activeElement,j=(_=se.find(K=>K.ref.current===D))==null?void 0:_.textValue,k=se.map(K=>K.textValue),M=Rse(k,de,j),S=(Z=se.find(K=>K.textValue===M))==null?void 0:Z.ref.current;(function K(re){U.current=re,window.clearTimeout(E.current),re!==""&&(E.current=window.setTimeout(()=>K(""),1e3))})(de),S&&setTimeout(()=>S.focus())};v.useEffect(()=>()=>window.clearTimeout(E.current),[]),Ix();const H=v.useCallback(J=>{var se,D;return X.current===((se=O.current)==null?void 0:se.side)&&Mse(J,(D=O.current)==null?void 0:D.area)},[]);return s.jsx(Bse,{scope:r,searchRef:U,onItemEnter:v.useCallback(J=>{H(J)&&J.preventDefault()},[H]),onItemLeave:v.useCallback(J=>{var de;H(J)||((de=B.current)==null||de.focus(),N(null))},[H]),onTriggerLeave:v.useCallback(J=>{H(J)&&J.preventDefault()},[H]),pointerGraceTimerRef:P,onPointerGraceIntentChange:v.useCallback(J=>{O.current=J},[]),children:s.jsx(he,{...q,children:s.jsx(bm,{asChild:!0,trapped:a,onMountAutoFocus:nt(i,J=>{var de;J.preventDefault(),(de=B.current)==null||de.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:m,children:s.jsx(lL,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:N,onEntryFocus:nt(A,J=>{y.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Sx,{role:"menu","aria-orientation":"vertical","data-state":kL(x.open),"data-radix-menu-content":"",dir:y.dir,...g,...h,ref:F,style:{outline:"none",...h.style},onKeyDown:nt(h.onKeyDown,J=>{const se=J.target.closest("[data-radix-menu-content]")===J.currentTarget,D=J.ctrlKey||J.altKey||J.metaKey,j=J.key.length===1;se&&(J.key==="Tab"&&J.preventDefault(),!D&&j&&ne(J.key));const k=B.current;if(J.target!==k||!mse.includes(J.key))return;J.preventDefault();const S=b().filter(_=>!_.disabled).map(_=>_.ref.current);cL.includes(J.key)&&S.reverse(),Pse(S)}),onBlur:nt(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(E.current),U.current="")}),onPointerMove:nt(e.onPointerMove,tm(J=>{const de=J.target,se=ae.current!==J.clientX;if(J.currentTarget.contains(de)&&se){const D=J.clientX>ae.current?"right":"left";X.current=D,ae.current=J.clientX}}))})})})})})})});pL.displayName=ri;var Sse="MenuGroup",SB=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(kt.div,{role:"group",...n,ref:t})});SB.displayName=Sse;var Fse="MenuLabel",gL=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(kt.div,{...n,ref:t})});gL.displayName=Fse;var Ig="MenuItem",KE="menu.itemSelect",dv=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=v.useRef(null),o=Dm(Ig,e.__scopeMenu),l=NB(Ig,e.__scopeMenu),A=cr(t,i),c=v.useRef(!1),d=()=>{const u=i.current;if(!r&&u){const f=new CustomEvent(KE,{bubbles:!0,cancelable:!0});u.addEventListener(KE,m=>n==null?void 0:n(m),{once:!0}),BC(u,f),f.defaultPrevented?c.current=!1:o.onClose()}};return s.jsx(xL,{...a,ref:A,disabled:r,onClick:nt(e.onClick,d),onPointerDown:u=>{var f;(f=e.onPointerDown)==null||f.call(e,u),c.current=!0},onPointerUp:nt(e.onPointerUp,u=>{var f;c.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:nt(e.onKeyDown,u=>{const f=l.searchRef.current!=="";r||f&&u.key===" "||fb.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});dv.displayName=Ig;var xL=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=NB(Ig,r),l=uL(r),A=v.useRef(null),c=cr(t,A),[d,u]=v.useState(!1),[f,m]=v.useState("");return v.useEffect(()=>{const p=A.current;p&&m((p.textContent??"").trim())},[i.children]),s.jsx(em.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:s.jsx(AL,{asChild:!0,...l,focusable:!n,children:s.jsx(kt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:c,onPointerMove:nt(e.onPointerMove,tm(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:nt(e.onPointerLeave,tm(p=>o.onItemLeave(p))),onFocus:nt(e.onFocus,()=>u(!0)),onBlur:nt(e.onBlur,()=>u(!1))})})})}),Tse="MenuCheckboxItem",vL=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(BL,{scope:e.__scopeMenu,checked:r,children:s.jsx(dv,{role:"menuitemcheckbox","aria-checked":Ug(r)?"mixed":r,...a,ref:t,"data-state":TB(r),onSelect:nt(a.onSelect,()=>n==null?void 0:n(Ug(r)?!0:!r),{checkForDefaultPrevented:!1})})})});vL.displayName=Tse;var yL="MenuRadioGroup",[_se,kse]=Hc(yL,{value:void 0,onValueChange:()=>{}}),wL=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Hs(n);return s.jsx(_se,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(SB,{...a,ref:t})})});wL.displayName=yL;var bL="MenuRadioItem",CL=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=kse(bL,e.__scopeMenu),i=r===a.value;return s.jsx(BL,{scope:e.__scopeMenu,checked:i,children:s.jsx(dv,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":TB(i),onSelect:nt(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});CL.displayName=bL;var FB="MenuItemIndicator",[BL,Ise]=Hc(FB,{checked:!1}),jL=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Ise(FB,r);return s.jsx(pa,{present:n||Ug(i.checked)||i.checked===!0,children:s.jsx(kt.span,{...a,ref:t,"data-state":TB(i.checked)})})});jL.displayName=FB;var Use="MenuSeparator",NL=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(kt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});NL.displayName=Use;var Qse="MenuArrow",EL=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=cv(r);return s.jsx(Fx,{...a,...n,ref:t})});EL.displayName=Qse;var Dse="MenuSub",[tpe,SL]=Hc(Dse),Qf="MenuSubTrigger",FL=v.forwardRef((e,t)=>{const r=Kc(Qf,e.__scopeMenu),n=Dm(Qf,e.__scopeMenu),a=SL(Qf,e.__scopeMenu),i=NB(Qf,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:A}=i,c={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),A(null)}},[l,A]),s.jsx(BB,{asChild:!0,...c,children:s.jsx(xL,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":kL(r.open),...e,ref:gx(t,a.onTriggerChange),onClick:u=>{var f;(f=e.onClick)==null||f.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:nt(e.onPointerMove,tm(u=>{i.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:nt(e.onPointerLeave,tm(u=>{var m,p;d();const f=(m=r.content)==null?void 0:m.getBoundingClientRect();if(f){const h=(p=r.content)==null?void 0:p.dataset.side,x=h==="right",y=x?-5:5,g=f[x?"left":"right"],w=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+y,y:u.clientY},{x:g,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:g,y:f.bottom}],side:h}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:nt(e.onKeyDown,u=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&u.key===" "||pse[n.dir].includes(u.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),u.preventDefault())})})})});FL.displayName=Qf;var TL="MenuSubContent",_L=v.forwardRef((e,t)=>{const r=hL(ri,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Kc(ri,e.__scopeMenu),o=Dm(ri,e.__scopeMenu),l=SL(TL,e.__scopeMenu),A=v.useRef(null),c=cr(t,A);return s.jsx(em.Provider,{scope:e.__scopeMenu,children:s.jsx(pa,{present:n||i.open,children:s.jsx(em.Slot,{scope:e.__scopeMenu,children:s.jsx(EB,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;o.isUsingKeyboardRef.current&&((u=A.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:nt(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:nt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:nt(e.onKeyDown,d=>{var m;const u=d.currentTarget.contains(d.target),f=gse[o.dir].includes(d.key);u&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});_L.displayName=TL;function kL(e){return e?"open":"closed"}function Ug(e){return e==="indeterminate"}function TB(e){return Ug(e)?"indeterminate":e?"checked":"unchecked"}function Pse(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Ose(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Rse(e,t,r){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Ose(e,Math.max(i,0));a.length===1&&(o=o.filter(c=>c!==r));const A=o.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return A!==r?A:void 0}function Lse(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],A=t[o],c=l.x,d=l.y,u=A.x,f=A.y;d>n!=f>n&&r<(u-c)*(n-d)/(f-d)+c&&(a=!a)}return a}function Mse(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Lse(r,t)}function tm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Hse=fL,Kse=BB,Vse=mL,$se=pL,Gse=SB,Wse=gL,zse=dv,Xse=vL,qse=wL,Yse=CL,Jse=jL,Zse=NL,eae=EL,tae=FL,rae=_L,uv="DropdownMenu",[nae,rpe]=Ws(uv,[dL]),zs=dL(),[sae,IL]=nae(uv),UL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,A=zs(t),c=v.useRef(null),[d,u]=Qi({prop:a,defaultProp:i??!1,onChange:o,caller:uv});return s.jsx(sae,{scope:t,triggerId:ti(),triggerRef:c,contentId:ti(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:l,children:s.jsx(Hse,{...A,open:d,onOpenChange:u,dir:n,modal:l,children:r})})};UL.displayName=uv;var QL="DropdownMenuTrigger",DL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=IL(QL,r),o=zs(r);return s.jsx(Kse,{asChild:!0,...o,children:s.jsx(kt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:gx(t,i.triggerRef),onPointerDown:nt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:nt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});DL.displayName=QL;var aae="DropdownMenuPortal",PL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=zs(t);return s.jsx(Vse,{...n,...r})};PL.displayName=aae;var OL="DropdownMenuContent",RL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=IL(OL,r),i=zs(r),o=v.useRef(!1);return s.jsx($se,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:nt(e.onCloseAutoFocus,l=>{var A;o.current||(A=a.triggerRef.current)==null||A.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:nt(e.onInteractOutside,l=>{const A=l.detail.originalEvent,c=A.button===0&&A.ctrlKey===!0,d=A.button===2||c;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RL.displayName=OL;var iae="DropdownMenuGroup",oae=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(Gse,{...a,...n,ref:t})});oae.displayName=iae;var lae="DropdownMenuLabel",LL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(Wse,{...a,...n,ref:t})});LL.displayName=lae;var Aae="DropdownMenuItem",ML=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(zse,{...a,...n,ref:t})});ML.displayName=Aae;var cae="DropdownMenuCheckboxItem",HL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(Xse,{...a,...n,ref:t})});HL.displayName=cae;var dae="DropdownMenuRadioGroup",uae=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(qse,{...a,...n,ref:t})});uae.displayName=dae;var fae="DropdownMenuRadioItem",KL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(Yse,{...a,...n,ref:t})});KL.displayName=fae;var hae="DropdownMenuItemIndicator",VL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(Jse,{...a,...n,ref:t})});VL.displayName=hae;var mae="DropdownMenuSeparator",$L=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(Zse,{...a,...n,ref:t})});$L.displayName=mae;var pae="DropdownMenuArrow",gae=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(eae,{...a,...n,ref:t})});gae.displayName=pae;var xae="DropdownMenuSubTrigger",GL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(tae,{...a,...n,ref:t})});GL.displayName=xae;var vae="DropdownMenuSubContent",WL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zs(r);return s.jsx(rae,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WL.displayName=vae;var yae=UL,wae=DL,bae=PL,zL=RL,XL=LL,qL=ML,YL=HL,JL=KL,ZL=VL,eM=$L,tM=GL,rM=WL;const ku=yae,Iu=wae,Cae=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(tM,{ref:a,className:De("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(SC,{className:"ml-auto"})]}));Cae.displayName=tM.displayName;const Bae=v.forwardRef(({className:e,...t},r)=>s.jsx(rM,{ref:r,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Bae.displayName=rM.displayName;const Tc=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(bae,{children:s.jsx(zL,{ref:n,sideOffset:t,className:De("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Tc.displayName=zL.displayName;const Os=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(qL,{ref:n,className:De("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Os.displayName=qL.displayName;const jae=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(YL,{ref:a,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ZL,{children:s.jsx(gu,{className:"h-4 w-4"})})}),t]}));jae.displayName=YL.displayName;const Nae=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(JL,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ZL,{children:s.jsx(W7,{className:"h-2 w-2 fill-current"})})}),t]}));Nae.displayName=JL.displayName;const Eae=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(XL,{ref:n,className:De("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Eae.displayName=XL.displayName;const Sae=v.forwardRef(({className:e,...t},r)=>s.jsx(eM,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));Sae.displayName=eM.displayName;function Fae({images:e,isOpen:t,currentIndex:r,onClose:n,onIndexChange:a}){const[i,o]=v.useState(new Set);v.useEffect(()=>{if(!t||e.length<=1)return;const f=h=>{const x=new Image;x.src=h},m=(r-1+e.length)%e.length,p=(r+1)%e.length;m!==r&&f(e[m]),p!==r&&f(e[p])},[t,r,e]),v.useEffect(()=>{if(!t)return;const f=m=>{switch(m.key){case"Escape":n();break;case"ArrowLeft":m.preventDefault(),l();break;case"ArrowRight":m.preventDefault(),A();break}};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[t,r,e.length]);const l=()=>{const f=(r-1+e.length)%e.length;a(f)},A=()=>{const f=(r+1)%e.length;a(f)},c=f=>{o(m=>new Set(m).add(f))},d=e[r],u=i.has(r);return s.jsx(qt,{open:t,onOpenChange:n,children:s.jsx(er,{className:"max-w-screen-lg w-full h-[90vh] p-0 overflow-hidden bg-black/95 border-none",children:s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx(oe,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 text-white hover:bg-white/20 rounded-full",onClick:n,children:s.jsx(al,{className:"h-6 w-6"})}),e.length>1&&s.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[r+1," of ",e.length]}),e.length>1&&s.jsx(oe,{variant:"ghost",size:"icon",className:"absolute left-4 z-10 text-white hover:bg-white/20 rounded-full w-12 h-12",onClick:l,children:s.jsx(sQ,{className:"h-8 w-8"})}),e.length>1&&s.jsx(oe,{variant:"ghost",size:"icon",className:"absolute right-4 z-10 text-white hover:bg-white/20 rounded-full w-12 h-12",onClick:A,children:s.jsx(SC,{className:"h-8 w-8"})}),s.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:u?s.jsxs("div",{className:"text-white text-center",children:[s.jsx("div",{className:"text-lg mb-2",children:"Failed to load image"}),s.jsx(oe,{variant:"outline",onClick:()=>window.open(d,"_blank"),className:"text-white border-white hover:bg-white/20",children:"Open in new tab"})]}):s.jsx("img",{src:d,alt:`Image ${r+1}`,className:"max-w-full max-h-full object-contain",onError:()=>c(r),onLoad:()=>{o(f=>{const m=new Set(f);return m.delete(r),m})}})}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute left-0 top-0 w-1/3 h-full z-5 cursor-pointer md:hidden",onClick:l}),s.jsx("div",{className:"absolute right-0 top-0 w-1/3 h-full z-5 cursor-pointer md:hidden",onClick:A})]})]})})})}function Tae({attachments:e}){const[t,r]=v.useState(!1),[n,a]=v.useState(0),i=h=>Array.isArray(h)?h.map(x=>typeof x=="string"?{fileId:x,filename:"Attachment",mimetype:"application/octet-stream"}:x):[],o=h=>{const x=[],y=[];return h.forEach(g=>{const w=g.mimetype||"application/octet-stream",b=w.startsWith("image/")&&["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(w),C=w==="application/octet-stream"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(g.fileId);b||C?x.push(g):y.push(g)}),{images:x,nonImages:y}},l=i(e),{images:A,nonImages:c}=o(l),d=h=>{const x=localStorage.getItem("authToken");return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(h.fileId)?`/api/files/${h.fileId}${x?`?token=${encodeURIComponent(x)}`:""}`:h.fileId},u=A.map(d),f=h=>{a(h),r(!0)},m=()=>{if(A.length===0)return null;if(A.length===1)return s.jsx("div",{className:"w-full",children:s.jsx("img",{src:u[0],alt:"Posted image",className:"w-full h-80 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(0),onError:x=>{const g=x.target.parentElement;g&&(g.innerHTML=`
                  <div class="flex items-center justify-between p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors">
                    <div class="flex items-center space-x-3">
                      <svg class="h-5 w-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                      </svg>
                      <div class="flex flex-col">
                        <span class="text-sm font-medium">Attachment</span>
                        <span class="text-xs text-muted-foreground">File</span>
                      </div>
                    </div>
                    <button class="flex items-center space-x-1 px-2 py-1 text-xs rounded hover:bg-background/80">
                      <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                      </svg>
                      <span>View</span>
                    </button>
                  </div>
                `)}})});if(A.length===2)return s.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map((x,y)=>s.jsx("img",{src:u[y],alt:`Posted image ${y+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(y)},y))});if(A.length===3)return s.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-2 h-96",children:[s.jsx("img",{src:u[0],alt:"Posted image 1",className:"col-span-1 row-span-2 w-full h-full object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(0)}),s.jsx("img",{src:u[1],alt:"Posted image 2",className:"w-full h-full object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(1)}),s.jsx("img",{src:u[2],alt:"Posted image 3",className:"w-full h-full object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(2)})]});if(A.length===4)return s.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map((x,y)=>s.jsx("img",{src:u[y],alt:`Posted image ${y+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(y)},y))});const h=A.length-3;return s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.slice(0,3).map((x,y)=>s.jsx("img",{src:u[y],alt:`Posted image ${y+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(y)},y)),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:u[3],alt:"Posted image 4",className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",loading:"lazy",decoding:"async",onClick:()=>f(3)}),h>0&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 rounded-lg flex items-center justify-center cursor-pointer hover:bg-opacity-70 transition-all",onClick:()=>f(3),children:s.jsxs("div",{className:"text-white text-2xl font-semibold flex items-center",children:[s.jsx(ws,{className:"h-6 w-6 mr-1"}),h]})})]})]})},p=()=>c.length===0?null:s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Attachments:"}),c.map((h,x)=>{const y=()=>{const C=localStorage.getItem("authToken");window.open(`/api/files/${h.fileId}${C?`?token=${encodeURIComponent(C)}`:""}`,"_blank")},g=(C,N)=>C==="application/pdf"?{label:N,type:"PDF Document"}:C==="text/plain"?{label:N,type:"Text File"}:C==="application/octet-stream"&&N==="Attachment"?{label:"Attachment",type:"Legacy File"}:{label:N,type:"Document"},{label:w,type:b}=g(h.mimetype,h.filename);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(oQ,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium",title:w,children:w}),s.jsx("span",{className:"text-xs text-muted-foreground",children:b})]})]}),s.jsxs(oe,{variant:"ghost",size:"sm",className:"flex items-center space-x-1",onClick:y,children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{className:"text-xs",children:"View"})]})]},x)})]});return s.jsxs("div",{className:"space-y-3",children:[m(),p(),A.length>0&&s.jsx(Fae,{images:u,isOpen:t,currentIndex:n,onClose:()=>r(!1),onIndexChange:a})]})}function _B({feedScope:e,classId:t,className:r="",showPostForm:n=!0}){const{user:a}=Ns(),{toast:i}=On(),o=Mu(),[l,A]=v.useState(""),[c,d]=v.useState(!1),[u,f]=v.useState(null),[m,p]=v.useState(""),[h,x]=v.useState([]),[y,g]=v.useState(!1),w=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="teacher",{data:b,isLoading:C,error:N,fetchNextPage:B,hasNextPage:F,isFetchingNextPage:E}=EU({queryKey:["/api/posts",{feedScope:e,classId:t}],queryFn:async({pageParam:S=0})=>{const _=typeof S=="number"?S:0,Z=new URLSearchParams({feedScope:e,offset:_.toString(),limit:"5"});return t&&Z.append("classId",t),(await Ne("GET",`/api/posts?${Z.toString()}`)).json()},getNextPageParam:(S,_)=>{if(S&&S.length===5)return _.reduce((K,re)=>K+re.length,0)},initialPageParam:0}),U=(b==null?void 0:b.pages.flat())||[],P=v.useRef(null),O=v.useRef(null),X=v.useCallback(()=>{F&&!E&&B()},[F,E,B]);v.useEffect(()=>(P.current&&P.current.disconnect(),P.current=new IntersectionObserver(S=>{S[0].isIntersecting&&X()},{threshold:.1,rootMargin:"100px"}),O.current&&P.current.observe(O.current),()=>{P.current&&P.current.disconnect()}),[X,U.length]);const ae=Ct({mutationFn:async S=>{const _=new FormData;_.append("attachment",S);const Z=localStorage.getItem("authToken"),K={};Z&&(K.Authorization=`Bearer ${Z}`);const re=await fetch("/api/posts/upload-attachment",{method:"POST",headers:K,body:_,credentials:"include"});if(!re.ok){const ye=await re.json().catch(()=>({message:re.statusText}));throw new Error(ye.message||"Failed to upload file")}return re.json()}}),he=Ct({mutationFn:async S=>(await Ne("POST","/api/posts",S)).json(),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/posts"]}),A(""),x([]),d(!1),i({title:"Success",description:"Post created successfully"})},onError:S=>{i({title:"Error",description:S.message||"Failed to create post",variant:"destructive"})}}),q=Ct({mutationFn:async({id:S,content:_})=>(await Ne("PUT",`/api/posts/${S}`,{content:_})).json(),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/posts"]}),f(null),p(""),i({title:"Success",description:"Post updated successfully"})},onError:S=>{i({title:"Error",description:S.message||"Failed to update post",variant:"destructive"})}}),ne=Ct({mutationFn:async S=>(await Ne("DELETE",`/api/posts/${S}`)).json(),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/posts"]}),i({title:"Success",description:"Post deleted successfully"})},onError:S=>{i({title:"Error",description:S.message||"Failed to delete post",variant:"destructive"})}}),H=async S=>{const _=S.target.files;if(!_)return;const Z=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],K=["application/pdf","text/plain"],re=[...Z,...K],ye=[],Te=[];if(Array.from(_).forEach(mt=>{re.includes(mt.type)?ye.push(mt):Te.push(mt.name)}),Te.length>0&&i({title:"Some Files Not Supported",description:`These files cannot be displayed in the grid: ${Te.join(", ")}. Only JPEG, PNG, GIF, WebP images and PDF/TXT documents are supported.`,variant:"destructive"}),ye.length===0){S.target.value="";return}g(!0);const Nt=ye.map(mt=>({file:mt,uploading:!0}));x(mt=>[...mt,...Nt]);for(let mt=0;mt<ye.length;mt++){const Vt=ye[mt];try{const $t=await ae.mutateAsync(Vt);x(He=>He.map(Tt=>Tt.file===Vt?{...Tt,fileId:$t.fileId,filename:$t.filename,mimetype:$t.mimetype,uploading:!1}:Tt))}catch{i({title:"Upload Failed",description:`Failed to upload ${Vt.name}`,variant:"destructive"}),x(He=>He.filter(Tt=>Tt.file!==Vt))}}g(!1),S.target.value=""},J=S=>{x(_=>_.filter(Z=>Z.file!==S))},de=async()=>{if(!l.trim()&&h.length===0)return;if(h.some(Z=>Z.uploading)){i({title:"Please Wait",description:"Please wait for all files to finish uploading",variant:"destructive"});return}d(!0);const _=h.filter(Z=>Z.fileId&&Z.filename&&Z.mimetype).map(Z=>({fileId:Z.fileId,filename:Z.filename,mimetype:Z.mimetype}));he.mutate({content:l.trim(),feedScope:e,classId:e==="class"?t:void 0,attachments:_})},se=S=>{f(S.id),p(S.content)},D=()=>{!m.trim()||!u||q.mutate({id:u,content:m.trim()})},j=S=>{confirm("Are you sure you want to delete this post?")&&ne.mutate(S)},k=S=>S.authorName?S.authorName.split(" ").map(Z=>Z[0]).join("").toUpperCase():S.postedById.slice(0,2).toUpperCase(),M=S=>S.postedById===(a==null?void 0:a.id)||(a==null?void 0:a.role)==="admin";return N?s.jsx(Qe,{className:`border-red-200 ${r}`,children:s.jsx(Pe,{className:"p-6",children:s.jsx("div",{className:"text-center text-red-600",children:"Failed to load posts. Please try again."})})}):s.jsxs(Qe,{className:`bg-gradient-to-br from-purple-50/70 via-white/80 to-purple-100/60 dark:from-slate-900/50 dark:via-slate-800/30 dark:to-slate-700/20 border-purple-200/50 dark:border-slate-600/30 ${r}`,children:[s.jsx(qe,{className:"pb-4 bg-gradient-to-r from-purple-100/60 via-purple-50/40 to-violet-100/50 dark:from-slate-800/60 dark:via-slate-700/40 dark:to-slate-600/30 rounded-t-xl border-b dark:border-slate-600/30",children:s.jsx(rt,{className:"flex items-center space-x-2",children:e==="school"?s.jsxs(s.Fragment,{children:[s.jsx(co,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),s.jsx("span",{className:"text-purple-800 dark:text-slate-100",children:"School Newsfeed"})]}):s.jsxs(s.Fragment,{children:[s.jsx(yr,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),s.jsx("span",{className:"text-purple-800 dark:text-slate-100",children:"Class Newsfeed"})]})})}),s.jsxs(Pe,{className:"space-y-4",children:[n&&w&&s.jsxs("div",{className:"space-y-3 pb-4 border-b border-purple-200/50 dark:border-slate-600/40 bg-gradient-to-r from-purple-50/50 via-white/60 to-violet-50/40 dark:from-slate-800/40 dark:via-slate-700/30 dark:to-slate-600/20 rounded-lg p-4",children:[s.jsx(Co,{placeholder:`Share something with the ${e==="school"?"school":"class"}...`,value:l,onChange:S=>A(S.target.value),className:"min-h-[80px] resize-none bg-white/80 dark:bg-slate-800/50 border-purple-200/60 dark:border-slate-600/50 focus:border-purple-400 dark:focus:border-purple-400 dark:text-slate-100"}),h.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Attachments:"}),s.jsx("div",{className:"space-y-2",children:h.map((S,_)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gradient-to-r from-purple-100/60 via-purple-50/40 to-violet-100/50 dark:from-slate-700/50 dark:via-slate-600/40 dark:to-slate-500/30 rounded-lg border border-purple-200/40 dark:border-slate-500/40",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[S.file.type.startsWith("image/")?s.jsx(Z7,{className:"h-4 w-4 text-blue-600"}):s.jsx(oQ,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm dark:text-slate-200",children:S.file.name}),S.uploading&&s.jsx("div",{className:"text-xs text-blue-600",children:"Uploading..."})]}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>J(S.file),className:"h-6 w-6 p-0",disabled:S.uploading,children:s.jsx(al,{className:"h-3 w-3"})})]},_))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"file",id:"file-upload",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:H,className:"hidden"}),s.jsxs(oe,{variant:"outline",size:"sm",className:"flex items-center space-x-2",onClick:()=>{var S;return(S=document.getElementById("file-upload"))==null?void 0:S.click()},disabled:y,children:[s.jsx(lV,{className:"h-4 w-4"}),s.jsx("span",{children:y?"Uploading...":"Attach File"})]}),s.jsxs(ht,{variant:"outline",className:"text-xs",children:[e==="school"?"School":"Class"," Feed"]})]}),s.jsxs(oe,{onClick:de,disabled:!l.trim()&&h.length===0||c||y,className:"flex items-center space-x-2",children:[s.jsx(cQ,{className:"h-4 w-4"}),s.jsx("span",{children:c?"Posting...":"Post"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[C?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((S,_)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})},_))}):U.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(FC,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["No posts yet. ",w?"Be the first to share something!":""]})]}):U.map((S,_)=>s.jsxs("div",{className:"space-y-3 p-4 border border-purple-200/60 dark:border-slate-600/40 rounded-lg bg-gradient-to-br from-purple-50/40 via-white/70 to-violet-50/30 dark:from-slate-800/40 dark:via-slate-700/30 dark:to-slate-600/20 shadow-sm hover:shadow-md transition-shadow duration-200",ref:U.length>2&&_===U.length-2?O:null,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Jh,{className:"h-10 w-10",children:s.jsx(Zh,{className:"text-sm font-medium",children:k(S)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"font-medium text-sm dark:text-slate-100",children:S.authorName||`User ${S.postedById.slice(0,8)}`}),S.authorRole&&s.jsx(ht,{variant:"secondary",className:"text-xs capitalize",children:S.authorRole.replace("_"," ")}),s.jsx(ht,{variant:"outline",className:`text-xs ${S.feedScope==="school"?"border-blue-200 text-blue-700":"border-green-200 text-green-700"}`,children:S.feedScope==="school"?"School":"Class"})]}),s.jsx("p",{className:"text-xs text-muted-foreground dark:text-slate-400",children:tL(new Date(S.createdAt),{addSuffix:!0})})]})]}),M(S)&&s.jsxs(ku,{children:[s.jsx(Iu,{asChild:!0,children:s.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(q7,{className:"h-4 w-4"})})}),s.jsxs(Tc,{align:"end",children:[s.jsxs(Os,{onClick:()=>se(S),children:[s.jsx(fA,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Os,{onClick:()=>j(S.id),className:"text-red-600",children:[s.jsx(yc,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"pl-13",children:[u===S.id?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Co,{value:m,onChange:Z=>p(Z.target.value),className:"min-h-[60px] resize-none bg-white/90 dark:bg-slate-800/50 border-purple-200/60 dark:border-slate-600/50 focus:border-purple-400 dark:focus:border-purple-400 dark:text-slate-100"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oe,{size:"sm",onClick:D,disabled:!m.trim(),children:"Save"}),s.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{f(null),p("")},children:"Cancel"})]})]}):s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap dark:text-slate-200",children:S.content}),S.attachments&&S.attachments.length>0&&s.jsx(Tae,{attachments:S.attachments})]})]},S.id)),E&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsxs("div",{className:"animate-pulse flex space-x-2",children:[s.jsx("div",{className:"h-2 w-2 bg-purple-400 rounded-full animate-bounce"}),s.jsx("div",{className:"h-2 w-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"h-2 w-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})]})}function _ae({className:e,timetableEntries:t,workingDays:r,timeSlots:n,userRole:a,onClose:i}){const[o,l]=v.useState(!1),A=new Map;t.forEach(h=>{const x=`${h.day}-${h.period}`;A.set(x,h)});const c=n.filter(h=>!h.isBreak),d=h=>h.charAt(0).toUpperCase()+h.slice(1,3),u=h=>`${h.startTime} - ${h.endTime}`,f=(h,x)=>{const y=`${h}-${x}`;return A.get(y)||null},m=async()=>{const h=document.getElementById("timetable-grid-expanded");if(h)try{const x=await Yh(h,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}),y=document.createElement("a");y.download=`${e}-timetable.png`,y.href=x.toDataURL("image/png"),y.click()}catch(x){console.error("Failed to download timetable:",x)}},p=({isCompact:h=!0})=>s.jsxs("div",{id:h?"timetable-grid-compact":"timetable-grid-expanded",className:`bg-white dark:bg-slate-900 rounded-lg ${h?"p-3":"p-6"} border border-slate-200 dark:border-slate-700`,children:[s.jsxs("div",{className:`flex items-center justify-between mb-4 ${h?"text-sm":""}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{className:`text-blue-600 ${h?"h-4 w-4":"h-5 w-5"}`}),s.jsxs("h3",{className:`font-semibold text-slate-900 dark:text-slate-100 ${h?"text-sm":"text-lg"}`,children:["Class ",e," Timetable"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[!h&&a==="admin"&&s.jsxs(oe,{size:"sm",variant:"outline",onClick:m,className:"flex items-center space-x-1",children:[s.jsx(xc,{className:"h-4 w-4"}),s.jsx("span",{children:"PNG"})]}),h&&s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>l(!0),className:"flex items-center space-x-1",children:[s.jsx(iQ,{className:"h-4 w-4"}),s.jsx("span",{children:"Expand"})]})]})]}),s.jsxs("div",{className:"grid gap-px bg-slate-200 dark:bg-slate-600 rounded-lg overflow-hidden",style:{gridTemplateColumns:`repeat(${1+r.length}, minmax(0, 1fr))`},children:[s.jsx("div",{className:`bg-slate-100 dark:bg-slate-800 ${h?"p-2":"p-3"} font-medium text-slate-900 dark:text-slate-100 text-center ${h?"text-xs":"text-sm"}`,children:"Time"}),r.map(x=>s.jsx("div",{className:`bg-slate-100 dark:bg-slate-800 ${h?"p-2":"p-3"} font-medium text-slate-900 dark:text-slate-100 text-center ${h?"text-xs":"text-sm"}`,children:d(x)},x)),c.map(x=>s.jsxs(Xt.Fragment,{children:[s.jsxs("div",{className:`bg-white dark:bg-slate-900 ${h?"p-1":"p-2"} border-r border-slate-200 dark:border-slate-700`,children:[s.jsxs("div",{className:`font-medium text-slate-900 dark:text-slate-100 ${h?"text-xs":"text-sm"}`,children:["P",x.period]}),s.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-xs",children:u(x)})]}),r.map(y=>{const g=f(y,x.period);return s.jsx("div",{className:`bg-white dark:bg-slate-900 ${h?"p-1":"p-2"} min-h-[${h?"3rem":"4rem"}] flex flex-col justify-center`,children:g?s.jsxs("div",{className:"space-y-1",children:[s.jsx(ht,{variant:"secondary",className:`w-fit font-medium ${h?"text-xs px-1 py-0":"text-xs"}`,children:g.subjectName||"Subject"}),s.jsx("div",{className:`text-slate-600 dark:text-slate-400 ${h?"text-xs":"text-sm"}`,children:g.teacherName||"Teacher"}),g.room&&s.jsx("div",{className:"text-slate-500 dark:text-slate-500 text-xs",children:g.room})]}):s.jsx("div",{className:`text-center text-slate-400 dark:text-slate-600 ${h?"text-xs":"text-sm"}`,children:"Free Period"})},`${y}-${x.period}`)})]},x.period))]}),s.jsxs("div",{className:`mt-3 text-center text-slate-500 dark:text-slate-400 ${h?"text-xs":"text-sm"}`,children:[s.jsx(Ei,{className:"inline h-3 w-3 mr-1"}),"Current Week Schedule"]})]});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"max-w-full overflow-x-auto",children:s.jsx(p,{isCompact:!0})}),s.jsx(qt,{open:o,onOpenChange:l,children:s.jsxs(er,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(sr,{children:s.jsxs(ar,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Class ",e," - Weekly Timetable"]}),a==="admin"&&s.jsxs(oe,{size:"sm",onClick:m,className:"flex items-center space-x-1",children:[s.jsx(xc,{className:"h-4 w-4"}),s.jsx("span",{children:"Download PNG"})]})]})}),s.jsx(p,{isCompact:!1})]})})]})}const nM="Asia/Kolkata";function Df(){const e=new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:nM,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}function Pf(e,t){const r=typeof e=="string"?new Date(e):e,n={timeZone:nM,year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat("en-IN",{...n,...t}).format(r)}const kae=Wn({grade:pt().min(1,"Class is required"),section:pt().optional().refine(e=>!e||!e.includes(","),"Section cannot contain commas. Use 'Add Sections to Class' for multiple sections."),studentCount:JD.number().min(0,"Student count must be 0 or greater"),room:pt().optional()}),Iae=V3.extend({name:pt().min(1,"Teacher name is required"),email:pt().email("Please enter a valid email address").optional().or(In("")),contactNumber:pt().min(1,"Contact number is required"),schoolIdNumber:pt().min(1,"School ID number is required"),classes:Al(pt()).min(1,"Please select at least one class"),subjects:Al(pt()).min(1,"Please select at least one subject")}).omit({availability:!0,maxLoad:!0}),Uae=Wn({firstName:pt().min(1,"First name is required").max(255,"First name too long"),lastName:pt().min(1,"Last name is required").max(255,"Last name too long"),admissionNumber:pt().min(1,"Admission number is required").max(50,"Admission number too long"),email:pt().email("Invalid email").optional().or(In("")),contactNumber:pt().min(10,"Contact number must be at least 10 digits").max(15,"Contact number too long").optional().or(In("")),dateOfBirth:pt().optional().or(In("")),gender:Gu(["male","female","other"]).optional(),address:pt().optional().or(In("")),classId:pt().min(1,"Class is required"),rollNumber:pt().max(20,"Roll number too long").optional().or(In("")),bloodGroup:pt().max(5,"Blood group too long").optional().or(In("")),emergencyContact:pt().max(15,"Emergency contact too long").optional().or(In(""))});function Qae(){var Tt,dr,Y,Ae,xe,Ke;const{user:e}=Ns(),[t,r]=Da(),{setTheme:n}=ZQ(),[a,i]=v.useState(""),[o,l]=v.useState(!1),[A,c]=v.useState(!1),[d,u]=v.useState(!1),{toast:f}=On(),[m,p]=v.useState(!1),[h,x]=v.useState(null),y=v.useRef(null),g=(e==null?void 0:e.role)==="super_admin",w=(e==null?void 0:e.role)==="admin",{data:b=[]}=Je({queryKey:["/api/classes"],queryFn:async()=>(await Ne("GET","/api/classes")).json()}),{data:C=[]}=Je({queryKey:["/api/subjects"],queryFn:async()=>(await Ne("GET","/api/subjects")).json()}),N=(e==null?void 0:e.role)==="student",B=(e==null?void 0:e.role)==="parent",{data:F,isLoading:E}=Je({queryKey:["/api/admin/dashboard-stats"],enabled:g}),U=Df(),{data:P,isLoading:O}=Je({queryKey:["/api/school-info"],enabled:w||N||B}),{data:X=[]}=Je({queryKey:["/api/teachers"],enabled:w}),{data:ae=[]}=Je({queryKey:["/api/classes"],enabled:w}),{data:he}=Je({queryKey:["/api/timetable-structure"],enabled:w}),{data:q=[]}=Je({queryKey:["/api/teacher-attendance",U],queryFn:async()=>(await Ne("GET",`/api/teacher-attendance?date=${U}`)).json(),enabled:w}),{data:ne=[]}=Je({queryKey:["/api/timetable-changes/active"],queryFn:async()=>(await Ne("GET","/api/timetable-changes/active")).json(),enabled:w,refetchInterval:3e4}),H=Yr(new Date,"EEEE").toLowerCase(),J=((Tt=he==null?void 0:he.workingDays)==null?void 0:Tt.includes(H))||!1,de=z=>{if(!J)return"not_applicable";const ce=q.find(Me=>Me.teacherId===z);return(ce==null?void 0:ce.status)||"present"},se=J?X.filter(z=>de(z.id)==="present"):[],D=J?X.filter(z=>de(z.id)==="absent"):[],j=J?X.filter(z=>{const ce=de(z.id);return ce!=="present"&&ce!=="absent"}):[],k=new Set(q.map(z=>z.teacherId));X.filter(z=>!k.has(z.id)),J&&[{name:"Present",value:se.length,color:"#22c55e"},{name:"Absent",value:D.length,color:"#ef4444"},{name:"On Leave",value:j.length,color:"#f97316"}].filter(z=>z.value>0);const M=v.useMemo(()=>{if(!a.trim()||!w)return[];const z=a.toLowerCase().trim(),ce=[];return X.forEach(Me=>{var Et;(Me.name.toLowerCase().includes(z)||(Et=Me.email)!=null&&Et.toLowerCase().includes(z))&&ce.push({id:Me.id,name:Me.name,type:"teacher",subtitle:Me.email||"Teacher"})}),ae.forEach(Me=>{const Et=`Class ${Me.grade}${Me.section}`;(Et.toLowerCase().includes(z)||Me.grade.toLowerCase().includes(z)||Me.section&&Me.section.toLowerCase().includes(z))&&ce.push({id:Me.id,name:Et,type:"class",subtitle:`${Me.studentCount} students`})}),ce.slice(0,8)},[a,X,ae,w]);v.useEffect(()=>{const z=ce=>{y.current&&!y.current.contains(ce.target)&&p(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const S=z=>{z.type==="teacher"?r(`/teacher/${z.id}`):z.type==="class"&&r(`/classes/${z.id}`),i(""),p(!1)},_=z=>{i(z),p(z.trim().length>0)},Z=es({resolver:rs(kae),defaultValues:{grade:"",section:"",studentCount:0,room:""}}),K=es({resolver:rs(Iae),defaultValues:{name:"",email:"",contactNumber:"",schoolIdNumber:"",schoolId:(e==null?void 0:e.schoolId)||"",isActive:!0,classes:[],subjects:[]}}),re=es({resolver:rs(Uae),defaultValues:{firstName:"",lastName:"",admissionNumber:"",email:"",contactNumber:"",dateOfBirth:"",gender:void 0,address:"",classId:"",rollNumber:"",bloodGroup:"",emergencyContact:""}}),ye=Ct({mutationFn:async z=>(await Ne("POST","/api/classes",z)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/classes"]}),Ee.invalidateQueries({queryKey:["/api/stats"]}),l(!1),Z.reset(),f({title:"Success",description:"Class created successfully"})},onError:z=>{f({title:"Error",description:z.message||"Failed to create class",variant:"destructive"})}}),Te=z=>{ye.mutate(z)},Nt=Ct({mutationFn:async z=>(await Ne("POST","/api/teachers",{...z,schoolId:e==null?void 0:e.schoolId,availability:{monday:[],tuesday:[],wednesday:[],thursday:[],friday:[]},maxLoad:30})).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/teachers"]}),Ee.invalidateQueries({queryKey:["/api/stats"]}),c(!1),K.reset(),f({title:"Success",description:"Teacher added successfully"})},onError:z=>{f({title:"Error",description:z.message||"Failed to add teacher",variant:"destructive"})}}),mt=z=>{Nt.mutate(z)},Vt=Ct({mutationFn:async z=>(await Ne("POST","/api/students",{...z,schoolId:e==null?void 0:e.schoolId,isActive:!0})).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/students"]}),Ee.invalidateQueries({queryKey:["/api/stats"]}),u(!1),re.reset(),f({title:"Success",description:"Student added successfully"})},onError:z=>{f({title:"Error",description:z.message||"Failed to add student",variant:"destructive"})}}),$t=z=>{Vt.mutate(z)},He=z=>{switch(z){case"add-teacher":c(!0);break;case"add-student":u(!0);break;case"create-class":l(!0);break;case"show-timetable":r("/timetable");break;case"teacher-schedule":r("/teacher-schedule");break;case"mark-attendance":r("/teachers?tab=attendance");break;case"assign-substitute":r("/timetable?action=substitute");break}};return q.filter(z=>z.status!=="present"&&z.leaveStartDate&&z.leaveEndDate&&z.leaveStartDate<=U&&U<=z.leaveEndDate).reduce((z,ce)=>{const Me=X.find(Et=>Et.id===ce.teacherId);return Me&&!z.find(Et=>Et.teacherId===ce.teacherId)&&z.push({teacherId:ce.teacherId,teacherName:Me.name,startDate:ce.leaveStartDate,endDate:ce.leaveEndDate,status:ce.status,reason:ce.reason}),z},[]),s.jsxs("div",{children:[s.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:s.jsx(co,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:g?"Super Admin Dashboard":w?"School Admin Dashboard":(P==null?void 0:P.name)||"Dashboard"}),s.jsxs("div",{className:"text-muted-foreground flex items-center space-x-2",children:[s.jsx("span",{children:g?"School Management Overview":w?(P==null?void 0:P.name)||"School Management":N?"Student Portal":B?"Parent Portal":"School Management"}),w&&(P==null?void 0:P.name)&&s.jsxs(ht,{variant:"outline",className:"text-xs",children:[X.length," Teachers"]})]})]})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[(g||w)&&s.jsxs("div",{className:"relative",ref:y,children:[s.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Fe,{placeholder:"Search teachers, classes...",value:a,onChange:z=>_(z.target.value),onFocus:()=>a.trim()&&p(!0),className:"pl-10 w-64"}),m&&M.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[M.map(z=>s.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>S(z),children:[s.jsx("div",{className:"mr-3 p-2 rounded-full bg-gray-100",children:z.type==="teacher"?s.jsx(wr,{className:"h-4 w-4 text-blue-600"}):s.jsx(Pn,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:z.name}),s.jsx("div",{className:"text-xs text-gray-500",children:z.subtitle})]}),s.jsx("div",{className:"ml-2",children:s.jsx(ht,{variant:"outline",className:`text-xs ${z.type==="teacher"?"border-blue-200 text-blue-700":"border-green-200 text-green-700"}`,children:z.type==="teacher"?"Teacher":"Class"})})]},`${z.type}-${z.id}`)),a.trim()&&M.length===0&&s.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:['No teachers or classes found for "',a,'"']})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 bg-muted/50 rounded-lg px-3 py-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-primary-foreground text-sm font-medium",children:[(dr=e==null?void 0:e.firstName)==null?void 0:dr[0],(Y=e==null?void 0:e.lastName)==null?void 0:Y[0]]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsxs("p",{className:"text-xs text-muted-foreground capitalize flex items-center space-x-1",children:[s.jsx(y1,{className:"h-3 w-3"}),s.jsx("span",{children:(Ae=e==null?void 0:e.role)==null?void 0:Ae.replace("_"," ")})]})]})]})]})]})}),s.jsx("div",{className:"p-6 overflow-y-auto h-full",children:g?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:E?Array.from({length:3}).map((z,ce)=>s.jsx(Kt,{className:"h-32"},ce)):s.jsxs(s.Fragment,{children:[s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Total Schools"}),s.jsx(co,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(F==null?void 0:F.totalSchools)??0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Schools registered"})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Active Schools"}),s.jsx(nQ,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(F==null?void 0:F.activeSchools)??0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently operational"})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Inactive Schools"}),s.jsx(yr,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(F==null?void 0:F.inactiveSchools)??0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(yr,{className:"h-5 w-5"}),s.jsx("span",{children:"School Admin Activity"})]})}),s.jsx(Pe,{children:E?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((z,ce)=>s.jsx(Kt,{className:"h-12"},ce))}):s.jsx("div",{className:"space-y-4","data-testid":"admin-activity-list",children:((xe=F==null?void 0:F.schoolAdminLogins)==null?void 0:xe.map((z,ce)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:z.schoolName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:z.adminName})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:z.lastLogin?tL(new Date(z.lastLogin),{addSuffix:!0}):"Never"})})]},ce)))||s.jsx("p",{className:"text-sm text-muted-foreground",children:"No school admins found"})})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(co,{className:"h-5 w-5"}),s.jsx("span",{children:"Active Teachers by School"})]})}),s.jsx(Pe,{children:E?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((z,ce)=>s.jsx(Kt,{className:"h-12"},ce))}):s.jsx("div",{className:"space-y-4","data-testid":"teacher-counts-list",children:((Ke=F==null?void 0:F.schoolTeacherCounts)==null?void 0:Ke.map((z,ce)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("p",{className:"text-sm font-medium",children:z.schoolName})}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[z.activeTeachers," teachers"]})})]},ce)))||s.jsx("p",{className:"text-sm text-muted-foreground",children:"No schools found"})})})]})]})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[ne.length>0&&s.jsxs(Qe,{className:"lg:col-span-2",children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(Ci,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{children:"Timetable Alerts"}),s.jsx(ht,{variant:"destructive",children:ne.length})]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-3",children:[ne.slice(0,3).map((z,ce)=>s.jsxs(bu,{className:"border-red-200 bg-red-50",children:[s.jsx(Ci,{className:"h-4 w-4 text-red-600"}),s.jsx(Cu,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"text-red-800",children:"Pending timetable change"})," requires attention.",s.jsx("span",{className:"text-red-700",children:" Please review and assign substitute teachers."})]}),s.jsx(oe,{size:"sm",variant:"outline",onClick:()=>He("assign-substitute"),className:"ml-4",children:"Assign Substitute"})]})})]},ce)),ne.length>3&&s.jsxs("div",{className:"text-sm text-muted-foreground text-center pt-2",children:["+",ne.length-3," more pending changes"]})]})})]}),s.jsx("div",{className:`${ne.length>0?"":"lg:col-span-3"}`,children:s.jsx(Qre,{onSystemAction:(z,ce)=>{switch(z){case"open_create_class_dialog":He("create-class");break;case"open_create_teacher_dialog":He("add-teacher");break;case"open_create_student_dialog":He("add-student");break;case"open-timetable-view":ce!=null&&ce.classNumber?r(`/timetable?class=${ce.classNumber}`):He("show-timetable");break;case"refresh-attendance-data":window.location.reload();break;case"highlight-attendance-stats":const Me=document.querySelector('[data-testid="attendance-overview"]');Me&&Me.scrollIntoView({behavior:"smooth"});break;case"change_theme":ce!=null&&ce.theme&&n(ce.theme);break;case"open_settings":r("/settings");break;case"display-timetable":ce!=null&&ce.classId&&(ce!=null&&ce.timetableEntries)&&he&&x({...ce,workingDays:he.workingDays||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],timeSlots:he.timeSlots||[],userRole:(e==null?void 0:e.role)||"admin"});break;default:console.log("Unknown system action:",z,ce)}}})}),h&&s.jsx("div",{className:`${ne.length>0,"lg:col-span-3"} mb-6`,children:s.jsx(_ae,{className:h.className,timetableEntries:h.timetableEntries,workingDays:h.workingDays,timeSlots:h.timeSlots,userRole:h.userRole,onClose:()=>x(null)})}),s.jsxs("div",{className:`${ne.length>0?"":"lg:col-span-3"} relative overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/30 via-purple-400/20 to-purple-600/25 dark:from-purple-800/40 dark:via-purple-700/25 dark:to-purple-900/30 rounded-xl pointer-events-none z-0"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-violet-400/15 via-purple-300/10 to-indigo-400/20 dark:from-violet-600/20 dark:via-purple-600/15 dark:to-indigo-600/25 rounded-xl pointer-events-none z-0"}),s.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundImage:`
                      linear-gradient(rgba(139, 92, 246, 0.08) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(139, 92, 246, 0.08) 1px, transparent 1px)
                    `,backgroundSize:"30px 30px"}}),s.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundImage:`
                      repeating-linear-gradient(
                        45deg,
                        transparent,
                        transparent 10px,
                        rgba(168, 85, 247, 0.04) 10px,
                        rgba(168, 85, 247, 0.04) 11px
                      )
                    `}}),s.jsx("div",{className:"relative backdrop-blur-sm bg-white/8 dark:bg-black/8 border border-purple-200/30 dark:border-purple-600/30 rounded-xl shadow-2xl z-10",children:s.jsx(_B,{feedScope:"school",showPostForm:(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="teacher"})})]})]})})})}),s.jsx(qt,{open:o,onOpenChange:l,children:s.jsxs(er,{children:[s.jsx(sr,{children:s.jsx(ar,{children:"Add New Class"})}),s.jsx(ts,{...Z,children:s.jsxs("form",{onSubmit:Z.handleSubmit(Te),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:Z.control,name:"grade",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Class"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., 9, 10, 11, 12",...z,"data-testid":"input-grade"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Z.control,name:"section",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Section (Optional)"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., A (single section only, or leave empty)",...z,"data-testid":"input-section"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:Z.control,name:"studentCount",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Student Count"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"number",placeholder:"0",...z,"data-testid":"input-student-count"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Z.control,name:"room",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Room (Optional)"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., Room 101",...z,"data-testid":"input-room"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:ye.isPending,"data-testid":"button-create-class",children:ye.isPending?"Creating...":"Create Class"})]})]})})]})}),s.jsx(qt,{open:A,onOpenChange:c,children:s.jsxs(er,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Add New Teacher"}),s.jsx(Or,{children:"Add a new teacher to your school"})]}),s.jsx(ts,{...K,children:s.jsxs("form",{onSubmit:K.handleSubmit(mt),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(Ue,{control:K.control,name:"name",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Teacher Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., John Smith",...z,"data-testid":"input-teacher-name"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:K.control,name:"email",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email Address"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",placeholder:"teacher@school.com",...z,"data-testid":"input-teacher-email"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:K.control,name:"contactNumber",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Contact Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., +1234567890",...z,"data-testid":"input-teacher-contact"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:K.control,name:"schoolIdNumber",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"School ID Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., T001",...z,"data-testid":"input-teacher-school-id"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:K.control,name:"classes",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Classes Taught *"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",onValueChange:ce=>{ce&&!z.value.includes(ce)&&(z.onChange([...z.value,ce]),K.setValue("subjects",[]))},"data-testid":"select-teacher-classes",children:[s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select classes"})}),s.jsx(zt,{children:b.map(ce=>s.jsxs($e,{value:ce.id,children:["Grade ",ce.grade," - Section ",ce.section]},ce.id))})]})}),z.value.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:z.value.map(ce=>{const Me=b.find(Et=>Et.id===ce);return Me?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:["Grade ",Me.grade," - Section ",Me.section,s.jsx("button",{type:"button",onClick:()=>z.onChange(z.value.filter(Et=>Et!==ce)),className:"ml-1 text-blue-600 hover:text-blue-800","data-testid":`remove-class-${ce}`,children:""})]},ce):null})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:K.control,name:"subjects",render:({field:z})=>{const ce=K.watch("classes");return s.jsxs(ke,{children:[s.jsx(_e,{children:"Subjects Taught *"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",onValueChange:Me=>{Me&&!z.value.includes(Me)&&z.onChange([...z.value,Me])},disabled:!ce||ce.length===0,"data-testid":"select-teacher-subjects",children:[s.jsx(Wt,{children:s.jsx(Jt,{placeholder:!ce||ce.length===0?"Select classes first":"Select subjects"})}),s.jsx(zt,{children:C.map(Me=>s.jsx($e,{value:Me.id,children:Me.name},Me.id))})]})}),z.value.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:z.value.map(Me=>{const Et=C.find(It=>It.id===Me);return Et?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:[Et.name,s.jsx("button",{type:"button",onClick:()=>z.onChange(z.value.filter(It=>It!==Me)),className:"ml-1 text-green-600 hover:text-green-800","data-testid":`remove-subject-${Me}`,children:""})]},Me):null})}),s.jsx(Oe,{})]})}})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-teacher",children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:Nt.isPending,"data-testid":"button-save-teacher",children:Nt.isPending?"Adding...":"Add Teacher"})]})]})})]})}),s.jsx(qt,{open:d,onOpenChange:u,children:s.jsxs(er,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Add New Student"}),s.jsx(Or,{children:"Fill in the student information below. All required fields are marked with an asterisk."})]}),s.jsx(ts,{...re,children:s.jsxs("form",{onSubmit:re.handleSubmit($t),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:re.control,name:"firstName",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"First Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter first name",...z,"data-testid":"input-first-name"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:re.control,name:"lastName",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Last Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter last name",...z,"data-testid":"input-last-name"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:re.control,name:"admissionNumber",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Admission Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter admission number",...z,"data-testid":"input-admission-number"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:re.control,name:"classId",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Class *"}),s.jsx(Ie,{children:s.jsxs(Yt,{onValueChange:z.onChange,value:z.value,children:[s.jsx(Wt,{"data-testid":"select-class",children:s.jsx(Jt,{placeholder:"Select class"})}),s.jsx(zt,{children:b.map(ce=>s.jsxs($e,{value:ce.id,children:["Grade ",ce.grade," - Section ",ce.section]},ce.id))})]})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:re.control,name:"email",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",placeholder:"student@email.com",...z,"data-testid":"input-email"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:re.control,name:"contactNumber",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Contact Number"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Phone number",...z,"data-testid":"input-contact"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:re.control,name:"dateOfBirth",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Date of Birth"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"date",...z,"data-testid":"input-dob"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:re.control,name:"gender",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Gender"}),s.jsx(Ie,{children:s.jsxs(Yt,{onValueChange:z.onChange,value:z.value,children:[s.jsx(Wt,{"data-testid":"select-gender",children:s.jsx(Jt,{placeholder:"Select gender"})}),s.jsxs(zt,{children:[s.jsx($e,{value:"male",children:"Male"}),s.jsx($e,{value:"female",children:"Female"}),s.jsx($e,{value:"other",children:"Other"})]})]})}),s.jsx(Oe,{})]})})]}),s.jsx(Ue,{control:re.control,name:"address",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Address"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter address",...z,"data-testid":"input-address"})}),s.jsx(Oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Ue,{control:re.control,name:"rollNumber",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Roll Number"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Roll number",...z,"data-testid":"input-roll-number"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:re.control,name:"bloodGroup",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Blood Group"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"A+, B+, etc.",...z,"data-testid":"input-blood-group"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:re.control,name:"emergencyContact",render:({field:z})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Emergency Contact"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Emergency phone",...z,"data-testid":"input-emergency-contact"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>u(!1),"data-testid":"button-cancel-student",children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:Vt.isPending,"data-testid":"button-save-student",children:Vt.isPending?"Adding...":"Add Student"})]})]})})]})})]})}const Dae="modulepreload",Pae=function(e){return"/"+e},VE={},Gy=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(A=>{if(A=Pae(A),A in VE)return;VE[A]=!0;const c=A.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Dae,c||(u.as="script"),u.crossOrigin="",u.href=A,l&&u.setAttribute("nonce",l),document.head.appendChild(u),c)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${A}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Oae({classId:e,selectedDate:t,onClassSelect:r}){const{user:n}=Ns(),{toast:a}=On(),i=Mu(),o=t||new Date().toISOString().split("T")[0],[l,A]=v.useState(new Set),[c,d]=v.useState(new Set),[u,f]=v.useState(new Set),[m,p]=v.useState(null),{data:h=[],isLoading:x,error:y}=Je({queryKey:["timetable-changes",n==null?void 0:n.schoolId,o],queryFn:async()=>{if(!(n!=null&&n.schoolId))return[];const S=new URLSearchParams({schoolId:n.schoolId,date:o});return(await Ne("GET",`/api/timetable-changes/active?${S}`)).json()},enabled:!!(n!=null&&n.schoolId)&&(n.role==="admin"||n.role==="super_admin"),refetchInterval:5e3}),{data:g=[]}=Je({queryKey:["/api/teachers"],enabled:!!(n!=null&&n.schoolId),staleTime:5*60*1e3}),{data:w=[]}=Je({queryKey:["/api/classes"],staleTime:5*60*1e3}),{data:b=[]}=Je({queryKey:["/api/subjects"],staleTime:5*60*1e3}),{data:C=[]}=Je({queryKey:["/api/timetable/detailed"],staleTime:2*60*1e3}),{data:N}=Je({queryKey:["/api/timetable-structure"],enabled:!!(n!=null&&n.schoolId),staleTime:10*60*1e3}),B=g.find(S=>S.id===m),F=S=>C.find(Z=>Z.id===S.timetableEntryId),E=S=>{if(!(N!=null&&N.timeSlots))return S;let _=0;for(const Z of N.timeSlots)Z.period<=S&&!Z.isBreak&&_++;return _},U=S=>{const _=F(S),K=new Date(S.changeDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"});if(_){const re=E(_.period);return`${K}, Period ${re} (${_.startTime} - ${_.endTime})`}return`${K}`},P=Ct({mutationFn:async S=>(await Ne("POST",`/api/timetable-changes/${S}/approve`)).json(),onSuccess:(S,_)=>{a({title:"Change Approved",description:"The substitution is now active and the notification has been cleared.",variant:"default"}),A(Z=>{const K=new Set(Z);return K.delete(_),K}),i.invalidateQueries({queryKey:["/api/timetable-changes/active"]})},onError:(S,_)=>{a({title:"Approval Failed",description:"Failed to approve the timetable change. Please try again.",variant:"destructive"}),A(Z=>{const K=new Set(Z);return K.delete(_),K}),f(Z=>{const K=new Set(Z);return K.delete(_),K})}}),O=Ct({mutationFn:async({changeId:S,reason:_})=>(await Ne("POST",`/api/timetable-changes/${S}/reject`,{reason:_})).json(),onSuccess:(S,{changeId:_})=>{a({title:"Change Rejected",description:"The substitution has been permanently removed.",variant:"default"}),A(Z=>{const K=new Set(Z);return K.delete(_),K}),i.invalidateQueries({queryKey:["/api/timetable-changes/active"]})},onError:(S,{changeId:_})=>{a({title:"Rejection Failed",description:"Failed to reject the timetable change. Please try again.",variant:"destructive"}),A(Z=>{const K=new Set(Z);return K.delete(_),K}),d(Z=>{const K=new Set(Z);return K.delete(_),K})}}),X=Ct({mutationFn:async S=>await Ne("DELETE",`/api/timetable-changes/${S}`),onSuccess:(S,_)=>{a({title:"Change Removed",description:"The timetable change has been permanently removed.",variant:"default"}),i.invalidateQueries({queryKey:["timetable-changes"]})},onError:(S,_)=>{a({title:"Removal Failed",description:"Failed to remove the timetable change. Please try again.",variant:"destructive"})}}),ae=S=>{X.mutate(S)},he=S=>{f(_=>new Set([...Array.from(_),S])),A(_=>new Set([...Array.from(_),S])),P.mutate(S)},q=S=>{d(_=>new Set([...Array.from(_),S])),A(_=>new Set([...Array.from(_),S])),O.mutate({changeId:S,reason:void 0})},ne=S=>{switch(S){case"substitution":return"fas fa-user-friends";case"cancellation":return"fas fa-times-circle";case"room_change":return"fas fa-door-open";case"time_change":return"fas fa-clock";default:return"fas fa-edit"}},H=S=>{switch(S){case"substitution":return"bg-blue-100 text-blue-800 border-blue-200";case"cancellation":return"bg-red-100 text-red-800 border-red-200";case"room_change":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"time_change":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},J=S=>{switch(S){case"auto_absence":return"bg-orange-100 text-orange-800";case"auto_substitution":return"bg-green-100 text-green-800";case"manual":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},de=(S,_="")=>{const Z=g.find(K=>K.name===S.trim());return Z?s.jsx("button",{onClick:()=>p(Z.id),className:`text-blue-600 hover:text-blue-800 underline font-medium ${_}`,type:"button",children:S}):s.jsx("span",{className:_,children:S})},se=S=>{if(!S)return"Unknown Class";const _=S.grade||"",Z=S.section||"";return Z?`Class ${_}-${Z}`:`Class ${_}`},D=S=>{const _=S;if(_.affectedClassId)return{id:_.affectedClassId,grade:_.affectedClassGrade,section:_.affectedClassSection,studentCount:_.affectedClassStudentCount,room:_.affectedClassRoom};const Z=_.affectedClass;if(Z)return Z;const K=_.timetableEntryId||_.timetable_entry_id;if(!K)return null;const re=C.find(ye=>ye.id===K);if(re){const ye=re.classId||re.class_id;if(ye)return w.find(Nt=>Nt.id===ye)}return null},j=S=>{const _=/(?:substitute:|absence:|teacher:)\s*([A-Za-z\s]+)(?:[.,]|$)/gi;let Z=0;const K=[];let re,ye=0;for(;(re=_.exec(S))!==null;){re.index>Z&&K.push(s.jsx("span",{children:S.slice(Z,re.index)},`text-${ye++}`));const Te=re[0],Nt=re[1].trim(),mt=Te.replace(re[1],"").replace(/[.,]$/,"");K.push(s.jsxs("span",{children:[mt,de(Nt),Te.endsWith(",")?",":Te.endsWith(".")?".":""]},`teacher-${ye++}`)),Z=re.index+re[0].length}return Z<S.length&&K.push(s.jsx("span",{children:S.slice(Z)},`text-${ye++}`)),s.jsx(s.Fragment,{children:K})},k=S=>{const _=g.find(re=>re.id===S.originalTeacherId),Z=g.find(re=>re.id===S.newTeacherId),K=D(S);switch(S.changeType){case"substitution":return s.jsxs("span",{children:[_?s.jsxs(s.Fragment,{children:[de(_.name)," is absent."," "]}):"Unknown teacher is absent. ",Z&&K?s.jsxs(s.Fragment,{children:[de(Z.name)," has been auto-assigned as substitute for ",se(K),"."]}):Z?s.jsxs(s.Fragment,{children:[de(Z.name)," has been auto-assigned as substitute."]}):null,s.jsx("br",{}),s.jsxs("span",{className:"text-xs text-black",children:["Date & Period: ",U(S)]})]});case"cancellation":return s.jsxs("span",{children:["Class cancelled - ",j(S.reason)]});case"room_change":return s.jsxs("span",{children:["Room changed from ",S.originalRoom," to ",S.newRoom," - ",j(S.reason)]});case"time_change":return s.jsxs("span",{children:["Time slot modified - ",j(S.reason)]});default:return s.jsx("span",{children:j(S.reason)})}};if(!n||n.role!=="admin"&&n.role!=="super_admin")return null;if(x)return s.jsx(Qe,{className:"mt-6",children:s.jsx(qe,{children:s.jsxs(rt,{className:"text-lg flex items-center",children:[s.jsx("i",{className:"fas fa-sync fa-spin mr-2"}),"Loading Timetable Changes..."]})})});if(y)return s.jsxs(Qe,{className:"mt-6",children:[s.jsx(qe,{children:s.jsxs(rt,{className:"text-lg text-red-600 flex items-center",children:[s.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"Error Loading Changes"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load timetable changes. Please refresh the page."})})]});const M=(e?h.filter(S=>{const _=D(S);return _&&_.id===e}):h).filter(S=>!c.has(S.id)&&!u.has(S.id)).sort((S,_)=>{const Z=F(S),K=F(_);if(!Z&&!K)return 0;if(!Z)return 1;if(!K)return-1;const re=E(Z.period),ye=E(K.period);return re-ye});return M.length===0?null:s.jsxs(s.Fragment,{children:[s.jsxs(Qe,{className:"mt-6",children:[s.jsx(qe,{children:s.jsxs(rt,{className:"text-lg flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-clipboard-list mr-2"}),"Timetable Changes (",M.length,")",e&&s.jsx(ht,{variant:"outline",className:"ml-2 text-xs",children:"Filtered by Class"})]}),s.jsx(ht,{variant:"secondary",className:"text-xs",children:new Date(o).toLocaleDateString()})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-4",children:M.map(S=>s.jsxs("div",{className:`relative p-4 rounded-lg border ${H(S.changeType)}`,children:[S.approvedBy&&s.jsx(oe,{size:"sm",variant:"ghost",className:"absolute top-2 right-2 h-6 w-6 p-0 text-gray-400 hover:text-gray-600",onClick:()=>ae(S.id),title:"Dismiss this notification (substitution remains active)",children:s.jsx(al,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("i",{className:`${ne(S.changeType)} mr-2`}),s.jsx("span",{className:"font-medium text-sm capitalize",children:S.changeType.replace("_"," ")}),s.jsx(ht,{className:`ml-2 text-xs ${J(S.changeSource)}`,children:S.changeSource==="auto_absence"?s.jsxs("div",{className:"flex items-center gap-1",children:["Auto-detected",s.jsx(MC,{children:s.jsxs(qQ,{children:[s.jsx(YQ,{asChild:!0,children:s.jsx(eV,{className:"h-3 w-3 cursor-help"})}),s.jsx(HC,{children:s.jsx("p",{children:'Changes marked as "Auto-detected" are created when teacher absences are detected.'})})]})})]}):S.changeSource==="auto_substitution"?"Auto-assigned":"Manual"})]}),s.jsx("div",{className:"text-sm mb-2 bg-yellow-50 border-l-4 border-yellow-300 pl-3 py-2 rounded-r-md",children:k(S)}),!e&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Affected Class:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-1",children:(()=>{const _=D(S);if(_){const K=_.section&&_.section.trim()!==""&&_.section!=="-"?`Class ${_.grade}-${_.section}`:`Class ${_.grade}`;return s.jsx("button",{onClick:()=>r==null?void 0:r(_.id),className:"bg-red-100 text-red-800 hover:bg-red-200 px-2 py-1 rounded text-xs transition-colors font-medium",children:K})}else return s.jsx("span",{className:"text-xs text-muted-foreground",children:"No class found"})})()}),D(S)&&s.jsx("div",{className:"text-xs text-muted-foreground italic",children:" Click on the class to view its timetable"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Created: ",new Date(S.createdAt).toLocaleString()]}),S.approvedBy&&S.approvedAt&&s.jsxs("span",{className:"ml-4",children:["Approved: ",new Date(S.approvedAt).toLocaleString()]})]})]}),e&&s.jsxs("div",{className:"flex flex-col space-y-1 ml-4",children:[!S.approvedBy&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(oe,{size:"sm",variant:"outline",className:"text-xs h-7 px-2 text-green-600 border-green-300 hover:bg-green-50",disabled:l.has(S.id),onClick:()=>he(S.id),children:l.has(S.id)?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-spinner fa-spin mr-1"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]})}),s.jsx(oe,{size:"sm",variant:"outline",className:"text-xs h-7 px-2 text-red-600 border-red-300 hover:bg-red-50",disabled:l.has(S.id),onClick:()=>q(S.id),children:l.has(S.id)?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-spinner fa-spin mr-1"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})})]}),S.approvedBy&&s.jsxs(ht,{className:"text-xs bg-green-100 text-green-800",children:[s.jsx("i",{className:"fas fa-check mr-1"}),"Approved"]})]})]})]},S.id))})})]}),s.jsx(qt,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs(er,{className:"max-w-2xl",children:[s.jsxs(sr,{children:[s.jsxs(ar,{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5"}),"Teacher Details"]}),s.jsxs(Or,{children:["Comprehensive information about ",B==null?void 0:B.name]})]}),B&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 mb-3",children:[s.jsx(xu,{className:"h-4 w-4"}),"Basic Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Name:"}),s.jsx("span",{children:B.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Email:"}),s.jsx("span",{children:B.email||"Not provided"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Contact:"}),s.jsx("span",{children:B.contactNumber||"Not provided"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xu,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"School ID:"}),s.jsx("span",{children:B.schoolIdNumber||"Not provided"})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 mb-3",children:[s.jsx(Pn,{className:"h-4 w-4"}),"Subjects Taught"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(B.subjects||[]).map(S=>{const _=b.find(Z=>Z.id===S);return _?s.jsx(ht,{className:"bg-blue-100 text-blue-800",children:_.name},S):null}),(!B.subjects||B.subjects.length===0)&&s.jsx("span",{className:"text-muted-foreground text-sm",children:"No subjects assigned"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 mb-3",children:[s.jsx(yr,{className:"h-4 w-4"}),"Classes Taught"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(B.classes||[]).map(S=>{const _=w.find(re=>re.id===S);if(!_)return null;const K=_.section&&_.section.trim()!==""&&_.section!=="-"?`Class ${_.grade}-${_.section}`:`Class ${_.grade}`;return s.jsx(ht,{className:"bg-green-100 text-green-800",children:K},S)}),(!B.classes||B.classes.length===0)&&s.jsx("span",{className:"text-muted-foreground text-sm",children:"No classes assigned"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Teaching Load Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Max Weekly Load:"}),s.jsxs("span",{className:"ml-2",children:[B.maxLoad||30," periods"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Max Daily Periods:"}),s.jsxs("span",{className:"ml-2",children:[B.maxDailyPeriods||6," periods"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx(ht,{className:B.isActive?"bg-green-100 text-green-800 ml-2":"bg-red-100 text-red-800 ml-2",children:B.isActive?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Classes Assigned:"}),s.jsx("span",{className:"ml-2",children:(B.classes||[]).length})]})]})]})]})]})})]})}function Rae({classId:e,selectedDate:t}){const{user:r}=Ns(),{toast:n}=On(),[a,i]=v.useState(new Set),o=t||new Date().toISOString().split("T")[0];if(!r||r.role!=="admin"&&r.role!=="super_admin")return null;const{data:l=[],isLoading:A,error:c}=Je({queryKey:["pending-substitutions",r==null?void 0:r.schoolId,o],queryFn:async()=>{if(!(r!=null&&r.schoolId))return[];const f=new URLSearchParams({schoolId:r.schoolId,date:o});return(await Ne("GET",`/api/substitutions/pending?${f}`)).json()},enabled:!!(r!=null&&r.schoolId),refetchInterval:1e4}),d=Ct({mutationFn:async f=>(await Ne("POST",`/api/substitutions/${f}/approve`)).json(),onMutate:f=>{i(m=>new Set([...Array.from(m),f]))},onSuccess:(f,m)=>{n({title:"Substitution Approved",description:"The substitute teacher has been assigned to the timetable.",variant:"default"}),i(p=>{const h=new Set(p);return h.delete(m),h}),Ee.invalidateQueries({queryKey:["pending-substitutions"]}),Ee.invalidateQueries({queryKey:["rejected-substitutions"]}),Ee.invalidateQueries({queryKey:["substitutions"]}),Ee.invalidateQueries({queryKey:["/api/timetable/weekly"]}),Ee.invalidateQueries({queryKey:["/api/timetable/detailed"]})},onError:(f,m)=>{n({title:"Approval Failed",description:"Failed to approve the substitution. Please try again.",variant:"destructive"}),i(p=>{const h=new Set(p);return h.delete(m),h})}}),u=Ct({mutationFn:async f=>(await Ne("POST",`/api/substitutions/${f}/reject`)).json(),onMutate:f=>{i(m=>new Set([...Array.from(m),f]))},onSuccess:(f,m)=>{n({title:"Substitution Rejected",description:"The substitution request has been rejected.",variant:"default"}),i(p=>{const h=new Set(p);return h.delete(m),h}),Ee.invalidateQueries({queryKey:["pending-substitutions"]}),Ee.invalidateQueries({queryKey:["rejected-substitutions"]}),Ee.invalidateQueries({queryKey:["substitutions"]})},onError:(f,m)=>{n({title:"Rejection Failed",description:"Failed to reject the substitution. Please try again.",variant:"destructive"}),i(p=>{const h=new Set(p);return h.delete(m),h})}});return A?s.jsx(Qe,{className:"mb-4",children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ei,{className:"h-4 w-4 animate-spin"}),"Loading substitution notifications..."]})})}):c?s.jsxs(bu,{className:"mb-4",variant:"destructive",children:[s.jsx(Ci,{className:"h-4 w-4"}),s.jsx(Cu,{children:"Failed to load substitution notifications. Please refresh the page."})]}):l.length===0?null:s.jsxs("div",{className:"mb-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5 text-orange-500"}),s.jsx("h3",{className:"font-medium text-lg",children:"Pending Substitution Approvals"}),s.jsxs(ht,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:[l.length," pending"]})]}),l.map(f=>s.jsx(bu,{className:"border-orange-200 bg-orange-50/50",children:s.jsxs("div",{className:"flex items-start justify-between w-full",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(yr,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-900",children:"Teacher Substitution Required"}),s.jsx(ht,{className:"bg-orange-100 text-orange-800 border-orange-300",children:f.day.charAt(0).toUpperCase()+f.day.slice(1)}),s.jsxs(ht,{variant:"outline",className:"bg-blue-50 text-blue-700",children:["Period ",f.period]})]}),s.jsxs(Cu,{className:"text-sm text-gray-700 mb-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-3 w-3 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Class:"})," ",f.className]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-3 w-3 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Subject:"})," ",f.subjectName]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-3 w-3 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Time:"})," ",f.startTime," - ",f.endTime]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:"font-medium",children:"Absent Teacher:"})," ",f.originalTeacherName]}),f.substituteTeacherName?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"font-medium",children:"Suggested Substitute:"})," ",f.substituteTeacherName]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-3 w-3 text-orange-500"}),s.jsx("span",{className:"font-medium text-orange-700",children:"No substitute suggested"})]})]})]}),f.reason&&s.jsxs("div",{className:"mt-2 p-2 bg-white/50 rounded text-xs",children:[s.jsx("strong",{children:"Reason:"})," ",f.reason]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[f.substituteTeacherName&&s.jsxs(oe,{size:"sm",onClick:()=>d.mutate(f.id),disabled:a.has(f.id),className:"bg-green-600 hover:bg-green-700 text-white",children:[a.has(f.id)?s.jsx(Ei,{className:"h-3 w-3 mr-1 animate-spin"}):s.jsx(tg,{className:"h-3 w-3 mr-1"}),"Approve"]}),s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>u.mutate(f.id),disabled:a.has(f.id),className:"border-red-300 text-red-600 hover:bg-red-50",children:[a.has(f.id)?s.jsx(Ei,{className:"h-3 w-3 mr-1 animate-spin"}):s.jsx(aQ,{className:"h-3 w-3 mr-1"}),"Reject"]})]})]})},f.id))]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Qg={};Qg.version="0.18.5";var sM=1252,Lae=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],aM=function(e){Lae.indexOf(e)!=-1&&(sM=e)};function Mae(){aM(1252)}var rm=function(e){aM(e)};function Hae(){rm(1200),Mae()}var $0=function(t){return String.fromCharCode(t)},$E=function(t){return String.fromCharCode(t)},Dg,Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function nm(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,A=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),o=(r&3)<<4|n>>4,a=e.charCodeAt(c++),l=(n&15)<<2|a>>6,A=a&63,isNaN(n)?l=A=64:isNaN(a)&&(A=64),t+=Xl.charAt(i)+Xl.charAt(o)+Xl.charAt(l)+Xl.charAt(A);return t}function dl(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,A=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Xl.indexOf(e.charAt(c++)),o=Xl.indexOf(e.charAt(c++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Xl.indexOf(e.charAt(c++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),A=Xl.indexOf(e.charAt(c++)),a=(l&3)<<6|A,A!==64&&(t+=String.fromCharCode(a));return t}var br=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),hl=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function _c(e){return br?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function GE(e){return br?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ni=function(t){return br?hl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function fv(e){if(typeof ArrayBuffer>"u")return Ni(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Pm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Kae(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var as=br?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:hl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Vae(e){for(var t=[],r=0,n=e.length+250,a=_c(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=_c(65535),n=65530)}return t.push(a.slice(0,r)),as(t)}var sh=/\u0000/g,G0=/[\u0001-\u0006]/g;function Gd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Fi(e,t){var r=""+e;return r.length>=t?r:ln("0",t-r.length)+r}function kB(e,t){var r=""+e;return r.length>=t?r:ln(" ",t-r.length)+r}function Pg(e,t){var r=""+e;return r.length>=t?r:r+ln(" ",t-r.length)}function $ae(e,t){var r=""+Math.round(e);return r.length>=t?r:ln("0",t-r.length)+r}function Gae(e,t){var r=""+e;return r.length>=t?r:ln("0",t-r.length)+r}var WE=Math.pow(2,32);function ld(e,t){if(e>WE||e<-WE)return $ae(e,t);var r=Math.round(e);return Gae(r,t)}function Og(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var zE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Wy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Wae(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var dn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},XE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},zae={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Rg(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,A=1,c=0,d=0,u=Math.floor(a);c<t&&(u=Math.floor(a),l=u*o+i,d=u*c+A,!(a-u<5e-8));)a=1/(a-u),i=o,o=l,A=c,c=d;if(d>t&&(c>t?(d=A,l=i):(d=c,l=o)),!r)return[0,n*l,d];var f=Math.floor(n*l/d);return[f,n*l-f*d,d]}function W0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var A=new Date(1900,0,1);A.setDate(A.getDate()+n-1),o=[A.getFullYear(),A.getMonth()+1,A.getDate()],i=A.getDay(),n<60&&(i=(i+6)%7),r&&(i=tie(A,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var iM=new Date(1899,11,31,0,0,0),Xae=iM.getTime(),qae=new Date(1900,2,1,0,0,0);function oM(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=qae&&(r+=24*60*60*1e3),(r-(Xae+(e.getTimezoneOffset()-iM.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function IB(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Yae(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Jae(e){var t=e<0?12:11,r=IB(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Zae(e){var t=IB(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function eie(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Jae(e):t===10?r=e.toFixed(10).substr(0,12):r=Zae(e),IB(Yae(r.toUpperCase()))}function hb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):eie(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return wA(14,oM(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function tie(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function rie(e,t,r,n){var a="",i=0,o=0,l=r.y,A,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:A=l%100,c=2;break;default:A=l%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:A=r.m,c=t.length;break;case 3:return Wy[r.m-1][1];case 5:return Wy[r.m-1][0];default:return Wy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:A=r.d,c=t.length;break;case 3:return zE[r.q][0];default:return zE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:A=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:A=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:A=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Fi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Fi(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":A=r.D*24+r.H;break;case"[m]":case"[mm]":A=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":A=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:A=l,c=1;break}var d=c>0?Fi(A,c):"";return d}function ql(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var lM=/%/g;function nie(e,t,r){var n=t.replace(lM,""),a=t.length-n.length;return Xo(e,n,r*Math.pow(10,2*a))+ln("%",a)}function sie(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function AM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+AM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,A,c,d){return A+c+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cM=/# (\?+)( ?)\/( ?)(\d+)/;function aie(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?ln(" ",e[1].length+1+e[4].length):kB(o,e[1].length)+e[2]+"/"+e[3]+Fi(l,e[4].length))}function iie(e,t,r){return r+(t===0?"":""+t)+ln(" ",e[1].length+2+e[4].length)}var dM=/^#*0*\.([0#]+)/,uM=/\).*[0#]/,fM=/\(###\) ###\\?-####/;function Ds(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function qE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function YE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function oie(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function lie(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function La(e,t,r){if(e.charCodeAt(0)===40&&!t.match(uM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?La("n",n,r):"("+La("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return sie(e,t,r);if(t.indexOf("%")!==-1)return nie(e,t,r);if(t.indexOf("E")!==-1)return AM(t,r);if(t.charCodeAt(0)===36)return"$"+La(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,A=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ld(A,t.length);if(t.match(/^[#?]+$/))return a=ld(r,0),a==="0"&&(a=""),a.length>t.length?a:Ds(t.substr(0,t.length-a.length))+a;if(i=t.match(cM))return aie(i,A,c);if(t.match(/^#+0+$/))return c+ld(A,t.length-t.indexOf("0"));if(i=t.match(dM))return a=qE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ds(i[1])).replace(/\.$/,"."+Ds(i[1])).replace(/\.(\d*)$/,function(p,h){return"."+h+ln("0",Ds(i[1]).length-h.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+qE(A,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+ql(ld(A,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+La(e,t,-r):ql(""+(Math.floor(r)+oie(r,i[1].length)))+"."+Fi(YE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return La(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Gd(La(e,t.replace(/[\\-]/g,""),r)),o=0,Gd(Gd(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(fM))return a=La(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Rg(A,Math.pow(10,o)-1,!1),a=""+c,d=Xo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Pg(l[2],o),d.length<i[4].length&&(d=Ds(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Rg(A,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?kB(l[1],o)+i[2]+"/"+i[3]+Pg(l[2],o):ln(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=ld(r,0),t.length<=a.length?a:Ds(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var u=t.indexOf(".")-o,f=t.length-a.length-u;return Ds(t.substr(0,u)+a+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=YE(r,i[1].length),r<0?"-"+La(e,t,-r):ql(lie(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Fi(0,3-p.length):"")+p})+"."+Fi(o,i[1].length);switch(t){case"###,##0.00":return La(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=ql(ld(A,0));return m!=="0"?c+m:"";case"###,###.00":return La(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return La(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Aie(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function cie(e,t,r){var n=t.replace(lM,""),a=t.length-n.length;return Xo(e,n,r*Math.pow(10,2*a))+ln("%",a)}function hM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,A,c,d){return A+c+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Xi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(uM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xi("n",n,r):"("+Xi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Aie(e,t,r);if(t.indexOf("%")!==-1)return cie(e,t,r);if(t.indexOf("E")!==-1)return hM(t,r);if(t.charCodeAt(0)===36)return"$"+Xi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,A=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Fi(A,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ds(t.substr(0,t.length-a.length))+a;if(i=t.match(cM))return iie(i,A,c);if(t.match(/^#+0+$/))return c+Fi(A,t.length-t.indexOf("0"));if(i=t.match(dM))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ds(i[1])).replace(/\.$/,"."+Ds(i[1])),a=a.replace(/\.(\d*)$/,function(p,h){return"."+h+ln("0",Ds(i[1]).length-h.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+A).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+ql(""+A);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xi(e,t,-r):ql(""+r)+"."+ln("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Xi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Gd(Xi(e,t.replace(/[\\-]/g,""),r)),o=0,Gd(Gd(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(fM))return a=Xi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Rg(A,Math.pow(10,o)-1,!1),a=""+c,d=Xo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Pg(l[2],o),d.length<i[4].length&&(d=Ds(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Rg(A,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?kB(l[1],o)+i[2]+"/"+i[3]+Pg(l[2],o):ln(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ds(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var u=t.indexOf(".")-o,f=t.length-a.length-u;return Ds(t.substr(0,u)+a+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Xi(e,t,-r):ql(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Fi(0,3-p.length):"")+p})+"."+Fi(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=ql(""+A);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Xi(e,t.slice(0,t.lastIndexOf(".")),r)+Ds(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Xo(e,t,r){return(r|0)===r?Xi(e,t,r):La(e,t,r)}function die(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var mM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pM(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Og(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(mM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function uie(e,t,r,n){for(var a=[],i="",o=0,l="",A="t",c,d,u,f="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Og(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(u=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(u);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=W0(t,r,e.charAt(o+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},A=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=W0(t,r),c==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&A.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=f),a[a.length]={t:l,v:i},A=l;break;case"A":case"a":case"":var h={t:l,v:l};if(c==null&&(c=W0(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(h.v=c.H>=12?"P":"A"),h.t="T",f="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(h.v=c.H>=12?"PM":"AM"),h.t="T",o+=5,f="h"):e.substr(o,5).toUpperCase()==="/"?(c!=null&&(h.v=c.H>=12?"":""),h.t="T",o+=5,f="h"):(h.t="t",++o),c==null&&h.t==="T")return"";a[a.length]=h,A=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(mM)){if(c==null&&(c=W0(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},A=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",pM(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},A=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,y=0,g;for(o=a.length-1,A="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=f,A="h",x<1&&(x=1);break;case"s":(g=a[o].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":A=a[o].t;break;case"m":A==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=rie(a[o].t.charCodeAt(0),a[o].v,c,y),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=hb(t,r);break}var C="",N,B;if(w.length>0){w.charCodeAt(0)==40?(N=t<0&&w.charCodeAt(0)===45?-t:t,B=Xo("n",w,N)):(N=t<0&&n>1?-t:t,B=Xo("n",w,N),N<0&&a[0]&&a[0].t=="t"&&(B=B.substr(1),a[0].v="-"+a[0].v)),b=B.length-1;var F=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){F=o;break}var E=a.length;if(F===a.length&&B.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=B.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=B.substr(0,b+1),b=-1),a[o].t="t",E=o);b>=0&&E<a.length&&(a[E].v=B.substr(0,b+1)+a[E].v)}else if(F!==a.length&&B.indexOf("E")===-1){for(b=B.indexOf(".")-1,o=F;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===F?a[o].v.indexOf(".")-1:a[o].v.length-1,C=a[o].v.substr(d+1);d>=0;--d)b>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(C=B.charAt(b--)+C);a[o].v=C,a[o].t="t",E=o}for(b>=0&&E<a.length&&(a[E].v=B.substr(0,b+1)+a[E].v),b=B.indexOf(".")+1,o=F;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==F)){for(d=a[o].v.indexOf(".")>-1&&o===F?a[o].v.indexOf(".")+1:0,C=a[o].v.substr(0,d);d<a[o].v.length;++d)b<B.length&&(C+=B.charAt(b++));a[o].v=C,a[o].t="t",E=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Xo(a[o].t,a[o].v,N),a[o].t="t");var U="";for(o=0;o!==a.length;++o)a[o]!=null&&(U+=a[o].v);return U}var JE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ZE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function fie(e,t){var r=die(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(JE),l=r[1].match(JE);return ZE(t,o)?[n,r[0]]:ZE(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function wA(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:dn)[e],n==null&&(n=r.table&&r.table[XE[e]]||dn[XE[e]]),n==null&&(n=zae[e]||"General");break}if(Og(n,0))return hb(t,r);t instanceof Date&&(t=oM(t,r.date1904));var a=fie(n,t);if(Og(a[1]))return hb(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return uie(a[1],t,r,a[0])}function gM(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(dn[r]==null){t<0&&(t=r);continue}if(dn[r]==e){t=r;break}}t<0&&(t=391)}return dn[t]=e,t}function hv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&gM(e[t],t)}function mv(){dn=Wae()}var xM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hie(e){var t=typeof e=="number"?dn[e]:e;return t=t.replace(xM,"(\\d+)"),new RegExp("^"+t+"$")}function mie(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,A=-1;(t.match(xM)||[]).forEach(function(u,f){var m=parseInt(r[f+1],10);switch(u.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":A=m;break;case"m":o>=0?l=m:a=m;break}}),A>=0&&l==-1&&a>=0&&(l=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(A>=0?A:0)).slice(-2);return o==-1&&l==-1&&A==-1?c:n==-1&&a==-1&&i==-1?d:c+"T"+d}var pie=function(){var e={};e.version="1.2.0";function t(){for(var B=0,F=new Array(256),E=0;E!=256;++E)B=E,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,F[E]=B;return typeof Int32Array<"u"?new Int32Array(F):F}var r=t();function n(B){var F=0,E=0,U=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)P[U]=B[U];for(U=0;U!=256;++U)for(E=B[U],F=256+U;F<4096;F+=256)E=P[F]=E>>>8^B[E&255];var O=[];for(U=1;U!=16;++U)O[U-1]=typeof Int32Array<"u"?P.subarray(U*256,U*256+256):P.slice(U*256,U*256+256);return O}var a=n(r),i=a[0],o=a[1],l=a[2],A=a[3],c=a[4],d=a[5],u=a[6],f=a[7],m=a[8],p=a[9],h=a[10],x=a[11],y=a[12],g=a[13],w=a[14];function b(B,F){for(var E=F^-1,U=0,P=B.length;U<P;)E=E>>>8^r[(E^B.charCodeAt(U++))&255];return~E}function C(B,F){for(var E=F^-1,U=B.length-15,P=0;P<U;)E=w[B[P++]^E&255]^g[B[P++]^E>>8&255]^y[B[P++]^E>>16&255]^x[B[P++]^E>>>24]^h[B[P++]]^p[B[P++]]^m[B[P++]]^f[B[P++]]^u[B[P++]]^d[B[P++]]^c[B[P++]]^A[B[P++]]^l[B[P++]]^o[B[P++]]^i[B[P++]]^r[B[P++]];for(U+=15;P<U;)E=E>>>8^r[(E^B[P++])&255];return~E}function N(B,F){for(var E=F^-1,U=0,P=B.length,O=0,X=0;U<P;)O=B.charCodeAt(U++),O<128?E=E>>>8^r[(E^O)&255]:O<2048?(E=E>>>8^r[(E^(192|O>>6&31))&255],E=E>>>8^r[(E^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,X=B.charCodeAt(U++)&1023,E=E>>>8^r[(E^(240|O>>8&7))&255],E=E>>>8^r[(E^(128|O>>2&63))&255],E=E>>>8^r[(E^(128|X>>6&15|(O&3)<<4))&255],E=E>>>8^r[(E^(128|X&63))&255]):(E=E>>>8^r[(E^(224|O>>12&15))&255],E=E>>>8^r[(E^(128|O>>6&63))&255],E=E>>>8^r[(E^(128|O&63))&255]);return~E}return e.table=r,e.bstr=b,e.buf=C,e.str=N,e}(),Tr=function(){var t={};t.version="1.2.1";function r(T,V){for(var Q=T.split("/"),L=V.split("/"),G=0,W=0,pe=Math.min(Q.length,L.length);G<pe;++G){if(W=Q[G].length-L[G].length)return W;if(Q[G]!=L[G])return Q[G]<L[G]?-1:1}return Q.length-L.length}function n(T){if(T.charAt(T.length-1)=="/")return T.slice(0,-1).indexOf("/")===-1?T:n(T.slice(0,-1));var V=T.lastIndexOf("/");return V===-1?T:T.slice(0,V+1)}function a(T){if(T.charAt(T.length-1)=="/")return a(T.slice(0,-1));var V=T.lastIndexOf("/");return V===-1?T:T.slice(V+1)}function i(T,V){typeof V=="string"&&(V=new Date(V));var Q=V.getHours();Q=Q<<6|V.getMinutes(),Q=Q<<5|V.getSeconds()>>>1,T.write_shift(2,Q);var L=V.getFullYear()-1980;L=L<<4|V.getMonth()+1,L=L<<5|V.getDate(),T.write_shift(2,L)}function o(T){var V=T.read_shift(2)&65535,Q=T.read_shift(2)&65535,L=new Date,G=Q&31;Q>>>=5;var W=Q&15;Q>>>=4,L.setMilliseconds(0),L.setFullYear(Q+1980),L.setMonth(W-1),L.setDate(G);var pe=V&31;V>>>=5;var je=V&63;return V>>>=6,L.setHours(V),L.setMinutes(je),L.setSeconds(pe<<1),L}function l(T){Ca(T,0);for(var V={},Q=0;T.l<=T.length-4;){var L=T.read_shift(2),G=T.read_shift(2),W=T.l+G,pe={};switch(L){case 21589:Q=T.read_shift(1),Q&1&&(pe.mtime=T.read_shift(4)),G>5&&(Q&2&&(pe.atime=T.read_shift(4)),Q&4&&(pe.ctime=T.read_shift(4))),pe.mtime&&(pe.mt=new Date(pe.mtime*1e3));break}T.l=W,V[L]=pe}return V}var A;function c(){return A||(A={})}function d(T,V){if(T[0]==80&&T[1]==75)return Oa(T,V);if((T[0]|32)==109&&(T[1]|32)==105)return Dt(T,V);if(T.length<512)throw new Error("CFB file size "+T.length+" < 512");var Q=3,L=512,G=0,W=0,pe=0,je=0,fe=0,ge=[],me=T.slice(0,512);Ca(me,0);var Ve=u(me);switch(Q=Ve[0],Q){case 3:L=512;break;case 4:L=4096;break;case 0:if(Ve[1]==0)return Oa(T,V);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}L!==512&&(me=T.slice(0,L),Ca(me,28));var at=T.slice(0,L);f(me,Q);var vt=me.read_shift(4,"i");if(Q===3&&vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+vt);me.l+=4,pe=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),je=me.read_shift(4,"i"),G=me.read_shift(4,"i"),fe=me.read_shift(4,"i"),W=me.read_shift(4,"i");for(var ze=-1,At=0;At<109&&(ze=me.read_shift(4,"i"),!(ze<0));++At)ge[At]=ze;var Mt=m(T,L);x(fe,W,Mt,L,ge);var Ur=g(Mt,pe,ge,L);Ur[pe].name="!Directory",G>0&&je!==X&&(Ur[je].name="!MiniFAT"),Ur[ge[0]].name="!FAT",Ur.fat_addrs=ge,Ur.ssz=L;var Qr={},mn=[],Vi=[],$i=[];w(pe,Ur,Mt,mn,G,Qr,Vi,je),p(Vi,$i,mn),mn.shift();var ee={FileIndex:Vi,FullPaths:$i};return V&&V.raw&&(ee.raw={header:at,sectors:Mt}),ee}function u(T){if(T[T.l]==80&&T[T.l+1]==75)return[0,0];T.chk(ae,"Header Signature: "),T.l+=16;var V=T.read_shift(2,"u");return[T.read_shift(2,"u"),V]}function f(T,V){var Q=9;switch(T.l+=2,Q=T.read_shift(2)){case 9:if(V!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(V!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}T.chk("0600","Mini Sector Shift: "),T.chk("000000000000","Reserved: ")}function m(T,V){for(var Q=Math.ceil(T.length/V)-1,L=[],G=1;G<Q;++G)L[G-1]=T.slice(G*V,(G+1)*V);return L[Q-1]=T.slice(Q*V),L}function p(T,V,Q){for(var L=0,G=0,W=0,pe=0,je=0,fe=Q.length,ge=[],me=[];L<fe;++L)ge[L]=me[L]=L,V[L]=Q[L];for(;je<me.length;++je)L=me[je],G=T[L].L,W=T[L].R,pe=T[L].C,ge[L]===L&&(G!==-1&&ge[G]!==G&&(ge[L]=ge[G]),W!==-1&&ge[W]!==W&&(ge[L]=ge[W])),pe!==-1&&(ge[pe]=L),G!==-1&&L!=ge[L]&&(ge[G]=ge[L],me.lastIndexOf(G)<je&&me.push(G)),W!==-1&&L!=ge[L]&&(ge[W]=ge[L],me.lastIndexOf(W)<je&&me.push(W));for(L=1;L<fe;++L)ge[L]===L&&(W!==-1&&ge[W]!==W?ge[L]=ge[W]:G!==-1&&ge[G]!==G&&(ge[L]=ge[G]));for(L=1;L<fe;++L)if(T[L].type!==0){if(je=L,je!=ge[je])do je=ge[je],V[L]=V[je]+"/"+V[L];while(je!==0&&ge[je]!==-1&&je!=ge[je]);ge[L]=-1}for(V[0]+="/",L=1;L<fe;++L)T[L].type!==2&&(V[L]+="/")}function h(T,V,Q){for(var L=T.start,G=T.size,W=[],pe=L;Q&&G>0&&pe>=0;)W.push(V.slice(pe*O,pe*O+O)),G-=O,pe=OA(Q,pe*4);return W.length===0?Be(0):as(W).slice(0,T.size)}function x(T,V,Q,L,G){var W=X;if(T===X){if(V!==0)throw new Error("DIFAT chain shorter than expected")}else if(T!==-1){var pe=Q[T],je=(L>>>2)-1;if(!pe)return;for(var fe=0;fe<je&&(W=OA(pe,fe*4))!==X;++fe)G.push(W);x(OA(pe,L-4),V-1,Q,L,G)}}function y(T,V,Q,L,G){var W=[],pe=[];G||(G=[]);var je=L-1,fe=0,ge=0;for(fe=V;fe>=0;){G[fe]=!0,W[W.length]=fe,pe.push(T[fe]);var me=Q[Math.floor(fe*4/L)];if(ge=fe*4&je,L<4+ge)throw new Error("FAT boundary crossed: "+fe+" 4 "+L);if(!T[me])break;fe=OA(T[me],ge)}return{nodes:W,data:oS([pe])}}function g(T,V,Q,L){var G=T.length,W=[],pe=[],je=[],fe=[],ge=L-1,me=0,Ve=0,at=0,vt=0;for(me=0;me<G;++me)if(je=[],at=me+V,at>=G&&(at-=G),!pe[at]){fe=[];var ze=[];for(Ve=at;Ve>=0;){ze[Ve]=!0,pe[Ve]=!0,je[je.length]=Ve,fe.push(T[Ve]);var At=Q[Math.floor(Ve*4/L)];if(vt=Ve*4&ge,L<4+vt)throw new Error("FAT boundary crossed: "+Ve+" 4 "+L);if(!T[At]||(Ve=OA(T[At],vt),ze[Ve]))break}W[at]={nodes:je,data:oS([fe])}}return W}function w(T,V,Q,L,G,W,pe,je){for(var fe=0,ge=L.length?2:0,me=V[T].data,Ve=0,at=0,vt;Ve<me.length;Ve+=128){var ze=me.slice(Ve,Ve+128);Ca(ze,64),at=ze.read_shift(2),vt=OB(ze,0,at-ge),L.push(vt);var At={name:vt,type:ze.read_shift(1),color:ze.read_shift(1),L:ze.read_shift(4,"i"),R:ze.read_shift(4,"i"),C:ze.read_shift(4,"i"),clsid:ze.read_shift(16),state:ze.read_shift(4,"i"),start:0,size:0},Mt=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);Mt!==0&&(At.ct=b(ze,ze.l-8));var Ur=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);Ur!==0&&(At.mt=b(ze,ze.l-8)),At.start=ze.read_shift(4,"i"),At.size=ze.read_shift(4,"i"),At.size<0&&At.start<0&&(At.size=At.type=0,At.start=X,At.name=""),At.type===5?(fe=At.start,G>0&&fe!==X&&(V[fe].name="!StreamData")):At.size>=4096?(At.storage="fat",V[At.start]===void 0&&(V[At.start]=y(Q,At.start,V.fat_addrs,V.ssz)),V[At.start].name=At.name,At.content=V[At.start].data.slice(0,At.size)):(At.storage="minifat",At.size<0?At.size=0:fe!==X&&At.start!==X&&V[fe]&&(At.content=h(At,V[fe].data,(V[je]||{}).data))),At.content&&Ca(At.content,0),W[vt]=At,pe.push(At)}}function b(T,V){return new Date((Ea(T,V+4)/1e7*Math.pow(2,32)+Ea(T,V)/1e7-11644473600)*1e3)}function C(T,V){return c(),d(A.readFileSync(T),V)}function N(T,V){var Q=V&&V.type;switch(Q||br&&Buffer.isBuffer(T)&&(Q="buffer"),Q||"base64"){case"file":return C(T,V);case"base64":return d(Ni(dl(T)),V);case"binary":return d(Ni(T),V)}return d(T,V)}function B(T,V){var Q=V||{},L=Q.root||"Root Entry";if(T.FullPaths||(T.FullPaths=[]),T.FileIndex||(T.FileIndex=[]),T.FullPaths.length!==T.FileIndex.length)throw new Error("inconsistent CFB structure");T.FullPaths.length===0&&(T.FullPaths[0]=L+"/",T.FileIndex[0]={name:L,type:5}),Q.CLSID&&(T.FileIndex[0].clsid=Q.CLSID),F(T)}function F(T){var V="Sh33tJ5";if(!Tr.find(T,"/"+V)){var Q=Be(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,T.FileIndex.push({name:V,type:2,content:Q,size:4,L:69,R:69,C:69}),T.FullPaths.push(T.FullPaths[0]+V),E(T)}}function E(T,V){B(T);for(var Q=!1,L=!1,G=T.FullPaths.length-1;G>=0;--G){var W=T.FileIndex[G];switch(W.type){case 0:L?Q=!0:(T.FileIndex.pop(),T.FullPaths.pop());break;case 1:case 2:case 5:L=!0,isNaN(W.R*W.L*W.C)&&(Q=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!V)){var pe=new Date(1987,1,19),je=0,fe=Object.create?Object.create(null):{},ge=[];for(G=0;G<T.FullPaths.length;++G)fe[T.FullPaths[G]]=!0,T.FileIndex[G].type!==0&&ge.push([T.FullPaths[G],T.FileIndex[G]]);for(G=0;G<ge.length;++G){var me=n(ge[G][0]);L=fe[me],L||(ge.push([me,{name:a(me).replace("/",""),type:1,clsid:q,ct:pe,mt:pe,content:null}]),fe[me]=!0)}for(ge.sort(function(vt,ze){return r(vt[0],ze[0])}),T.FullPaths=[],T.FileIndex=[],G=0;G<ge.length;++G)T.FullPaths[G]=ge[G][0],T.FileIndex[G]=ge[G][1];for(G=0;G<ge.length;++G){var Ve=T.FileIndex[G],at=T.FullPaths[G];if(Ve.name=a(at).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||q,G===0)Ve.C=ge.length>1?1:-1,Ve.size=0,Ve.type=5;else if(at.slice(-1)=="/"){for(je=G+1;je<ge.length&&n(T.FullPaths[je])!=at;++je);for(Ve.C=je>=ge.length?-1:je,je=G+1;je<ge.length&&n(T.FullPaths[je])!=n(at);++je);Ve.R=je>=ge.length?-1:je,Ve.type=1}else n(T.FullPaths[G+1]||"")==n(at)&&(Ve.R=G+1),Ve.type=2}}}function U(T,V){var Q=V||{};if(Q.fileType=="mad")return st(T,Q);switch(E(T),Q.fileType){case"zip":return Fo(T,Q)}var L=function(vt){for(var ze=0,At=0,Mt=0;Mt<vt.FileIndex.length;++Mt){var Ur=vt.FileIndex[Mt];if(Ur.content){var Qr=Ur.content.length;Qr>0&&(Qr<4096?ze+=Qr+63>>6:At+=Qr+511>>9)}}for(var mn=vt.FullPaths.length+3>>2,Vi=ze+7>>3,$i=ze+127>>7,ee=Vi+At+mn+$i,be=ee+127>>7,ve=be<=109?0:Math.ceil((be-109)/127);ee+be+ve+127>>7>be;)ve=++be<=109?0:Math.ceil((be-109)/127);var Ce=[1,ve,be,$i,mn,At,ze,0];return vt.FileIndex[0].size=ze<<6,Ce[7]=(vt.FileIndex[0].start=Ce[0]+Ce[1]+Ce[2]+Ce[3]+Ce[4]+Ce[5])+(Ce[6]+7>>3),Ce}(T),G=Be(L[7]<<9),W=0,pe=0;{for(W=0;W<8;++W)G.write_shift(1,he[W]);for(W=0;W<8;++W)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),W=0;W<3;++W)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,L[2]),G.write_shift(4,L[0]+L[1]+L[2]+L[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,L[3]?L[0]+L[1]+L[2]-1:X),G.write_shift(4,L[3]),G.write_shift(-4,L[1]?L[0]-1:X),G.write_shift(4,L[1]),W=0;W<109;++W)G.write_shift(-4,W<L[2]?L[1]+W:-1)}if(L[1])for(pe=0;pe<L[1];++pe){for(;W<236+pe*127;++W)G.write_shift(-4,W<L[2]?L[1]+W:-1);G.write_shift(-4,pe===L[1]-1?X:pe+1)}var je=function(vt){for(pe+=vt;W<pe-1;++W)G.write_shift(-4,W+1);vt&&(++W,G.write_shift(-4,X))};for(pe=W=0,pe+=L[1];W<pe;++W)G.write_shift(-4,ne.DIFSECT);for(pe+=L[2];W<pe;++W)G.write_shift(-4,ne.FATSECT);je(L[3]),je(L[4]);for(var fe=0,ge=0,me=T.FileIndex[0];fe<T.FileIndex.length;++fe)me=T.FileIndex[fe],me.content&&(ge=me.content.length,!(ge<4096)&&(me.start=pe,je(ge+511>>9)));for(je(L[6]+7>>3);G.l&511;)G.write_shift(-4,ne.ENDOFCHAIN);for(pe=W=0,fe=0;fe<T.FileIndex.length;++fe)me=T.FileIndex[fe],me.content&&(ge=me.content.length,!(!ge||ge>=4096)&&(me.start=pe,je(ge+63>>6)));for(;G.l&511;)G.write_shift(-4,ne.ENDOFCHAIN);for(W=0;W<L[4]<<2;++W){var Ve=T.FullPaths[W];if(!Ve||Ve.length===0){for(fe=0;fe<17;++fe)G.write_shift(4,0);for(fe=0;fe<3;++fe)G.write_shift(4,-1);for(fe=0;fe<12;++fe)G.write_shift(4,0);continue}me=T.FileIndex[W],W===0&&(me.start=me.size?me.start-1:X);var at=W===0&&Q.root||me.name;if(ge=2*(at.length+1),G.write_shift(64,at,"utf16le"),G.write_shift(2,ge),G.write_shift(1,me.type),G.write_shift(1,me.color),G.write_shift(-4,me.L),G.write_shift(-4,me.R),G.write_shift(-4,me.C),me.clsid)G.write_shift(16,me.clsid,"hex");else for(fe=0;fe<4;++fe)G.write_shift(4,0);G.write_shift(4,me.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,me.start),G.write_shift(4,me.size),G.write_shift(4,0)}for(W=1;W<T.FileIndex.length;++W)if(me=T.FileIndex[W],me.size>=4096)if(G.l=me.start+1<<9,br&&Buffer.isBuffer(me.content))me.content.copy(G,G.l,0,me.size),G.l+=me.size+511&-512;else{for(fe=0;fe<me.size;++fe)G.write_shift(1,me.content[fe]);for(;fe&511;++fe)G.write_shift(1,0)}for(W=1;W<T.FileIndex.length;++W)if(me=T.FileIndex[W],me.size>0&&me.size<4096)if(br&&Buffer.isBuffer(me.content))me.content.copy(G,G.l,0,me.size),G.l+=me.size+63&-64;else{for(fe=0;fe<me.size;++fe)G.write_shift(1,me.content[fe]);for(;fe&63;++fe)G.write_shift(1,0)}if(br)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}function P(T,V){var Q=T.FullPaths.map(function(fe){return fe.toUpperCase()}),L=Q.map(function(fe){var ge=fe.split("/");return ge[ge.length-(fe.slice(-1)=="/"?2:1)]}),G=!1;V.charCodeAt(0)===47?(G=!0,V=Q[0].slice(0,-1)+V):G=V.indexOf("/")!==-1;var W=V.toUpperCase(),pe=G===!0?Q.indexOf(W):L.indexOf(W);if(pe!==-1)return T.FileIndex[pe];var je=!W.match(G0);for(W=W.replace(sh,""),je&&(W=W.replace(G0,"!")),pe=0;pe<Q.length;++pe)if((je?Q[pe].replace(G0,"!"):Q[pe]).replace(sh,"")==W||(je?L[pe].replace(G0,"!"):L[pe]).replace(sh,"")==W)return T.FileIndex[pe];return null}var O=64,X=-2,ae="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(T,V,Q){c();var L=U(T,Q);A.writeFileSync(V,L)}function J(T){for(var V=new Array(T.length),Q=0;Q<T.length;++Q)V[Q]=String.fromCharCode(T[Q]);return V.join("")}function de(T,V){var Q=U(T,V);switch(V&&V.type||"buffer"){case"file":return c(),A.writeFileSync(V.filename,Q),Q;case"binary":return typeof Q=="string"?Q:J(Q);case"base64":return nm(typeof Q=="string"?Q:J(Q));case"buffer":if(br)return Buffer.isBuffer(Q)?Q:hl(Q);case"array":return typeof Q=="string"?Ni(Q):Q}return Q}var se;function D(T){try{var V=T.InflateRaw,Q=new V;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)se=T;else throw new Error("zlib does not expose bytesRead")}catch(L){console.error("cannot use native zlib: "+(L.message||L))}}function j(T,V){if(!se)return Pa(T,V);var Q=se.InflateRaw,L=new Q,G=L._processChunk(T.slice(T.l),L._finishFlushFlag);return T.l+=L.bytesRead,G}function k(T){return se?se.deflateRawSync(T):zr(T)}var M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Z(T){var V=(T<<1|T<<11)&139536|(T<<5|T<<15)&558144;return(V>>16|V>>8|V)&255}for(var K=typeof Uint8Array<"u",re=K?new Uint8Array(256):[],ye=0;ye<256;++ye)re[ye]=Z(ye);function Te(T,V){var Q=re[T&255];return V<=8?Q>>>8-V:(Q=Q<<8|re[T>>8&255],V<=16?Q>>>16-V:(Q=Q<<8|re[T>>16&255],Q>>>24-V))}function Nt(T,V){var Q=V&7,L=V>>>3;return(T[L]|(Q<=6?0:T[L+1]<<8))>>>Q&3}function mt(T,V){var Q=V&7,L=V>>>3;return(T[L]|(Q<=5?0:T[L+1]<<8))>>>Q&7}function Vt(T,V){var Q=V&7,L=V>>>3;return(T[L]|(Q<=4?0:T[L+1]<<8))>>>Q&15}function $t(T,V){var Q=V&7,L=V>>>3;return(T[L]|(Q<=3?0:T[L+1]<<8))>>>Q&31}function He(T,V){var Q=V&7,L=V>>>3;return(T[L]|(Q<=1?0:T[L+1]<<8))>>>Q&127}function Tt(T,V,Q){var L=V&7,G=V>>>3,W=(1<<Q)-1,pe=T[G]>>>L;return Q<8-L||(pe|=T[G+1]<<8-L,Q<16-L)||(pe|=T[G+2]<<16-L,Q<24-L)||(pe|=T[G+3]<<24-L),pe&W}function dr(T,V,Q){var L=V&7,G=V>>>3;return L<=5?T[G]|=(Q&7)<<L:(T[G]|=Q<<L&255,T[G+1]=(Q&7)>>8-L),V+3}function Y(T,V,Q){var L=V&7,G=V>>>3;return Q=(Q&1)<<L,T[G]|=Q,V+1}function Ae(T,V,Q){var L=V&7,G=V>>>3;return Q<<=L,T[G]|=Q&255,Q>>>=8,T[G+1]=Q,V+8}function xe(T,V,Q){var L=V&7,G=V>>>3;return Q<<=L,T[G]|=Q&255,Q>>>=8,T[G+1]=Q&255,T[G+2]=Q>>>8,V+16}function Ke(T,V){var Q=T.length,L=2*Q>V?2*Q:V+5,G=0;if(Q>=V)return T;if(br){var W=GE(L);if(T.copy)T.copy(W);else for(;G<T.length;++G)W[G]=T[G];return W}else if(K){var pe=new Uint8Array(L);if(pe.set)pe.set(T);else for(;G<Q;++G)pe[G]=T[G];return pe}return T.length=L,T}function z(T){for(var V=new Array(T),Q=0;Q<T;++Q)V[Q]=0;return V}function ce(T,V,Q){var L=1,G=0,W=0,pe=0,je=0,fe=T.length,ge=K?new Uint16Array(32):z(32);for(W=0;W<32;++W)ge[W]=0;for(W=fe;W<Q;++W)T[W]=0;fe=T.length;var me=K?new Uint16Array(fe):z(fe);for(W=0;W<fe;++W)ge[G=T[W]]++,L<G&&(L=G),me[W]=0;for(ge[0]=0,W=1;W<=L;++W)ge[W+16]=je=je+ge[W-1]<<1;for(W=0;W<fe;++W)je=T[W],je!=0&&(me[W]=ge[je+16]++);var Ve=0;for(W=0;W<fe;++W)if(Ve=T[W],Ve!=0)for(je=Te(me[W],L)>>L-Ve,pe=(1<<L+4-Ve)-1;pe>=0;--pe)V[je|pe<<Ve]=Ve&15|W<<4;return L}var Me=K?new Uint16Array(512):z(512),Et=K?new Uint16Array(32):z(32);if(!K){for(var It=0;It<512;++It)Me[It]=0;for(It=0;It<32;++It)Et[It]=0}(function(){for(var T=[],V=0;V<32;V++)T.push(5);ce(T,Et,32);var Q=[];for(V=0;V<=143;V++)Q.push(8);for(;V<=255;V++)Q.push(9);for(;V<=279;V++)Q.push(7);for(;V<=287;V++)Q.push(8);ce(Q,Me,288)})();var fn=function(){for(var V=K?new Uint8Array(32768):[],Q=0,L=0;Q<_.length-1;++Q)for(;L<_[Q+1];++L)V[L]=Q;for(;L<32768;++L)V[L]=29;var G=K?new Uint8Array(259):[];for(Q=0,L=0;Q<S.length-1;++Q)for(;L<S[Q+1];++L)G[L]=Q;function W(je,fe){for(var ge=0;ge<je.length;){var me=Math.min(65535,je.length-ge),Ve=ge+me==je.length;for(fe.write_shift(1,+Ve),fe.write_shift(2,me),fe.write_shift(2,~me&65535);me-- >0;)fe[fe.l++]=je[ge++]}return fe.l}function pe(je,fe){for(var ge=0,me=0,Ve=K?new Uint16Array(32768):[];me<je.length;){var at=Math.min(65535,je.length-me);if(at<10){for(ge=dr(fe,ge,+(me+at==je.length)),ge&7&&(ge+=8-(ge&7)),fe.l=ge/8|0,fe.write_shift(2,at),fe.write_shift(2,~at&65535);at-- >0;)fe[fe.l++]=je[me++];ge=fe.l*8;continue}ge=dr(fe,ge,+(me+at==je.length)+2);for(var vt=0;at-- >0;){var ze=je[me];vt=(vt<<5^ze)&32767;var At=-1,Mt=0;if((At=Ve[vt])&&(At|=me&-32768,At>me&&(At-=32768),At<me))for(;je[At+Mt]==je[me+Mt]&&Mt<250;)++Mt;if(Mt>2){ze=G[Mt],ze<=22?ge=Ae(fe,ge,re[ze+1]>>1)-1:(Ae(fe,ge,3),ge+=5,Ae(fe,ge,re[ze-23]>>5),ge+=3);var Ur=ze<8?0:ze-4>>2;Ur>0&&(xe(fe,ge,Mt-S[ze]),ge+=Ur),ze=V[me-At],ge=Ae(fe,ge,re[ze]>>3),ge-=3;var Qr=ze<4?0:ze-2>>1;Qr>0&&(xe(fe,ge,me-At-_[ze]),ge+=Qr);for(var mn=0;mn<Mt;++mn)Ve[vt]=me&32767,vt=(vt<<5^je[me])&32767,++me;at-=Mt-1}else ze<=143?ze=ze+48:ge=Y(fe,ge,1),ge=Ae(fe,ge,re[ze]),Ve[vt]=me&32767,++me}ge=Ae(fe,ge,0)-1}return fe.l=(ge+7)/8|0,fe.l}return function(fe,ge){return fe.length<8?W(fe,ge):pe(fe,ge)}}();function zr(T){var V=Be(50+Math.floor(T.length*1.1)),Q=fn(T,V);return V.slice(0,Q)}var Jr=K?new Uint16Array(32768):z(32768),di=K?new Uint16Array(32768):z(32768),ui=K?new Uint16Array(128):z(128),Xn=1,So=1;function us(T,V){var Q=$t(T,V)+257;V+=5;var L=$t(T,V)+1;V+=5;var G=Vt(T,V)+4;V+=4;for(var W=0,pe=K?new Uint8Array(19):z(19),je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,ge=K?new Uint8Array(8):z(8),me=K?new Uint8Array(8):z(8),Ve=pe.length,at=0;at<G;++at)pe[M[at]]=W=mt(T,V),fe<W&&(fe=W),ge[W]++,V+=3;var vt=0;for(ge[0]=0,at=1;at<=fe;++at)me[at]=vt=vt+ge[at-1]<<1;for(at=0;at<Ve;++at)(vt=pe[at])!=0&&(je[at]=me[vt]++);var ze=0;for(at=0;at<Ve;++at)if(ze=pe[at],ze!=0){vt=re[je[at]]>>8-ze;for(var At=(1<<7-ze)-1;At>=0;--At)ui[vt|At<<ze]=ze&7|at<<3}var Mt=[];for(fe=1;Mt.length<Q+L;)switch(vt=ui[He(T,V)],V+=vt&7,vt>>>=3){case 16:for(W=3+Nt(T,V),V+=2,vt=Mt[Mt.length-1];W-- >0;)Mt.push(vt);break;case 17:for(W=3+mt(T,V),V+=3;W-- >0;)Mt.push(0);break;case 18:for(W=11+He(T,V),V+=7;W-- >0;)Mt.push(0);break;default:Mt.push(vt),fe<vt&&(fe=vt);break}var Ur=Mt.slice(0,Q),Qr=Mt.slice(Q);for(at=Q;at<286;++at)Ur[at]=0;for(at=L;at<30;++at)Qr[at]=0;return Xn=ce(Ur,Jr,286),So=ce(Qr,di,30),V}function fs(T,V){if(T[0]==3&&!(T[1]&3))return[_c(V),2];for(var Q=0,L=0,G=GE(V||1<<18),W=0,pe=G.length>>>0,je=0,fe=0;!(L&1);){if(L=mt(T,Q),Q+=3,L>>>1)L>>1==1?(je=9,fe=5):(Q=us(T,Q),je=Xn,fe=So);else{Q&7&&(Q+=8-(Q&7));var ge=T[Q>>>3]|T[(Q>>>3)+1]<<8;if(Q+=32,ge>0)for(!V&&pe<W+ge&&(G=Ke(G,W+ge),pe=G.length);ge-- >0;)G[W++]=T[Q>>>3],Q+=8;continue}for(;;){!V&&pe<W+32767&&(G=Ke(G,W+32767),pe=G.length);var me=Tt(T,Q,je),Ve=L>>>1==1?Me[me]:Jr[me];if(Q+=Ve&15,Ve>>>=4,!(Ve>>>8&255))G[W++]=Ve;else{if(Ve==256)break;Ve-=257;var at=Ve<8?0:Ve-4>>2;at>5&&(at=0);var vt=W+S[Ve];at>0&&(vt+=Tt(T,Q,at),Q+=at),me=Tt(T,Q,fe),Ve=L>>>1==1?Et[me]:di[me],Q+=Ve&15,Ve>>>=4;var ze=Ve<4?0:Ve-2>>1,At=_[Ve];for(ze>0&&(At+=Tt(T,Q,ze),Q+=ze),!V&&pe<vt&&(G=Ke(G,vt+100),pe=G.length);W<vt;)G[W]=G[W-At],++W}}}return V?[G,Q+7>>>3]:[G.slice(0,W),Q+7>>>3]}function Pa(T,V){var Q=T.slice(T.l||0),L=fs(Q,V);return T.l+=L[1],L[0]}function ga(T,V){if(T)typeof console<"u"&&console.error(V);else throw new Error(V)}function Oa(T,V){var Q=T;Ca(Q,0);var L=[],G=[],W={FileIndex:L,FullPaths:G};B(W,{root:V.root});for(var pe=Q.length-4;(Q[pe]!=80||Q[pe+1]!=75||Q[pe+2]!=5||Q[pe+3]!=6)&&pe>=0;)--pe;Q.l=pe+4,Q.l+=4;var je=Q.read_shift(2);Q.l+=6;var fe=Q.read_shift(4);for(Q.l=fe,pe=0;pe<je;++pe){Q.l+=20;var ge=Q.read_shift(4),me=Q.read_shift(4),Ve=Q.read_shift(2),at=Q.read_shift(2),vt=Q.read_shift(2);Q.l+=8;var ze=Q.read_shift(4),At=l(Q.slice(Q.l+Ve,Q.l+Ve+at));Q.l+=Ve+at+vt;var Mt=Q.l;Q.l=ze+4,kA(Q,ge,me,W,At),Q.l=Mt}return W}function kA(T,V,Q,L,G){T.l+=2;var W=T.read_shift(2),pe=T.read_shift(2),je=o(T);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var fe=T.read_shift(4),ge=T.read_shift(4),me=T.read_shift(4),Ve=T.read_shift(2),at=T.read_shift(2),vt="",ze=0;ze<Ve;++ze)vt+=String.fromCharCode(T[T.l++]);if(at){var At=l(T.slice(T.l,T.l+at));(At[21589]||{}).mt&&(je=At[21589].mt),((G||{})[21589]||{}).mt&&(je=G[21589].mt)}T.l+=at;var Mt=T.slice(T.l,T.l+ge);switch(pe){case 8:Mt=j(T,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pe)}var Ur=!1;W&8&&(fe=T.read_shift(4),fe==134695760&&(fe=T.read_shift(4),Ur=!0),ge=T.read_shift(4),me=T.read_shift(4)),ge!=V&&ga(Ur,"Bad compressed size: "+V+" != "+ge),me!=Q&&ga(Ur,"Bad uncompressed size: "+Q+" != "+me),ur(L,vt,Mt,{unsafe:!0,mt:je})}function Fo(T,V){var Q=V||{},L=[],G=[],W=Be(1),pe=Q.compression?8:0,je=0,fe=0,ge=0,me=0,Ve=0,at=T.FullPaths[0],vt=at,ze=T.FileIndex[0],At=[],Mt=0;for(fe=1;fe<T.FullPaths.length;++fe)if(vt=T.FullPaths[fe].slice(at.length),ze=T.FileIndex[fe],!(!ze.size||!ze.content||vt=="Sh33tJ5")){var Ur=me,Qr=Be(vt.length);for(ge=0;ge<vt.length;++ge)Qr.write_shift(1,vt.charCodeAt(ge)&127);Qr=Qr.slice(0,Qr.l),At[Ve]=pie.buf(ze.content,0);var mn=ze.content;pe==8&&(mn=k(mn)),W=Be(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,je),W.write_shift(2,pe),ze.mt?i(W,ze.mt):W.write_shift(4,0),W.write_shift(-4,At[Ve]),W.write_shift(4,mn.length),W.write_shift(4,ze.content.length),W.write_shift(2,Qr.length),W.write_shift(2,0),me+=W.length,L.push(W),me+=Qr.length,L.push(Qr),me+=mn.length,L.push(mn),W=Be(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,je),W.write_shift(2,pe),W.write_shift(4,0),W.write_shift(-4,At[Ve]),W.write_shift(4,mn.length),W.write_shift(4,ze.content.length),W.write_shift(2,Qr.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,Ur),Mt+=W.l,G.push(W),Mt+=Qr.length,G.push(Qr),++Ve}return W=Be(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,Ve),W.write_shift(2,Ve),W.write_shift(4,Mt),W.write_shift(4,me),W.write_shift(2,0),as([as(L),as(G),W])}var I={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ie(T,V){if(T.ctype)return T.ctype;var Q=T.name||"",L=Q.match(/\.([^\.]+)$/);return L&&I[L[1]]||V&&(L=(Q=V).match(/[\.\\]([^\.\\])+$/),L&&I[L[1]])?I[L[1]]:"application/octet-stream"}function we(T){for(var V=nm(T),Q=[],L=0;L<V.length;L+=76)Q.push(V.slice(L,L+76));return Q.join(`\r
`)+`\r
`}function Se(T){var V=T.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var me=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});V=V.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),V.charAt(0)==`
`&&(V="=0D"+V.slice(1)),V=V.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],L=V.split(`\r
`),G=0;G<L.length;++G){var W=L[G];if(W.length==0){Q.push("");continue}for(var pe=0;pe<W.length;){var je=76,fe=W.slice(pe,pe+je);fe.charAt(je-1)=="="?je--:fe.charAt(je-2)=="="?je-=2:fe.charAt(je-3)=="="&&(je-=3),fe=W.slice(pe,pe+je),pe+=je,pe<W.length&&(fe+="="),Q.push(fe)}}return Q.join(`\r
`)}function yt(T){for(var V=[],Q=0;Q<T.length;++Q){for(var L=T[Q];Q<=T.length&&L.charAt(L.length-1)=="=";)L=L.slice(0,L.length-1)+T[++Q];V.push(L)}for(var G=0;G<V.length;++G)V[G]=V[G].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return Ni(V.join(`\r
`))}function it(T,V,Q){for(var L="",G="",W="",pe,je=0;je<10;++je){var fe=V[je];if(!fe||fe.match(/^\s*$/))break;var ge=fe.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":L=ge[2].trim();break;case"content-type":W=ge[2].trim();break;case"content-transfer-encoding":G=ge[2].trim();break}}switch(++je,G.toLowerCase()){case"base64":pe=Ni(dl(V.slice(je).join("")));break;case"quoted-printable":pe=yt(V.slice(je));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var me=ur(T,L.slice(Q.length),pe,{unsafe:!0});W&&(me.ctype=W)}function Dt(T,V){if(J(T.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=V&&V.root||"",L=(br&&Buffer.isBuffer(T)?T.toString("binary"):J(T)).split(`\r
`),G=0,W="";for(G=0;G<L.length;++G)if(W=L[G],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),Q||(Q=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),W.slice(0,Q.length)!=Q););var pe=(L[1]||"").match(/boundary="(.*?)"/);if(!pe)throw new Error("MAD cannot find boundary");var je="--"+(pe[1]||""),fe=[],ge=[],me={FileIndex:fe,FullPaths:ge};B(me);var Ve,at=0;for(G=0;G<L.length;++G){var vt=L[G];vt!==je&&vt!==je+"--"||(at++&&it(me,L.slice(Ve,G),Q),Ve=G)}return me}function st(T,V){var Q=V||{},L=Q.boundary||"SheetJS";L="------="+L;for(var G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+L.slice(2)+'"',"","",""],W=T.FullPaths[0],pe=W,je=T.FileIndex[0],fe=1;fe<T.FullPaths.length;++fe)if(pe=T.FullPaths[fe].slice(W.length),je=T.FileIndex[fe],!(!je.size||!je.content||pe=="Sh33tJ5")){pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var ge=je.content,me=br&&Buffer.isBuffer(ge)?ge.toString("binary"):J(ge),Ve=0,at=Math.min(1024,me.length),vt=0,ze=0;ze<=at;++ze)(vt=me.charCodeAt(ze))>=32&&vt<128&&++Ve;var At=Ve>=at*4/5;G.push(L),G.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+pe),G.push("Content-Transfer-Encoding: "+(At?"quoted-printable":"base64")),G.push("Content-Type: "+ie(je,pe)),G.push(""),G.push(At?Se(me):we(me))}return G.push(L+`--\r
`),G.join(`\r
`)}function Hr(T){var V={};return B(V,T),V}function ur(T,V,Q,L){var G=L&&L.unsafe;G||B(T);var W=!G&&Tr.find(T,V);if(!W){var pe=T.FullPaths[0];V.slice(0,pe.length)==pe?pe=V:(pe.slice(-1)!="/"&&(pe+="/"),pe=(pe+V).replace("//","/")),W={name:a(V),type:2},T.FileIndex.push(W),T.FullPaths.push(pe),G||Tr.utils.cfb_gc(T)}return W.content=Q,W.size=Q?Q.length:0,L&&(L.CLSID&&(W.clsid=L.CLSID),L.mt&&(W.mt=L.mt),L.ct&&(W.ct=L.ct)),W}function Ss(T,V){B(T);var Q=Tr.find(T,V);if(Q){for(var L=0;L<T.FileIndex.length;++L)if(T.FileIndex[L]==Q)return T.FileIndex.splice(L,1),T.FullPaths.splice(L,1),!0}return!1}function hn(T,V,Q){B(T);var L=Tr.find(T,V);if(L){for(var G=0;G<T.FileIndex.length;++G)if(T.FileIndex[G]==L)return T.FileIndex[G].name=a(Q),T.FullPaths[G]=Q,!0}return!1}function hs(T){E(T,!0)}return t.find=P,t.read=N,t.parse=d,t.write=de,t.writeFile=H,t.utils={cfb_new:Hr,cfb_add:ur,cfb_del:Ss,cfb_mov:hn,cfb_gc:hs,ReadShift:ih,CheckField:DM,prep_blob:Ca,bconcat:as,use_zlib:D,_deflateRaw:zr,_inflateRaw:Pa,consts:ne},t}();function gie(e){return typeof e=="string"?fv(e):Array.isArray(e)?Kae(e):e}function Om(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=fv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?am(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([gie(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Pm(t)),l.write(t),l.close(),t}catch(A){if(!A.message||!A.message.match(/onstruct/))throw A}throw new Error("cannot save file "+e)}function ds(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function eS(e,t){for(var r=[],n=ds(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function UB(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function pv(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function xie(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Lg=new Date(1899,11,30,0,0,0);function ha(e,t){var r=e.getTime(),n=Lg.getTime()+(e.getTimezoneOffset()-Lg.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var vM=new Date,vie=Lg.getTime()+(vM.getTimezoneOffset()-Lg.getTimezoneOffset())*6e4,tS=vM.getTimezoneOffset();function yM(e){var t=new Date;return t.setTime(e*24*60*60*1e3+vie),t.getTimezoneOffset()!==tS&&t.setTime(t.getTime()+(t.getTimezoneOffset()-tS)*6e4),t}var rS=new Date("2017-02-19T19:06:09.000Z"),wM=isNaN(rS.getFullYear())?new Date("2/19/17"):rS,yie=wM.getFullYear()==2017;function Ms(e,t){var r=new Date(e);if(yie)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(wM.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function gv(e,t){if(br&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ma(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ma(e[r]));return t}function ln(e,t){for(var r="";r.length<t;)r+=e;return r}function qo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var wie=["january","february","march","april","may","june","july","august","september","october","november","december"];function sm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&wie.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function or(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return br?n=hl(r):n=Vae(r),Tr.utils.cfb_add(e,t,n)}Tr.utils.cfb_add(e,t,r)}else e.file(t,r)}function QB(){return Tr.utils.cfb_new()}var Fn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,bie={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},DB=UB(bie),PB=/[&<>'"]/g,Cie=/[\u0000-\u0008\u000b-\u001f]/g;function _r(e){var t=e+"";return t.replace(PB,function(r){return DB[r]}).replace(Cie,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function nS(e){return _r(e).replace(/ /g,"_x0020_")}var bM=/[\u0000-\u001f]/g;function Bie(e){var t=e+"";return t.replace(PB,function(r){return DB[r]}).replace(/\n/g,"<br/>").replace(bM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function jie(e){var t=e+"";return t.replace(PB,function(r){return DB[r]}).replace(bM,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Nie(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Eie(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zy(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function sS(e){var t=_c(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function aS(e){return hl(e,"binary").toString("utf8")}var z0="foo bar baz",ah=br&&(aS(z0)==zy(z0)&&aS||sS(z0)==zy(z0)&&sS)||zy,am=br?function(e){return hl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Sie=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),CM=/(^\s|\s$|\n)/;function is(e,t){return"<"+e+(t.match(CM)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function im(e){return ds(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function et(e,t,r){return"<"+e+(r!=null?im(r):"")+(t!=null?(t.match(CM)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function mb(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Fie(e,t){switch(typeof e){case"string":var r=et("vt:lpwstr",_r(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return et((e|0)==e?"vt:i4":"vt:r8",_r(String(e)));case"boolean":return et("vt:bool",e?"true":"false")}if(e instanceof Date)return et("vt:filetime",mb(e));throw new Error("Unable to serialize "+e)}var Kn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Na={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Tie(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function _ie(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var iS=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},oS=br?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:hl(t)})):iS(e)}:iS,lS=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Of(e,a)));return n.join("").replace(sh,"")},OB=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(sh,""):lS(e,t,r)}:lS,AS=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},BM=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):AS(e,t,r)}:AS,cS=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(md(e,a)));return n.join("")},Rm=br?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):cS(t,r,n)}:cS,jM=function(e,t){var r=Ea(e,t);return r>0?Rm(e,t+4,t+4+r-1):""},NM=jM,EM=function(e,t){var r=Ea(e,t);return r>0?Rm(e,t+4,t+4+r-1):""},SM=EM,FM=function(e,t){var r=2*Ea(e,t);return r>0?Rm(e,t+4,t+4+r-1):""},TM=FM,_M=function(t,r){var n=Ea(t,r);return n>0?OB(t,r+4,r+4+n):""},kM=_M,IM=function(e,t){var r=Ea(e,t);return r>0?Rm(e,t+4,t+4+r):""},UM=IM,QM=function(e,t){return Tie(e,t)},Mg=QM,RB=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};br&&(NM=function(t,r){if(!Buffer.isBuffer(t))return jM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},SM=function(t,r){if(!Buffer.isBuffer(t))return EM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},TM=function(t,r){if(!Buffer.isBuffer(t))return FM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},kM=function(t,r){if(!Buffer.isBuffer(t))return _M(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},UM=function(t,r){if(!Buffer.isBuffer(t))return IM(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Mg=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):QM(t,r)},RB=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var md=function(e,t){return e[t]},Of=function(e,t){return e[t+1]*256+e[t]},kie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ea=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},OA=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Iie=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ih(e,t){var r="",n,a,i=[],o,l,A,c;switch(t){case"dbcs":if(c=this.l,br&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(A=0;A<e;++A)r+=String.fromCharCode(Of(this,c)),c+=2;e*=2;break;case"utf8":r=Rm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=OB(this,this.l,this.l+e);break;case"wstr":return ih.call(this,e,"dbcs");case"lpstr-ansi":r=NM(this,this.l),e=4+Ea(this,this.l);break;case"lpstr-cp":r=SM(this,this.l),e=4+Ea(this,this.l);break;case"lpwstr":r=TM(this,this.l),e=4+2*Ea(this,this.l);break;case"lpp4":e=4+Ea(this,this.l),r=kM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ea(this,this.l),r=UM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=md(this,this.l+e++))!==0;)i.push($0(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Of(this,this.l+e))!==0;)i.push($0(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,A=0;A<e;++A){if(this.lens&&this.lens.indexOf(c)!==-1)return o=md(this,c),this.l=c+1,l=ih.call(this,e-A,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($0(Of(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,A=0;A!=e;++A){if(this.lens&&this.lens.indexOf(c)!==-1)return o=md(this,c),this.l=c+1,l=ih.call(this,e-A,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($0(md(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=md(this,this.l),this.l++,n;case 2:return n=(t==="i"?kie:Of)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?OA:Iie)(this,this.l),this.l+=4,n):(a=Ea(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Mg(this,this.l):a=Mg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=BM(this,this.l,e);break}}return this.l+=e,r}var Uie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Qie=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Die=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Pie(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Die(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Uie(this,t,this.l);break;case 8:if(n=8,r==="f"){_ie(this,t,this.l);break}case 16:break;case-4:n=4,Qie(this,t,this.l);break}return this.l+=n,this}function DM(e,t){var r=BM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ca(e,t){e.l=t,e.read_shift=ih,e.chk=DM,e.write_shift=Pie}function Bo(e,t){e.l+=t}function Be(e){var t=_c(e);return Ca(t,0),t}function da(){var e=[],t=br?256:2048,r=function(c){var d=Be(c);return Ca(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},o=function(){return a(),as(e)},l=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Re(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Tue[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&RB(r)&&e.push(r)}}function oh(e,t,r){var n=ma(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function dS(e,t,r){var n=ma(e);return n.s=oh(n.s,t.s,r),n.e=oh(n.e,t.s,r),n}function lh(e,t){if(e.cRel&&e.c<0)for(e=ma(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ma(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ir(e);return!e.cRel&&e.cRel!=null&&(r=Lie(r)),!e.rRel&&e.rRel!=null&&(r=Oie(r)),r}function Xy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+bs(e.s.c)+":"+(e.e.cRel?"":"$")+bs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+As(e.s.r)+":"+(e.e.rRel?"":"$")+As(e.e.r):lh(e.s,t.biff)+":"+lh(e.e,t.biff)}function LB(e){return parseInt(Rie(e),10)-1}function As(e){return""+(e+1)}function Oie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Rie(e){return e.replace(/\$(\d+)$/,"$1")}function MB(e){for(var t=Mie(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function bs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Lie(e){return e.replace(/^([A-Z])/,"$$$1")}function Mie(e){return e.replace(/^\$([A-Z])/,"$1")}function Hie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Vn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ir(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ia(e){var t=e.indexOf(":");return t==-1?{s:Vn(e),e:Vn(e)}:{s:Vn(e.slice(0,t)),e:Vn(e.slice(t+1))}}function En(e,t){return typeof t>"u"||typeof t=="number"?En(e.s,e.e):(typeof e!="string"&&(e=Ir(e)),typeof t!="string"&&(t=Ir(t)),e==t?e:e+":"+t)}function Gr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function uS(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=wA(e.z,r?ha(t):t)}catch{}try{return e.w=wA((e.XF||{}).numFmtId||(r?14:0),r?ha(t):t)}catch{return""+t}}function ul(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Lm[e.v]||e.v:t==null?uS(e,e.v):uS(e,t))}function Vc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function PM(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var A=typeof n.origin=="string"?Vn(n.origin):n.origin;o=A.r,l=A.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Gr(i["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),o==-1&&(c.e.r=o=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[u].length;++f)if(!(typeof t[u][f]>"u")){var m={v:t[u][f]},p=o+u,h=l+f;if(c.s.r>p&&(c.s.r=p),c.s.c>h&&(c.s.c=h),c.e.r<p&&(c.e.r=p),c.e.c<h&&(c.e.c=h),t[u][f]&&typeof t[u][f]=="object"&&!Array.isArray(t[u][f])&&!(t[u][f]instanceof Date))m=t[u][f];else if(Array.isArray(m.v)&&(m.f=t[u][f][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||dn[14],n.cellDates?(m.t="d",m.w=wA(m.z,ha(m.v))):(m.t="n",m.v=ha(m.v),m.w=wA(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][h]&&i[p][h].z&&(m.z=i[p][h].z),i[p][h]=m;else{var x=Ir({c:h,r:p});i[x]&&i[x].z&&(m.z=i[x].z),i[x]=m}}}return c.s.c<1e7&&(i["!ref"]=En(c)),i}function Ju(e,t){return PM(null,e,t)}function Kie(e){return e.read_shift(4,"i")}function Ii(e,t){return t||(t=Be(4)),t.write_shift(4,e),t}function Cs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function $n(e,t){var r=!1;return t==null&&(r=!0,t=Be(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Vie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function $ie(e,t){return t||(t=Be(4)),t.write_shift(2,0),t.write_shift(2,0),t}function HB(e,t){var r=e.l,n=e.read_shift(1),a=Cs(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),A=0;A!=l;++A)i.push(Vie(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function Gie(e,t){var r=!1;return t==null&&(r=!0,t=Be(15+4*e.t.length)),t.write_shift(1,0),$n(e.t,t),r?t.slice(0,t.l):t}var Wie=HB;function zie(e,t){var r=!1;return t==null&&(r=!0,t=Be(23+4*e.t.length)),t.write_shift(1,1),$n(e.t,t),t.write_shift(4,1),$ie({},t),r?t.slice(0,t.l):t}function ci(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function $c(e,t){return t==null&&(t=Be(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Gc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Wc(e,t){return t==null&&(t=Be(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Xie=Cs,OM=$n;function KB(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Hg(e,t){var r=!1;return t==null&&(r=!0,t=Be(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var qie=Cs,pb=KB,VB=Hg;function RM(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Mg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):OA(t,0)>>2;return r?a/100:a}function LM(e,t){t==null&&(t=Be(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function MM(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Yie(e,t){return t||(t=Be(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var zc=MM,Zu=Yie;function ef(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function kc(e,t){return(t||Be(8)).write_shift(8,e,"f")}function Jie(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),A=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=ooe[a];c&&(t.rgb=CS(c));break;case 2:t.rgb=CS([o,l,A]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Kg(e,t){if(t||(t=Be(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Zie(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function eoe(e,t){t||(t=Be(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var HM=2,ya=3,X0=11,Vg=19,q0=64,toe=65,roe=71,noe=4108,soe=4126,Zn=80,fS={1:{n:"CodePage",t:HM},2:{n:"Category",t:Zn},3:{n:"PresentationFormat",t:Zn},4:{n:"ByteCount",t:ya},5:{n:"LineCount",t:ya},6:{n:"ParagraphCount",t:ya},7:{n:"SlideCount",t:ya},8:{n:"NoteCount",t:ya},9:{n:"HiddenCount",t:ya},10:{n:"MultimediaClipCount",t:ya},11:{n:"ScaleCrop",t:X0},12:{n:"HeadingPairs",t:noe},13:{n:"TitlesOfParts",t:soe},14:{n:"Manager",t:Zn},15:{n:"Company",t:Zn},16:{n:"LinksUpToDate",t:X0},17:{n:"CharacterCount",t:ya},19:{n:"SharedDoc",t:X0},22:{n:"HyperlinksChanged",t:X0},23:{n:"AppVersion",t:ya,p:"version"},24:{n:"DigSig",t:toe},26:{n:"ContentType",t:Zn},27:{n:"ContentStatus",t:Zn},28:{n:"Language",t:Zn},29:{n:"Version",t:Zn},255:{},2147483648:{n:"Locale",t:Vg},2147483651:{n:"Behavior",t:Vg},1919054434:{}},hS={1:{n:"CodePage",t:HM},2:{n:"Title",t:Zn},3:{n:"Subject",t:Zn},4:{n:"Author",t:Zn},5:{n:"Keywords",t:Zn},6:{n:"Comments",t:Zn},7:{n:"Template",t:Zn},8:{n:"LastAuthor",t:Zn},9:{n:"RevNumber",t:Zn},10:{n:"EditTime",t:q0},11:{n:"LastPrinted",t:q0},12:{n:"CreatedDate",t:q0},13:{n:"ModifiedDate",t:q0},14:{n:"PageCount",t:ya},15:{n:"WordCount",t:ya},16:{n:"CharCount",t:ya},17:{n:"Thumbnail",t:roe},18:{n:"Application",t:Zn},19:{n:"DocSecurity",t:ya},255:{},2147483648:{n:"Locale",t:Vg},2147483651:{n:"Behavior",t:Vg},1919054434:{}};function aoe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var ioe=aoe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ooe=ma(ioe),Lm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},loe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Y0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function KM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VM(e,t){var r=xie(loe),n=[],a;n[n.length]=Fn,n[n.length]=et("Types",null,{xmlns:Kn.CT,"xmlns:xsd":Kn.xsd,"xmlns:xsi":Kn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(A){return et("Default",null,{Extension:A[0],ContentType:A[1]})}));var i=function(A){e[A]&&e[A].length>0&&(a=e[A][0],n[n.length]=et("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Y0[A][t.bookType]||Y0[A].xlsx}))},o=function(A){(e[A]||[]).forEach(function(c){n[n.length]=et("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Y0[A][t.bookType]||Y0[A].xlsx})})},l=function(A){(e[A]||[]).forEach(function(c){n[n.length]=et("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[A][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var vr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function $M(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Wd(e){var t=[Fn,et("Relationships",null,{xmlns:Kn.RELS})];return ds(e["!id"]).forEach(function(r){t[t.length]=et("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Fr(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[vr.HLINK,vr.XPATH,vr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Aoe(e){var t=[Fn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function mS(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function coe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function doe(e){var t=[Fn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(mS(e[r][0],e[r][1])),t.push(coe("",e[r][0]));return t.push(mS("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function GM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Qg.version+"</meta:generator></office:meta></office:document-meta>"}var cc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function qy(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=_r(t),n[n.length]=r?et(e,t,r):is(e,t))}function WM(e,t){var r=t||{},n=[Fn,et("cp:coreProperties",null,{"xmlns:cp":Kn.CORE_PROPS,"xmlns:dc":Kn.dc,"xmlns:dcterms":Kn.dcterms,"xmlns:dcmitype":Kn.dcmitype,"xmlns:xsi":Kn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&qy("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:mb(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&qy("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:mb(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=cc.length;++i){var o=cc[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&qy(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var zd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],zM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function XM(e){var t=[],r=et;return e||(e={}),e.Application="SheetJS",t[t.length]=Fn,t[t.length]=et("Properties",null,{xmlns:Kn.EXT_PROPS,"xmlns:vt":Kn.vt}),zd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=_r(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+_r(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function qM(e){var t=[Fn,et("Properties",null,{xmlns:Kn.CUST_PROPS,"xmlns:vt":Kn.vt})];if(!e)return t.join("");var r=1;return ds(e).forEach(function(a){++r,t[t.length]=et("property",Fie(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_r(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function uoe(e,t){var r=[];return ds(pS).map(function(n){for(var a=0;a<cc.length;++a)if(cc[a][1]==n)return cc[a];for(a=0;a<zd.length;++a)if(zd[a][1]==n)return zd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(is(pS[n[1]]||n[1],a))}}),et("DocumentProperties",r.join(""),{xmlns:Na.o})}function foe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ds(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<cc.length;++o)if(i==cc[o][1])return;for(o=0;o<zd.length;++o)if(i==zd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],A="string";typeof l=="number"?(A="float",l=String(l)):l===!0||l===!1?(A="boolean",l=l?"1":"0"):l=String(l),a.push(et(nS(i),l,{"dt:dt":A}))}}),t&&ds(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(et(nS(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Na.o+'">'+a.join("")+"</"+n+">"}function hoe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Be(8);return o.write_shift(4,n),o.write_shift(4,a),o}function gS(e,t){var r=Be(4),n=Be(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Be(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=hoe(t);break;case 31:case 80:for(n=Be(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return as([r,n])}var YM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function moe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function xS(e,t,r){var n=Be(8),a=[],i=[],o=8,l=0,A=Be(8),c=Be(8);if(A.write_shift(4,2),A.write_shift(4,1200),c.write_shift(4,1),i.push(A),a.push(c),o+=8+A.length,!t){c=Be(8),c.write_shift(4,0),a.unshift(c);var d=[Be(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var u=e[l][0];for(A=Be(8+2*(u.length+1)+(u.length%2?0:2)),A.write_shift(4,l+2),A.write_shift(4,u.length+1),A.write_shift(0,u,"dbcs");A.l!=A.length;)A.write_shift(1,0);d.push(A)}A=as(d),i.unshift(A),o+=8+A.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(YM.indexOf(e[l][0])>-1||zM.indexOf(e[l][0])>-1)&&e[l][1]!=null){var f=e[l][1],m=0;if(t){m=+t[e[l][0]];var p=r[m];if(p.p=="version"&&typeof f=="string"){var h=f.split(".");f=(+h[0]<<16)+(+h[1]||0)}A=gS(p.t,f)}else{var x=moe(f);x==-1&&(x=31,f=String(f)),A=gS(x,f)}i.push(A),c=Be(8),c.write_shift(4,t?m:2+l),a.push(c),o+=8+A.length}var y=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,y),y+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),as([n].concat(a).concat(i))}function vS(e,t,r,n,a,i){var o=Be(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Tr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var A=xS(e,r,n);if(l.push(A),a){var c=xS(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+A.length),l.push(c)}return as(l)}function poe(e,t){t||(t=Be(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function goe(e,t){return e.read_shift(t)===1}function Ps(e,t){return t||(t=Be(2)),t.write_shift(2,+!!e),t}function JM(e){return e.read_shift(2,"u")}function Va(e,t){return t||(t=Be(2)),t.write_shift(2,e),t}function ZM(e,t,r){return r||(r=Be(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function e5(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function xoe(e){var t=e.t||"",r=Be(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Be(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return as(a)}function voe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function yoe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):voe(e,n,r)}function woe(e,t,r){if(r.biff>5)return yoe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function t5(e,t,r){return r||(r=Be(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function yS(e,t){t||(t=Be(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function boe(e){var t=Be(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),yS(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&yS(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var A=0;n.slice(A*3,A*3+3)=="../"||n.slice(A*3,A*3+3)=="..\\";)++A;for(t.write_shift(2,A),t.write_shift(4,n.length-3*A+1),r=0;r<n.length-3*A;++r)t.write_shift(1,n.charCodeAt(r+3*A)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Ic(e,t,r,n){return n||(n=Be(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Coe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function Boe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function r5(e,t){return t||(t=Be(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function $B(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Be(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function joe(e,t){var r=!t||t.biff==8,n=Be(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Noe(e,t){var r=!t||t.biff>=8?2:1,n=Be(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Eoe(e,t){var r=Be(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=xoe(e[a]);var i=as([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function Soe(){var e=Be(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Foe(e){var t=Be(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Toe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Be(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function _oe(e,t,r,n){var a=Be(10);return Ic(e,t,n,a),a.write_shift(4,r),a}function koe(e,t,r,n,a){var i=!a||a.biff==8,o=Be(8+ +i+(1+i)*r.length);return Ic(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function Ioe(e,t,r,n){var a=r&&r.biff==5;n||(n=Be(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Uoe(e,t){var r=t.biff==8||!t.biff?4:2,n=Be(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function wS(e,t,r,n){var a=r&&r.biff==5;n||(n=Be(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Qoe(e){var t=Be(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Doe(e,t,r,n,a,i){var o=Be(8);return Ic(e,t,n,o),ZM(r,i,o),o}function Poe(e,t,r,n){var a=Be(14);return Ic(e,t,n,a),kc(r,a),a}function Ooe(e,t,r){if(r.biff<8)return Roe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Coe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Roe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=e5(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Loe(e){var t=Be(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)r5(e[r],t);return t}function Moe(e){var t=Be(24),r=Vn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return as([t,boe(e[1])])}function Hoe(e){var t=e[1].Tooltip,r=Be(10+2*(t.length+1));r.write_shift(2,2048);var n=Vn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Koe(e){return e||(e=Be(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Voe(e,t,r){if(!r.cellStyles)return Bo(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),A=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:o,ixfe:l,flags:A};return(r.biff>=5||!r.biff)&&(c.level=A>>8&7),c}function $oe(e,t){var r=Be(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Goe(e){for(var t=Be(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Woe(e,t,r){var n=Be(15);return Hm(n,e,t),n.write_shift(8,r,"f"),n}function zoe(e,t,r){var n=Be(9);return Hm(n,e,t),n.write_shift(2,r),n}var Xoe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=UB({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,A){var c=[],d=_c(1);switch(A.type){case"base64":d=Ni(dl(l));break;case"binary":d=Ni(l);break;case"buffer":case"array":d=l;break}Ca(d,0);var u=d.read_shift(1),f=!!(u&136),m=!1,p=!1;switch(u){case 2:break;case 3:break;case 48:m=!0,f=!0;break;case 49:m=!0,f=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+u.toString(16))}var h=0,x=521;u==2&&(h=d.read_shift(2)),d.l+=3,u!=2&&(h=d.read_shift(4)),h>1048576&&(h=1e6),u!=2&&(x=d.read_shift(2));var y=d.read_shift(2),g=A.codepage||1252;u!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(g=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var w=[],b={},C=Math.min(d.length,u==2?521:x-10-(m?264:0)),N=p?32:11;d.l<C&&d[d.l]!=13;)switch(b={},b.name=Dg.utils.decode(g,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,b.type=String.fromCharCode(d.read_shift(1)),u!=2&&!p&&(b.offset=d.read_shift(4)),b.len=d.read_shift(1),u==2&&(b.offset=d.read_shift(2)),b.dec=d.read_shift(1),b.name.length&&w.push(b),u!=2&&(d.l+=p?13:14),b.type){case"B":(!m||b.len!=8)&&A.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":A.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var B=0,F=0;for(c[0]=[],F=0;F!=w.length;++F)c[0][F]=w[F].name;for(;h-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,c[++B]=[],F=0,F=0;F!=w.length;++F){var E=d.slice(d.l,d.l+w[F].len);d.l+=w[F].len,Ca(E,0);var U=Dg.utils.decode(g,E);switch(w[F].type){case"C":U.trim().length&&(c[B][F]=U.replace(/\s+$/,""));break;case"D":U.length===8?c[B][F]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):c[B][F]=U;break;case"F":c[B][F]=parseFloat(U.trim());break;case"+":case"I":c[B][F]=p?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":c[B][F]=!0;break;case"N":case"F":c[B][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+u.toString(16));c[B][F]="##MEMO##"+(p?parseInt(U.trim(),10):E.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(c[B][F]=+U||0);break;case"@":c[B][F]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":c[B][F]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":c[B][F]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[B][F]=-E.read_shift(-8,"f");break;case"B":if(m&&w[F].len==8){c[B][F]=E.read_shift(8,"f");break}case"G":case"P":E.l+=w[F].len;break;case"0":if(w[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[F].type)}}}if(u!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return A&&A.sheetRows&&(c=c.slice(0,A.sheetRows)),A.DBF=w,c}function n(l,A){var c=A||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Ju(r(l,c),c);return d["!cols"]=c.DBF.map(function(u){return{wch:u.len,DBF:u}}),delete c.DBF,d}function a(l,A){try{return Vc(n(l,A),A)}catch(c){if(A&&A.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,A){var c=A||{};if(+c.codepage>=0&&rm(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=da(),u=qg(l,{header:1,raw:!0,cellDates:!0}),f=u[0],m=u.slice(1),p=l["!cols"]||[],h=0,x=0,y=0,g=1;for(h=0;h<f.length;++h){if(((p[h]||{}).DBF||{}).name){f[h]=p[h].DBF.name,++y;continue}if(f[h]!=null){if(++y,typeof f[h]=="number"&&(f[h]=f[h].toString(10)),typeof f[h]!="string")throw new Error("DBF Invalid column name "+f[h]+" |"+typeof f[h]+"|");if(f.indexOf(f[h])!==h){for(x=0;x<1024;++x)if(f.indexOf(f[h]+"_"+x)==-1){f[h]+="_"+x;break}}}}var w=Gr(l["!ref"]),b=[],C=[],N=[];for(h=0;h<=w.e.c-w.s.c;++h){var B="",F="",E=0,U=[];for(x=0;x<m.length;++x)m[x][h]!=null&&U.push(m[x][h]);if(U.length==0||f[h]==null){b[h]="?";continue}for(x=0;x<U.length;++x){switch(typeof U[x]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=U[x]instanceof Date?"D":"C";break;default:F="C"}E=Math.max(E,String(U[x]).length),B=B&&B!=F?"C":F}E>250&&(E=250),F=((p[h]||{}).DBF||{}).type,F=="C"&&p[h].DBF.len>E&&(E=p[h].DBF.len),B=="B"&&F=="N"&&(B="N",N[h]=p[h].DBF.dec,E=p[h].DBF.len),C[h]=B=="C"||F=="N"?E:i[B]||0,g+=C[h],b[h]=B}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*y),P.write_shift(2,g),h=0;h<4;++h)P.write_shift(4,0);for(P.write_shift(4,0|(+t[sM]||3)<<8),h=0,x=0;h<f.length;++h)if(f[h]!=null){var O=d.next(32),X=(f[h].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,X,"sbcs"),O.write_shift(1,b[h]=="?"?"C":b[h],"sbcs"),O.write_shift(4,x),O.write_shift(1,C[h]||i[b[h]]||0),O.write_shift(1,N[h]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),x+=C[h]||i[b[h]]||0}var ae=d.next(264);for(ae.write_shift(4,13),h=0;h<65;++h)ae.write_shift(4,0);for(h=0;h<m.length;++h){var he=d.next(g);for(he.write_shift(1,0),x=0;x<f.length;++x)if(f[x]!=null)switch(b[x]){case"L":he.write_shift(1,m[h][x]==null?63:m[h][x]?84:70);break;case"B":he.write_shift(8,m[h][x]||0,"f");break;case"N":var q="0";for(typeof m[h][x]=="number"&&(q=m[h][x].toFixed(N[x]||0)),y=0;y<C[x]-q.length;++y)he.write_shift(1,32);he.write_shift(1,q,"sbcs");break;case"D":m[h][x]?(he.write_shift(4,("0000"+m[h][x].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(m[h][x].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+m[h][x].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var ne=String(m[h][x]!=null?m[h][x]:"").slice(0,C[x]);for(he.write_shift(1,ne,"sbcs"),y=0;y<C[x]-ne.length;++y)he.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),qoe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ds(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(f,m){var p=e[m];return typeof p=="number"?$E(p):p},n=function(f,m,p){var h=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return h==59?f:$E(h)};e["|"]=254;function a(f,m){switch(m.type){case"base64":return i(dl(f),m);case"binary":return i(f,m);case"buffer":return i(br&&Buffer.isBuffer(f)?f.toString("binary"):Pm(f),m);case"array":return i(gv(f),m)}throw new Error("Unrecognized type "+m.type)}function i(f,m){var p=f.split(/[\n\r]+/),h=-1,x=-1,y=0,g=0,w=[],b=[],C=null,N={},B=[],F=[],E=[],U=0,P;for(+m.codepage>=0&&rm(+m.codepage);y!==p.length;++y){U=0;var O=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),X=O.replace(/;;/g,"\0").split(";").map(function(M){return M.replace(/\u0000/g,";")}),ae=X[0],he;if(O.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&b.push(O.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,ne=!1,H=!1,J=!1,de=-1,se=-1;for(g=1;g<X.length;++g)switch(X[g].charAt(0)){case"A":break;case"X":x=parseInt(X[g].slice(1))-1,ne=!0;break;case"Y":for(h=parseInt(X[g].slice(1))-1,ne||(x=0),P=w.length;P<=h;++P)w[P]=[];break;case"K":he=X[g].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(qo(he))?isNaN(sm(he).getDate())||(he=Ms(he)):(he=qo(he),C!==null&&pM(C)&&(he=yM(he))),q=!0;break;case"E":J=!0;var D=zle(X[g].slice(1),{r:h,c:x});w[h][x]=[w[h][x],D];break;case"S":H=!0,w[h][x]=[w[h][x],"S5S"];break;case"G":break;case"R":de=parseInt(X[g].slice(1))-1;break;case"C":se=parseInt(X[g].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}if(q&&(w[h][x]&&w[h][x].length==2?w[h][x][0]=he:w[h][x]=he,C=null),H){if(J)throw new Error("SYLK shared formula cannot have own formula");var j=de>-1&&w[de][se];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");w[h][x][1]=Xle(j[1],{r:h-de,c:x-se})}break;case"F":var k=0;for(g=1;g<X.length;++g)switch(X[g].charAt(0)){case"X":x=parseInt(X[g].slice(1))-1,++k;break;case"Y":for(h=parseInt(X[g].slice(1))-1,P=w.length;P<=h;++P)w[P]=[];break;case"M":U=parseInt(X[g].slice(1))/20;break;case"F":break;case"G":break;case"P":C=b[parseInt(X[g].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=X[g].slice(1).split(" "),P=parseInt(E[0],10);P<=parseInt(E[1],10);++P)U=parseInt(E[2],10),F[P-1]=U===0?{hidden:!0}:{wch:U},GB(F[P-1]);break;case"C":x=parseInt(X[g].slice(1))-1,F[x]||(F[x]={});break;case"R":h=parseInt(X[g].slice(1))-1,B[h]||(B[h]={}),U>0?(B[h].hpt=U,B[h].hpx=o5(U)):U===0&&(B[h].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}k<1&&(C=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}}return B.length>0&&(N["!rows"]=B),F.length>0&&(N["!cols"]=F),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,N]}function o(f,m){var p=a(f,m),h=p[0],x=p[1],y=Ju(h,m);return ds(x).forEach(function(g){y[g]=x[g]}),y}function l(f,m){return Vc(o(f,m),m)}function A(f,m,p,h){var x="C;Y"+(p+1)+";X"+(h+1)+";K";switch(f.t){case"n":x+=f.v||0,f.f&&!f.F&&(x+=";E"+zB(f.f,{r:p,c:h}));break;case"b":x+=f.v?"TRUE":"FALSE";break;case"e":x+=f.w||f.v;break;case"d":x+='"'+(f.w||f.v)+'"';break;case"s":x+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function c(f,m){m.forEach(function(p,h){var x="F;W"+(h+1)+" "+(h+1)+" ";p.hidden?x+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=$g(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Gg(p.wpx)),typeof p.wch=="number"&&(x+=Math.round(p.wch))),x.charAt(x.length-1)!=" "&&f.push(x)})}function d(f,m){m.forEach(function(p,h){var x="F;";p.hidden?x+="M0;":p.hpt?x+="M"+20*p.hpt+";":p.hpx&&(x+="M"+20*Wg(p.hpx)+";"),x.length>2&&f.push(x+"R"+(h+1))})}function u(f,m){var p=["ID;PWXL;N;E"],h=[],x=Gr(f["!ref"]),y,g=Array.isArray(f),w=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),f["!cols"]&&c(p,f["!cols"]),f["!rows"]&&d(p,f["!rows"]),p.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var b=x.s.r;b<=x.e.r;++b)for(var C=x.s.c;C<=x.e.c;++C){var N=Ir({r:b,c:C});y=g?(f[b]||[])[C]:f[N],!(!y||y.v==null&&(!y.f||y.F))&&h.push(A(y,f,b,C))}return p.join(w)+w+h.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),Yoe=function(){function e(i,o){switch(o.type){case"base64":return t(dl(i),o);case"binary":return t(i,o);case"buffer":return t(br&&Buffer.isBuffer(i)?i.toString("binary"):Pm(i),o);case"array":return t(gv(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),A=-1,c=-1,d=0,u=[];d!==l.length;++d){if(l[d].trim()==="BOT"){u[++A]=[],c=0;continue}if(!(A<0)){var f=l[d].trim().split(","),m=f[0],p=f[1];++d;for(var h=l[d]||"";(h.match(/["]/g)||[]).length&1&&d<l.length-1;)h+=`
`+l[++d];switch(h=h.trim(),+m){case-1:if(h==="BOT"){u[++A]=[],c=0;continue}else if(h!=="EOD")throw new Error("Unrecognized DIF special command "+h);break;case 0:h==="TRUE"?u[A][c]=!0:h==="FALSE"?u[A][c]=!1:isNaN(qo(p))?isNaN(sm(p).getDate())?u[A][c]=p:u[A][c]=Ms(p):u[A][c]=qo(p),++c;break;case 1:h=h.slice(1,h.length-1),h=h.replace(/""/g,'"'),h&&h.match(/^=".*"$/)&&(h=h.slice(2,-1)),u[A][c++]=h!==""?h:null;break}if(h==="EOD")break}}return o&&o.sheetRows&&(u=u.slice(0,o.sheetRows)),u}function r(i,o){return Ju(e(i,o),o)}function n(i,o){return Vc(r(i,o),o)}var a=function(){var i=function(A,c,d,u,f){A.push(c),A.push(d+","+u),A.push('"'+f.replace(/"/g,'""')+'"')},o=function(A,c,d,u){A.push(c+","+d),A.push(c==1?'"'+u.replace(/"/g,'""')+'"':u)};return function(A){var c=[],d=Gr(A["!ref"]),u,f=Array.isArray(A);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,d.e.r-d.s.r+1,""),i(c,"TUPLES",0,d.e.c-d.s.c+1,""),i(c,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(c,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var h=Ir({r:m,c:p});if(u=f?(A[m]||[])[p]:A[h],!u){o(c,1,0,"");continue}switch(u.t){case"n":var x=u.w;!x&&u.v!=null&&(x=u.v),x==null?u.f&&!u.F?o(c,1,0,"="+u.f):o(c,1,0,""):o(c,0,x,"V");break;case"b":o(c,0,u.v?1:0,u.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(u.v)?u.v:'="'+u.v+'"');break;case"d":u.w||(u.w=wA(u.z||dn[14],ha(Ms(u.v)))),o(c,0,u.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var y=`\r
`,g=c.join(y);return g}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),n5=function(){function e(u){return u.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(u,f){for(var m=u.split(`
`),p=-1,h=-1,x=0,y=[];x!==m.length;++x){var g=m[x].trim().split(":");if(g[0]==="cell"){var w=Vn(g[1]);if(y.length<=w.r)for(p=y.length;p<=w.r;++p)y[p]||(y[p]=[]);switch(p=w.r,h=w.c,g[2]){case"t":y[p][h]=e(g[3]);break;case"v":y[p][h]=+g[3];break;case"vtf":var b=g[g.length-1];case"vtc":switch(g[3]){case"nl":y[p][h]=!!+g[4];break;default:y[p][h]=+g[4];break}g[2]=="vtf"&&(y[p][h]=[y[p][h],b])}}}return f&&f.sheetRows&&(y=y.slice(0,f.sheetRows)),y}function n(u,f){return Ju(r(u,f),f)}function a(u,f){return Vc(n(u,f),f)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),A="--SocialCalcSpreadsheetControlSave--";function c(u){if(!u||!u["!ref"])return"";for(var f=[],m=[],p,h="",x=Ia(u["!ref"]),y=Array.isArray(u),g=x.s.r;g<=x.e.r;++g)for(var w=x.s.c;w<=x.e.c;++w)if(h=Ir({r:g,c:w}),p=y?(u[g]||[])[w]:u[h],!(!p||p.v==null||p.t==="z")){switch(m=["cell",h,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var b=ha(Ms(p.v));m[2]="vtc",m[3]="nd",m[4]=""+b,m[5]=p.w||wA(p.z||dn[14],b);break;case"e":continue}f.push(m.join(":"))}return f.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function d(u){return[i,o,l,o,c(u),A].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Joe=function(){function e(d,u,f,m,p){p.raw?u[f][m]=d:d===""||(d==="TRUE"?u[f][m]=!0:d==="FALSE"?u[f][m]=!1:isNaN(qo(d))?isNaN(sm(d).getDate())?u[f][m]=d:u[f][m]=Ms(d):u[f][m]=qo(d))}function t(d,u){var f=u||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),h=p.length-1;h>=0&&p[h].length===0;)--h;for(var x=10,y=0,g=0;g<=h;++g)y=p[g].indexOf(" "),y==-1?y=p[g].length:y++,x=Math.max(x,y);for(g=0;g<=h;++g){m[g]=[];var w=0;for(e(p[g].slice(0,x).trim(),m,g,w,f),w=1;w<=(p[g].length-x)/10+1;++w)e(p[g].slice(x+(w-1)*10,x+w*10).trim(),m,g,w,f)}return f.sheetRows&&(m=m.slice(0,f.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var u={},f=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?f=!f:!f&&p in r&&(u[p]=(u[p]||0)+1);p=[];for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&p.push([u[m],m]);if(!p.length){u=n;for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&p.push([u[m],m])}return p.sort(function(h,x){return h[0]-x[0]||n[h[1]]-n[x[1]]}),r[p.pop()[1]]||44}function i(d,u){var f=u||{},m="",p=f.dense?[]:{},h={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):f&&f.FS?m=f.FS:m=a(d.slice(0,1024));var x=0,y=0,g=0,w=0,b=0,C=m.charCodeAt(0),N=!1,B=0,F=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var E=f.dateNF!=null?hie(f.dateNF):null;function U(){var P=d.slice(w,b),O={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)O.t="z";else if(f.raw)O.t="s",O.v=P;else if(P.trim().length===0)O.t="s",O.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(O.t="s",O.v=P.slice(2,-1).replace(/""/g,'"')):qle(P)?(O.t="n",O.f=P.slice(1)):(O.t="s",O.v=P);else if(P=="TRUE")O.t="b",O.v=!0;else if(P=="FALSE")O.t="b",O.v=!1;else if(!isNaN(g=qo(P)))O.t="n",f.cellText!==!1&&(O.w=P),O.v=g;else if(!isNaN(sm(P).getDate())||E&&P.match(E)){O.z=f.dateNF||dn[14];var X=0;E&&P.match(E)&&(P=mie(P,f.dateNF,P.match(E)||[]),X=1),f.cellDates?(O.t="d",O.v=Ms(P,X)):(O.t="n",O.v=ha(Ms(P,X))),f.cellText!==!1&&(O.w=wA(O.z,O.v instanceof Date?ha(O.v):O.v)),f.cellNF||delete O.z}else O.t="s",O.v=P;if(O.t=="z"||(f.dense?(p[x]||(p[x]=[]),p[x][y]=O):p[Ir({c:y,r:x})]=O),w=b+1,F=d.charCodeAt(w),h.e.c<y&&(h.e.c=y),h.e.r<x&&(h.e.r=x),B==C)++y;else if(y=0,++x,f.sheetRows&&f.sheetRows<=x)return!0}e:for(;b<d.length;++b)switch(B=d.charCodeAt(b)){case 34:F===34&&(N=!N);break;case C:case 10:case 13:if(!N&&U())break e;break}return b-w>0&&U(),p["!ref"]=En(h),p}function o(d,u){return!(u&&u.PRN)||u.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,u):Ju(t(d,u),u)}function l(d,u){var f="",m=u.type=="string"?[0,0,0,0]:cfe(d,u);switch(u.type){case"base64":f=dl(d);break;case"binary":f=d;break;case"buffer":u.codepage==65001?f=d.toString("utf8"):u.codepage&&typeof Dg<"u"||(f=br&&Buffer.isBuffer(d)?d.toString("binary"):Pm(d));break;case"array":f=gv(d);break;case"string":f=d;break;default:throw new Error("Unrecognized type "+u.type)}return m[0]==239&&m[1]==187&&m[2]==191?f=ah(f.slice(3)):u.type!="string"&&u.type!="buffer"&&u.codepage==65001?f=ah(f):u.type=="binary"&&typeof Dg<"u",f.slice(0,19)=="socialcalc:version:"?n5.to_sheet(u.type=="string"?f:ah(f),u):o(f,u)}function A(d,u){return Vc(l(d,u),u)}function c(d){for(var u=[],f=Gr(d["!ref"]),m,p=Array.isArray(d),h=f.s.r;h<=f.e.r;++h){for(var x=[],y=f.s.c;y<=f.e.c;++y){var g=Ir({r:h,c:y});if(m=p?(d[h]||[])[y]:d[g],!m||m.v==null){x.push("          ");continue}for(var w=(m.w||(ul(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(y===0?" ":""))}u.push(x.join(""))}return u.join(`
`)}return{to_workbook:A,to_sheet:l,from_sheet:c}}(),bS=function(){function e(D,j,k){if(D){Ca(D,D.l||0);for(var M=k.Enum||de;D.l<D.length;){var S=D.read_shift(2),_=M[S]||M[65535],Z=D.read_shift(2),K=D.l+Z,re=_.f&&_.f(D,Z,k);if(D.l=K,j(re,_,S))return}}}function t(D,j){switch(j.type){case"base64":return r(Ni(dl(D)),j);case"binary":return r(Ni(D),j);case"buffer":case"array":return r(D,j)}throw"Unsupported type "+j.type}function r(D,j){if(!D)return D;var k=j||{},M=k.dense?[]:{},S="Sheet1",_="",Z=0,K={},re=[],ye=[],Te={s:{r:0,c:0},e:{r:0,c:0}},Nt=k.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)k.Enum=de,e(D,function(He,Tt,dr){switch(dr){case 0:k.vers=He,He>=4096&&(k.qpro=!0);break;case 6:Te=He;break;case 204:He&&(_=He);break;case 222:_=He;break;case 15:case 51:k.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:dr==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=k.dateNF||dn[14],k.cellDates&&(He[1].t="d",He[1].v=yM(He[1].v))),k.qpro&&He[3]>Z&&(M["!ref"]=En(Te),K[S]=M,re.push(S),M=k.dense?[]:{},Te={s:{r:0,c:0},e:{r:0,c:0}},Z=He[3],S=_||"Sheet"+(Z+1),_="");var Y=k.dense?(M[He[0].r]||[])[He[0].c]:M[Ir(He[0])];if(Y){Y.t=He[1].t,Y.v=He[1].v,He[1].z!=null&&(Y.z=He[1].z),He[1].f!=null&&(Y.f=He[1].f);break}k.dense?(M[He[0].r]||(M[He[0].r]=[]),M[He[0].r][He[0].c]=He[1]):M[Ir(He[0])]=He[1];break}},k);else if(D[2]==26||D[2]==14)k.Enum=se,D[2]==14&&(k.qpro=!0,D.l=0),e(D,function(He,Tt,dr){switch(dr){case 204:S=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Z&&(M["!ref"]=En(Te),K[S]=M,re.push(S),M=k.dense?[]:{},Te={s:{r:0,c:0},e:{r:0,c:0}},Z=He[3],S="Sheet"+(Z+1)),Nt>0&&He[0].r>=Nt)break;k.dense?(M[He[0].r]||(M[He[0].r]=[]),M[He[0].r][He[0].c]=He[1]):M[Ir(He[0])]=He[1],Te.e.c<He[0].c&&(Te.e.c=He[0].c),Te.e.r<He[0].r&&(Te.e.r=He[0].r);break;case 27:He[14e3]&&(ye[He[14e3][0]]=He[14e3][1]);break;case 1537:ye[He[0]]=He[1],He[0]==Z&&(S=He[1]);break}},k);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(M["!ref"]=En(Te),K[_||S]=M,re.push(_||S),!ye.length)return{SheetNames:re,Sheets:K};for(var mt={},Vt=[],$t=0;$t<ye.length;++$t)K[re[$t]]?(Vt.push(ye[$t]||re[$t]),mt[ye[$t]]=K[ye[$t]]||K[re[$t]]):(Vt.push(ye[$t]),mt[ye[$t]]={"!ref":"A1"});return{SheetNames:Vt,Sheets:mt}}function n(D,j){var k=j||{};if(+k.codepage>=0&&rm(+k.codepage),k.type=="string")throw new Error("Cannot write WK1 to JS string");var M=da(),S=Gr(D["!ref"]),_=Array.isArray(D),Z=[];tt(M,0,i(1030)),tt(M,6,A(S));for(var K=Math.min(S.e.r,8191),re=S.s.r;re<=K;++re)for(var ye=As(re),Te=S.s.c;Te<=S.e.c;++Te){re===S.s.r&&(Z[Te]=bs(Te));var Nt=Z[Te]+ye,mt=_?(D[re]||[])[Te]:D[Nt];if(!(!mt||mt.t=="z"))if(mt.t=="n")(mt.v|0)==mt.v&&mt.v>=-32768&&mt.v<=32767?tt(M,13,m(re,Te,mt.v)):tt(M,14,h(re,Te,mt.v));else{var Vt=ul(mt);tt(M,15,u(re,Te,Vt.slice(0,239)))}}return tt(M,1),M.end()}function a(D,j){var k=j||{};if(+k.codepage>=0&&rm(+k.codepage),k.type=="string")throw new Error("Cannot write WK3 to JS string");var M=da();tt(M,0,o(D));for(var S=0,_=0;S<D.SheetNames.length;++S)(D.Sheets[D.SheetNames[S]]||{})["!ref"]&&tt(M,27,J(D.SheetNames[S],_++));var Z=0;for(S=0;S<D.SheetNames.length;++S){var K=D.Sheets[D.SheetNames[S]];if(!(!K||!K["!ref"])){for(var re=Gr(K["!ref"]),ye=Array.isArray(K),Te=[],Nt=Math.min(re.e.r,8191),mt=re.s.r;mt<=Nt;++mt)for(var Vt=As(mt),$t=re.s.c;$t<=re.e.c;++$t){mt===re.s.r&&(Te[$t]=bs($t));var He=Te[$t]+Vt,Tt=ye?(K[mt]||[])[$t]:K[He];if(!(!Tt||Tt.t=="z"))if(Tt.t=="n")tt(M,23,U(mt,$t,Z,Tt.v));else{var dr=ul(Tt);tt(M,22,B(mt,$t,Z,dr.slice(0,239)))}}++Z}}return tt(M,1),M.end()}function i(D){var j=Be(2);return j.write_shift(2,D),j}function o(D){var j=Be(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var k=0,M=0,S=0,_=0;_<D.SheetNames.length;++_){var Z=D.SheetNames[_],K=D.Sheets[Z];if(!(!K||!K["!ref"])){++S;var re=Ia(K["!ref"]);k<re.e.r&&(k=re.e.r),M<re.e.c&&(M=re.e.c)}}return k>8191&&(k=8191),j.write_shift(2,k),j.write_shift(1,S),j.write_shift(1,M),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function l(D,j,k){var M={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&k.qpro?(M.s.c=D.read_shift(1),D.l++,M.s.r=D.read_shift(2),M.e.c=D.read_shift(1),D.l++,M.e.r=D.read_shift(2),M):(M.s.c=D.read_shift(2),M.s.r=D.read_shift(2),j==12&&k.qpro&&(D.l+=2),M.e.c=D.read_shift(2),M.e.r=D.read_shift(2),j==12&&k.qpro&&(D.l+=2),M.s.c==65535&&(M.s.c=M.e.c=M.s.r=M.e.r=0),M)}function A(D){var j=Be(8);return j.write_shift(2,D.s.c),j.write_shift(2,D.s.r),j.write_shift(2,D.e.c),j.write_shift(2,D.e.r),j}function c(D,j,k){var M=[{c:0,r:0},{t:"n",v:0},0,0];return k.qpro&&k.vers!=20768?(M[0].c=D.read_shift(1),M[3]=D.read_shift(1),M[0].r=D.read_shift(2),D.l+=2):(M[2]=D.read_shift(1),M[0].c=D.read_shift(2),M[0].r=D.read_shift(2)),M}function d(D,j,k){var M=D.l+j,S=c(D,j,k);if(S[1].t="s",k.vers==20768){D.l++;var _=D.read_shift(1);return S[1].v=D.read_shift(_,"utf8"),S}return k.qpro&&D.l++,S[1].v=D.read_shift(M-D.l,"cstr"),S}function u(D,j,k){var M=Be(7+k.length);M.write_shift(1,255),M.write_shift(2,j),M.write_shift(2,D),M.write_shift(1,39);for(var S=0;S<M.length;++S){var _=k.charCodeAt(S);M.write_shift(1,_>=128?95:_)}return M.write_shift(1,0),M}function f(D,j,k){var M=c(D,j,k);return M[1].v=D.read_shift(2,"i"),M}function m(D,j,k){var M=Be(7);return M.write_shift(1,255),M.write_shift(2,j),M.write_shift(2,D),M.write_shift(2,k,"i"),M}function p(D,j,k){var M=c(D,j,k);return M[1].v=D.read_shift(8,"f"),M}function h(D,j,k){var M=Be(13);return M.write_shift(1,255),M.write_shift(2,j),M.write_shift(2,D),M.write_shift(8,k,"f"),M}function x(D,j,k){var M=D.l+j,S=c(D,j,k);if(S[1].v=D.read_shift(8,"f"),k.qpro)D.l=M;else{var _=D.read_shift(2);b(D.slice(D.l,D.l+_),S),D.l+=_}return S}function y(D,j,k){var M=j&32768;return j&=-32769,j=(M?D:0)+(j>=8192?j-16384:j),(M?"":"$")+(k?bs(j):As(j))}var g={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(D,j){Ca(D,0);for(var k=[],M=0,S="",_="",Z="",K="";D.l<D.length;){var re=D[D.l++];switch(re){case 0:k.push(D.read_shift(8,"f"));break;case 1:_=y(j[0].c,D.read_shift(2),!0),S=y(j[0].r,D.read_shift(2),!1),k.push(_+S);break;case 2:{var ye=y(j[0].c,D.read_shift(2),!0),Te=y(j[0].r,D.read_shift(2),!1);_=y(j[0].c,D.read_shift(2),!0),S=y(j[0].r,D.read_shift(2),!1),k.push(ye+Te+":"+_+S)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:k.push("("+k.pop()+")");break;case 5:k.push(D.read_shift(2));break;case 6:{for(var Nt="";re=D[D.l++];)Nt+=String.fromCharCode(re);k.push('"'+Nt.replace(/"/g,'""')+'"')}break;case 8:k.push("-"+k.pop());break;case 23:k.push("+"+k.pop());break;case 22:k.push("NOT("+k.pop()+")");break;case 20:case 21:K=k.pop(),Z=k.pop(),k.push(["AND","OR"][re-20]+"("+Z+","+K+")");break;default:if(re<32&&w[re])K=k.pop(),Z=k.pop(),k.push(Z+w[re]+K);else if(g[re]){if(M=g[re][1],M==69&&(M=D[D.l++]),M>k.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+k.join("|")+"|");return}var mt=k.slice(-M);k.length-=M,k.push(g[re][0]+"("+mt.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}k.length==1?j[1].f=""+k[0]:console.error("WK1 bad formula parse |"+k.join("|")+"|")}function C(D){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=D.read_shift(2),j[3]=D[D.l++],j[0].c=D[D.l++],j}function N(D,j){var k=C(D);return k[1].t="s",k[1].v=D.read_shift(j-4,"cstr"),k}function B(D,j,k,M){var S=Be(6+M.length);S.write_shift(2,D),S.write_shift(1,k),S.write_shift(1,j),S.write_shift(1,39);for(var _=0;_<M.length;++_){var Z=M.charCodeAt(_);S.write_shift(1,Z>=128?95:Z)}return S.write_shift(1,0),S}function F(D,j){var k=C(D);k[1].v=D.read_shift(2);var M=k[1].v>>1;if(k[1].v&1)switch(M&7){case 0:M=(M>>3)*5e3;break;case 1:M=(M>>3)*500;break;case 2:M=(M>>3)/20;break;case 3:M=(M>>3)/200;break;case 4:M=(M>>3)/2e3;break;case 5:M=(M>>3)/2e4;break;case 6:M=(M>>3)/16;break;case 7:M=(M>>3)/64;break}return k[1].v=M,k}function E(D,j){var k=C(D),M=D.read_shift(4),S=D.read_shift(4),_=D.read_shift(2);if(_==65535)return M===0&&S===3221225472?(k[1].t="e",k[1].v=15):M===0&&S===3489660928?(k[1].t="e",k[1].v=42):k[1].v=0,k;var Z=_&32768;return _=(_&32767)-16446,k[1].v=(1-Z*2)*(S*Math.pow(2,_+32)+M*Math.pow(2,_)),k}function U(D,j,k,M){var S=Be(14);if(S.write_shift(2,D),S.write_shift(1,k),S.write_shift(1,j),M==0)return S.write_shift(4,0),S.write_shift(4,0),S.write_shift(2,65535),S;var _=0,Z=0,K=0,re=0;return M<0&&(_=1,M=-M),Z=Math.log2(M)|0,M/=Math.pow(2,Z-31),re=M>>>0,re&2147483648||(M/=2,++Z,re=M>>>0),M-=re,re|=2147483648,re>>>=0,M*=Math.pow(2,32),K=M>>>0,S.write_shift(4,K),S.write_shift(4,re),Z+=16383+(_?32768:0),S.write_shift(2,Z),S}function P(D,j){var k=E(D);return D.l+=j-14,k}function O(D,j){var k=C(D),M=D.read_shift(4);return k[1].v=M>>6,k}function X(D,j){var k=C(D),M=D.read_shift(8,"f");return k[1].v=M,k}function ae(D,j){var k=X(D);return D.l+=j-10,k}function he(D,j){return D[D.l+j-1]==0?D.read_shift(j,"cstr"):""}function q(D,j){var k=D[D.l++];k>j-1&&(k=j-1);for(var M="";M.length<k;)M+=String.fromCharCode(D[D.l++]);return M}function ne(D,j,k){if(!(!k.qpro||j<21)){var M=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var S=D.read_shift(j-21,"cstr");return[M,S]}}function H(D,j){for(var k={},M=D.l+j;D.l<M;){var S=D.read_shift(2);if(S==14e3){for(k[S]=[0,""],k[S][0]=D.read_shift(2);D[D.l];)k[S][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return k}function J(D,j){var k=Be(5+D.length);k.write_shift(2,14e3),k.write_shift(2,j);for(var M=0;M<D.length;++M){var S=D.charCodeAt(M);k[k.l++]=S>127?95:S}return k[k.l++]=0,k}var de={0:{n:"BOF",f:JM},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),Zoe=/^\s|\s$|[\t\n\r]/;function s5(e,t){if(!t.bookSST)return"";var r=[Fn];r[r.length]=et("sst",null,{xmlns:Yu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Zoe)&&(i+=' xml:space="preserve"'),i+=">"+_r(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function ele(e){return[e.read_shift(4),e.read_shift(4)]}function tle(e,t){return t||(t=Be(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var rle=Gie;function nle(e){var t=da();Re(t,159,tle(e));for(var r=0;r<e.length;++r)Re(t,19,rle(e[r]));return Re(t,160),t.end()}function sle(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function a5(e){var t=0,r,n=sle(e),a=n.length+1,i,o,l,A,c;for(r=_c(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,A=t<<1&32767,c=l|A,t=c^o;return t^52811}var ale=function(){function e(a,i){switch(i.type){case"base64":return t(dl(a),i);case"binary":return t(a,i);case"buffer":return t(br&&Buffer.isBuffer(a)?a.toString("binary"):Pm(a),i);case"array":return t(gv(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},A=a.match(/\\trowd.*?\\row\b/g);if(!A.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:A.length-1}};return A.forEach(function(d,u){Array.isArray(l)&&(l[u]=[]);for(var f=/\\\w+\b/g,m=0,p,h=-1;p=f.exec(d);){switch(p[0]){case"\\cell":var x=d.slice(m,f.lastIndex-p[0].length);if(x[0]==" "&&(x=x.slice(1)),++h,x.length){var y={v:x,t:"s"};Array.isArray(l)?l[u][h]=y:l[Ir({r:u,c:h})]=y}break}m=f.lastIndex}h>c.e.c&&(c.e.c=h)}),l["!ref"]=En(c),l}function r(a,i){return Vc(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Gr(a["!ref"]),l,A=Array.isArray(a),c=o.s.r;c<=o.e.r;++c){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var u=Ir({r:c,c:d});l=A?(a[c]||[])[d]:a[u],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ul(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function CS(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var ile=6,Yo=ile;function $g(e){return Math.floor((e+Math.round(128/Yo)/256)*Yo)}function Gg(e){return Math.floor((e-5)/Yo*100+.5)/100}function gb(e){return Math.round((e*Yo+5)/Yo*256)/256}function GB(e){e.width?(e.wpx=$g(e.width),e.wch=Gg(e.wpx),e.MDW=Yo):e.wpx?(e.wch=Gg(e.wpx),e.width=gb(e.wch),e.MDW=Yo):typeof e.wch=="number"&&(e.width=gb(e.wch),e.wpx=$g(e.width),e.MDW=Yo),e.customWidth&&delete e.customWidth}var ole=96,i5=ole;function Wg(e){return e*96/i5}function o5(e){return e*i5/96}function lle(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=et("numFmt",null,{numFmtId:n,formatCode:_r(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Ale(e){var t=[];return t[t.length]=et("cellXfs",null),e.forEach(function(r){t[t.length]=et("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function l5(e,t){var r=[Fn,et("styleSheet",null,{xmlns:Yu[0],"xmlns:vt":Kn.vt})],n;return e.SSF&&(n=lle(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Ale(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function cle(e,t){var r=e.read_shift(2),n=Cs(e);return[r,n]}function dle(e,t,r){r||(r=Be(6+4*t.length)),r.write_shift(2,e),$n(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function ule(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Zie(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var A=e.read_shift(1);switch(A>0&&(n.charset=A),e.l++,n.color=Jie(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Cs(e),n}function fle(e,t){t||(t=Be(25+4*32)),t.write_shift(2,e.sz*20),eoe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Kg(e.color,t);var n=0;return n=2,t.write_shift(1,n),$n(e.name,t),t.length>t.l?t.slice(0,t.l):t}var hle=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Yy,mle=Bo;function BS(e,t){t||(t=Be(4*3+8*7+16*1)),Yy||(Yy=UB(hle));var r=Yy[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Kg({auto:1},t),Kg({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ple(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function A5(e,t,r){r||(r=Be(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function wf(e,t){return t||(t=Be(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var gle=Bo;function xle(e,t){return t||(t=Be(51)),t.write_shift(1,0),wf(null,t),wf(null,t),wf(null,t),wf(null,t),wf(null,t),t.length>t.l?t.slice(0,t.l):t}function vle(e,t){return t||(t=Be(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Hg(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function yle(e,t,r){var n=Be(2052);return n.write_shift(4,e),Hg(t,n),Hg(r,n),n.length>n.l?n.slice(0,n.l):n}function wle(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Re(e,615,Ii(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Re(e,44,dle(a,t[a]))}),Re(e,616))}}function ble(e){var t=1;Re(e,611,Ii(t)),Re(e,43,fle({sz:12,color:{theme:1},name:"Calibri",family:2})),Re(e,612)}function Cle(e){var t=2;Re(e,603,Ii(t)),Re(e,45,BS({patternType:"none"})),Re(e,45,BS({patternType:"gray125"})),Re(e,604)}function Ble(e){var t=1;Re(e,613,Ii(t)),Re(e,46,xle()),Re(e,614)}function jle(e){var t=1;Re(e,626,Ii(t)),Re(e,47,A5({numFmtId:0},65535)),Re(e,627)}function Nle(e,t){Re(e,617,Ii(t.length)),t.forEach(function(r){Re(e,47,A5(r,0))}),Re(e,618)}function Ele(e){var t=1;Re(e,619,Ii(t)),Re(e,48,vle({xfId:0,name:"Normal"})),Re(e,620)}function Sle(e){var t=0;Re(e,505,Ii(t)),Re(e,506)}function Fle(e){var t=0;Re(e,508,yle(t,"TableStyleMedium9","PivotStyleMedium4")),Re(e,509)}function Tle(e,t){var r=da();return Re(r,278),wle(r,e.SSF),ble(r),Cle(r),Ble(r),jle(r),Nle(r,t.cellXfs),Ele(r),Sle(r),Fle(r),Re(r,279),r.end()}function c5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Fn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _le(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Cs(e)}}function kle(e){var t=Be(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),$n(e.name,t),t.slice(0,t.l)}function Ile(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ule(e){var t=Be(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Qle(e,t){var r=Be(8+2*t.length);return r.write_shift(4,e),$n(t,r),r.slice(0,r.l)}function Dle(e){return e.l+=4,e.read_shift(4)!=0}function Ple(e,t){var r=Be(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Ole(){var e=da();return Re(e,332),Re(e,334,Ii(1)),Re(e,335,kle({name:"XLDAPR",version:12e4,flags:3496657072})),Re(e,336),Re(e,339,Qle(1,"XLDAPR")),Re(e,52),Re(e,35,Ii(514)),Re(e,4096,Ii(0)),Re(e,4097,Va(1)),Re(e,36),Re(e,53),Re(e,340),Re(e,337,Ple(1)),Re(e,51,Ule([[1,0]])),Re(e,338),Re(e,333),e.end()}function d5(){var e=[Fn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Rle(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ir(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var kd=1024;function u5(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[et("xml",null,{"xmlns:v":Na.v,"xmlns:o":Na.o,"xmlns:x":Na.x,"xmlns:mv":Na.mv}).replace(/\/>/,">"),et("o:shapelayout",et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),et("v:shapetype",[et("v:stroke",null,{joinstyle:"miter"}),et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];kd<e*1e3;)kd+=1e3;return t.forEach(function(i){var o=Vn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var A=l.type=="gradient"?et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=et("v:fill",A,l),d={on:"t",obscured:"t"};++kd,a=a.concat(["<v:shape"+im({id:"_x0000_s"+kd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,et("v:shadow",null,d),et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",is("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),is("x:AutoFill","False"),is("x:Row",String(o.r)),is("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function f5(e){var t=[Fn,et("comments",null,{xmlns:Yu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=_r(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(A){A.a&&(a=r.indexOf(_r(A.a))),i.push(A.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(is("t",_r(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(is("t",_r(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Lle(e,t,r){var n=[Fn,et("ThreadedComments",null,{xmlns:Kn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var A={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=A.id:A.parentId=i,o.ID=A.id,o.a&&(A.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(et("threadedComment",is("text",o.t||""),A))})}),n.push("</ThreadedComments>"),n.join("")}function Mle(e){var t=[Fn,et("personList",null,{xmlns:Kn.TCMNT,"xmlns:x":Yu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Hle(e){var t={};t.iauthor=e.read_shift(4);var r=zc(e);return t.rfx=r.s,t.ref=Ir(r.s),e.l+=16,t}function Kle(e,t){return t==null&&(t=Be(36)),t.write_shift(4,e[1].iauthor),Zu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Vle=Cs;function $le(e){return $n(e.slice(0,54))}function Gle(e){var t=da(),r=[];return Re(t,628),Re(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Re(t,632,$le(a.a)))})}),Re(t,631),Re(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Vn(n[0]),e:Vn(n[0])};Re(t,635,Kle([i,a])),a.t&&a.t.length>0&&Re(t,637,zie(a)),Re(t,636),delete a.iauthor})}),Re(t,634),Re(t,629),t.end()}function Wle(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Tr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var h5=["xlsb","xlsm","xlam","biff8","xla"],zle=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,A=!1;i.length==0?A=!0:i.charAt(0)=="["&&(A=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,A?c+=t.r:--c,a+(l?"":"$")+bs(d)+(A?"":"$")+As(c)}return function(a,i){return t=i,a.replace(e,r)}}(),WB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,zB=function(){return function(t,r){return t.replace(WB,function(n,a,i,o,l,A){var c=MB(o)-(i?0:r.c),d=LB(A)-(l?0:r.r),u=d==0?"":l?d+1:"["+d+"]",f=c==0?"":i?c+1:"["+c+"]";return a+"R"+u+"C"+f})}}();function Xle(e,t){return e.replace(WB,function(r,n,a,i,o,l){return n+(a=="$"?a+i:bs(MB(i)+t.c))+(o=="$"?o+l:As(LB(l)+t.r))})}function qle(e){return e.length!=1}function bn(e){e.l+=1}function bA(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function m5(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return p5(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=bA(e),l=bA(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function p5(e){var t=bA(e),r=bA(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Yle(e,t,r){if(r.biff<8)return p5(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=bA(e),o=bA(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function g5(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Jle(e);var n=e.read_shift(r&&r.biff==12?4:2),a=bA(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Jle(e){var t=bA(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Zle(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function eAe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return tAe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function tAe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function rAe(e,t,r){var n=(e[e.l++]&96)>>5,a=m5(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function nAe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=m5(e,i,r);return[n,a,o]}function sAe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function aAe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function iAe(e,t,r){var n=(e[e.l++]&96)>>5,a=Yle(e,t-1,r);return[n,a]}function oAe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function jS(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function lAe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function AAe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function cAe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function dAe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function uAe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function x5(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function fAe(e){return e.read_shift(2),x5(e)}function hAe(e){return e.read_shift(2),x5(e)}function mAe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=g5(e,0,r);return[n,a]}function pAe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=eAe(e,0,r);return[n,a]}function gAe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=g5(e,0,r);return[n,a,i]}function xAe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[xce[a],w5[a],n]}function vAe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:yAe(e);return[a,(i[0]===0?w5:gce)[i[1]]]}function yAe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function wAe(e,t,r){e.l+=r&&r.biff==2?3:4}function bAe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function CAe(e){return e.l++,Lm[e.read_shift(1)]}function BAe(e){return e.l++,e.read_shift(2)}function jAe(e){return e.l++,e.read_shift(1)!==0}function NAe(e){return e.l++,ef(e)}function EAe(e,t,r){return e.l++,e5(e,t-1,r)}function SAe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=goe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Lm[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ef(e);break;case 2:r[1]=woe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function FAe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?zc:Boe)(e));return a}function TAe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=SAe(e,r.biff);return o}function _Ae(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function kAe(e,t,r){if(r.biff==5)return IAe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function IAe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function UAe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function QAe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function DAe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function PAe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var OAe=Bo,RAe=Bo,LAe=Bo;function Mm(e,t,r){return e.l+=2,[Zle(e)]}function XB(e){return e.l+=6,[]}var MAe=Mm,HAe=XB,KAe=XB,VAe=Mm;function v5(e){return e.l+=2,[JM(e),e.read_shift(2)&1]}var $Ae=Mm,GAe=v5,WAe=XB,zAe=Mm,XAe=Mm,qAe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function YAe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=qAe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function JAe(e){return e.l+=2,[e.read_shift(4)]}function ZAe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function ece(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function tce(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function rce(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function nce(e){return e.l+=4,[0,0]}var NS={1:{n:"PtgExp",f:bAe},2:{n:"PtgTbl",f:LAe},3:{n:"PtgAdd",f:bn},4:{n:"PtgSub",f:bn},5:{n:"PtgMul",f:bn},6:{n:"PtgDiv",f:bn},7:{n:"PtgPower",f:bn},8:{n:"PtgConcat",f:bn},9:{n:"PtgLt",f:bn},10:{n:"PtgLe",f:bn},11:{n:"PtgEq",f:bn},12:{n:"PtgGe",f:bn},13:{n:"PtgGt",f:bn},14:{n:"PtgNe",f:bn},15:{n:"PtgIsect",f:bn},16:{n:"PtgUnion",f:bn},17:{n:"PtgRange",f:bn},18:{n:"PtgUplus",f:bn},19:{n:"PtgUminus",f:bn},20:{n:"PtgPercent",f:bn},21:{n:"PtgParen",f:bn},22:{n:"PtgMissArg",f:bn},23:{n:"PtgStr",f:EAe},26:{n:"PtgSheet",f:ZAe},27:{n:"PtgEndSheet",f:ece},28:{n:"PtgErr",f:CAe},29:{n:"PtgBool",f:jAe},30:{n:"PtgInt",f:BAe},31:{n:"PtgNum",f:NAe},32:{n:"PtgArray",f:oAe},33:{n:"PtgFunc",f:xAe},34:{n:"PtgFuncVar",f:vAe},35:{n:"PtgName",f:_Ae},36:{n:"PtgRef",f:mAe},37:{n:"PtgArea",f:rAe},38:{n:"PtgMemArea",f:UAe},39:{n:"PtgMemErr",f:OAe},40:{n:"PtgMemNoMem",f:RAe},41:{n:"PtgMemFunc",f:QAe},42:{n:"PtgRefErr",f:DAe},43:{n:"PtgAreaErr",f:sAe},44:{n:"PtgRefN",f:pAe},45:{n:"PtgAreaN",f:iAe},46:{n:"PtgMemAreaN",f:tce},47:{n:"PtgMemNoMemN",f:rce},57:{n:"PtgNameX",f:kAe},58:{n:"PtgRef3d",f:gAe},59:{n:"PtgArea3d",f:nAe},60:{n:"PtgRefErr3d",f:PAe},61:{n:"PtgAreaErr3d",f:aAe},255:{}},sce={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ace={1:{n:"PtgElfLel",f:v5},2:{n:"PtgElfRw",f:zAe},3:{n:"PtgElfCol",f:MAe},6:{n:"PtgElfRwV",f:XAe},7:{n:"PtgElfColV",f:VAe},10:{n:"PtgElfRadical",f:$Ae},11:{n:"PtgElfRadicalS",f:WAe},13:{n:"PtgElfColS",f:HAe},15:{n:"PtgElfColSV",f:KAe},16:{n:"PtgElfRadicalLel",f:GAe},25:{n:"PtgList",f:YAe},29:{n:"PtgSxName",f:JAe},255:{}},ice={0:{n:"PtgAttrNoop",f:nce},1:{n:"PtgAttrSemi",f:uAe},2:{n:"PtgAttrIf",f:cAe},4:{n:"PtgAttrChoose",f:lAe},8:{n:"PtgAttrGoto",f:AAe},16:{n:"PtgAttrSum",f:wAe},32:{n:"PtgAttrBaxcel",f:jS},33:{n:"PtgAttrBaxcel",f:jS},64:{n:"PtgAttrSpace",f:fAe},65:{n:"PtgAttrSpaceSemi",f:hAe},128:{n:"PtgAttrIfError",f:dAe},255:{}};function oce(e,t,r,n){if(n.biff<8)return Bo(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=TAe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=FAe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Bo(e,t)),i}function lce(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=NS[i]||NS[sce[i]],(i===24||i===25)&&(a=(i===24?ace:ice)[e[e.l+1]]),!a||!a.f?Bo(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Ace(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var cce={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dce(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function y5(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function ES(e,t,r){var n=y5(e,t,r);return n=="#REF"?n:dce(n,r)}function Uu(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],A,c,d,u=0,f=0,m,p="";if(!e[0]||!e[0][0])return"";for(var h=-1,x="",y=0,g=e[0].length;y<g;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(A=l.pop(),c=l.pop(),h>=0){switch(e[0][h][1][0]){case 0:x=ln(" ",e[0][h][1][1]);break;case 1:x=ln("\r",e[0][h][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][h][1][0])}c=c+x,h=-1}l.push(c+cce[w[0]]+A);break;case"PtgIsect":A=l.pop(),c=l.pop(),l.push(c+" "+A);break;case"PtgUnion":A=l.pop(),c=l.pop(),l.push(c+","+A);break;case"PtgRange":A=l.pop(),c=l.pop(),l.push(c+":"+A);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=oh(w[1][1],o,a),l.push(lh(d,i));break;case"PtgRefN":d=r?oh(w[1][1],r,a):w[1][1],l.push(lh(d,i));break;case"PtgRef3d":u=w[1][1],d=oh(w[1][2],o,a),p=ES(n,u,a),l.push(p+"!"+lh(d,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],C=w[1][1];b||(b=0),b&=127;var N=b==0?[]:l.slice(-b);l.length-=b,C==="User"&&(C=N.shift()),l.push(C+"("+N.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=dS(w[1][1],r?{s:r}:o,a),l.push(Xy(m,a));break;case"PtgArea":m=dS(w[1][1],o,a),l.push(Xy(m,a));break;case"PtgArea3d":u=w[1][1],m=w[1][2],p=ES(n,u,a),l.push(p+"!"+Xy(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=w[1][2];var B=(n.names||[])[f-1]||(n[0]||[])[f],F=B?B.Name:"SH33TJSNAME"+String(f);F&&F.slice(0,6)=="_xlfn."&&!a.xlfn&&(F=F.slice(6)),l.push(F);break;case"PtgNameX":var E=w[1][1];f=w[1][2];var U;if(a.biff<=5)E<0&&(E=-E),n[E]&&(U=n[E][f]);else{var P="";if(((n[E]||[])[0]||[])[0]==14849||(((n[E]||[])[0]||[])[0]==1025?n[E][f]&&n[E][f].itab>0&&(P=n.SheetNames[n[E][f].itab-1]+"!"):P=n.SheetNames[f-1]+"!"),n[E]&&n[E][f])P+=n[E][f].Name;else if(n[0]&&n[0][f])P+=n[0][f].Name;else{var O=(y5(n,E,a)||"").split(";;");O[f-1]?P=O[f-1]:P+="SH33TJSERRX"}l.push(P);break}U||(U={Name:"SH33TJSERRY"}),l.push(U.Name);break;case"PtgParen":var X="(",ae=")";if(h>=0){switch(x="",e[0][h][1][0]){case 2:X=ln(" ",e[0][h][1][1])+X;break;case 3:X=ln("\r",e[0][h][1][1])+X;break;case 4:ae=ln(" ",e[0][h][1][1])+ae;break;case 5:ae=ln("\r",e[0][h][1][1])+ae;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][h][1][0])}h=-1}l.push(X+l.pop()+ae);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var he={c:r.c,r:r.r};if(n.sharedf[Ir(d)]){var q=n.sharedf[Ir(d)];l.push(Uu(q,o,he,n,a))}else{var ne=!1;for(A=0;A!=n.arrayf.length;++A)if(c=n.arrayf[A],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){l.push(Uu(c[1],o,he,n,a)),ne=!0;break}ne||l.push(w[1])}break;case"PtgArray":l.push("{"+Ace(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":h=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&h>=0&&H.indexOf(e[0][y][0])==-1){w=e[0][h];var J=!0;switch(w[1][0]){case 4:J=!1;case 0:x=ln(" ",w[1][1]);break;case 5:J=!1;case 1:x=ln("\r",w[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((J?x:"")+l.pop()+(J?"":x)),h=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function uce(e){if(e==null){var t=Be(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return kc(e);return kc(0)}function fce(e,t,r,n,a){var i=Ic(t,r,a),o=uce(e.v),l=Be(6),A=33;l.write_shift(2,A),l.write_shift(4,0);for(var c=Be(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];var u=as([i,o,l,c]);return u}function xv(e,t,r){var n=e.read_shift(4),a=lce(e,n,r),i=e.read_shift(4),o=i>0?oce(e,i,a,r):null;return[a,o]}var hce=xv,vv=xv,mce=xv,pce=xv,gce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},w5={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},xce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vce(e){var t="of:="+e.replace(WB,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function yce(e){return e.replace(/\./,"!")}var Ah=typeof Map<"u";function qB(e,t,r){var n=0,a=e.length;if(r){if(Ah?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Ah?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Ah?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function yv(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Yo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Gg(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=gb(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function b5(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function TA(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){gM(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function wce(e,t,r){if(e&&e["!ref"]){var n=Gr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function bce(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+En(e[r])+'"/>';return t+"</mergeCells>"}function Cce(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var A=t.SheetNames[r];try{t.Workbook&&(A=t.Workbook.Sheets[r].CodeName||A)}catch{}i=!0,o.codeName=am(_r(A))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),l=(l||"")+et("outlinePr",null,c)}!i&&!l||(a[a.length]=et("sheetPr",l,o))}var Bce=["objects","scenarios","selectLockedCells","selectUnlockedCells"],jce=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Nce(e){var t={sheet:1};return Bce.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),jce.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=a5(e.password).toString(16).toUpperCase()),et("sheetProtection",null,t)}function Ece(e){return b5(e),et("pageMargins",null,e)}function Sce(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=et("col",null,yv(a,n)));return r[r.length]="</cols>",r.join("")}function Fce(e,t,r,n){var a=typeof e.ref=="string"?e.ref:En(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ia(a);o.s.r==o.e.r&&(o.e.r=Ia(t["!ref"]).e.r,a=En(o));for(var l=0;l<i.length;++l){var A=i[l];if(A.Name=="_xlnm._FilterDatabase"&&A.Sheet==n){A.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),et("autoFilter",null,{ref:a})}function Tce(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),et("sheetViews",et("sheetView",null,a),{})}function _ce(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Lm[e.v];break;case"d":n&&n.cellDates?a=Ms(e.v,-1).toISOString():(e=ma(e),e.t="n",a=""+(e.v=ha(Ms(e.v)))),typeof e.z>"u"&&(e.z=dn[14]);break;default:a=e.v;break}var l=is("v",_r(a)),A={r:t},c=TA(n.cellXfs,e,n);switch(c!==0&&(A.s=c),e.t){case"n":break;case"d":A.t="d";break;case"b":A.t="b";break;case"e":A.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=is("v",""+qB(n.Strings,e.v,n.revStrings)),A.t="s";break}A.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=et("f",_r(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(A.cm=1),et("c",l,A)}function kce(e,t,r,n){var a=[],i=[],o=Gr(e["!ref"]),l="",A,c="",d=[],u=0,f=0,m=e["!rows"],p=Array.isArray(e),h={r:c},x,y=-1;for(f=o.s.c;f<=o.e.c;++f)d[f]=bs(f);for(u=o.s.r;u<=o.e.r;++u){for(i=[],c=As(u),f=o.s.c;f<=o.e.c;++f){A=d[f]+c;var g=p?(e[u]||[])[f]:e[A];g!==void 0&&(l=_ce(g,A,e,t))!=null&&i.push(l)}(i.length>0||m&&m[u])&&(h={r:c},m&&m[u]&&(x=m[u],x.hidden&&(h.hidden=1),y=-1,x.hpx?y=Wg(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(h.ht=y,h.customHeight=1),x.level&&(h.outlineLevel=x.level)),a[a.length]=et("row",i.join(""),h))}if(m)for(;u<m.length;++u)m&&m[u]&&(h={r:u+1},x=m[u],x.hidden&&(h.hidden=1),y=-1,x.hpx?y=Wg(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(h.ht=y,h.customHeight=1),x.level&&(h.outlineLevel=x.level),a[a.length]=et("row","",h));return a.join("")}function C5(e,t,r,n){var a=[Fn,et("worksheet",null,{xmlns:Yu[0],"xmlns:r":Kn.r})],i=r.SheetNames[e],o=0,l="",A=r.Sheets[i];A==null&&(A={});var c=A["!ref"]||"A1",d=Gr(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=En(d)}n||(n={}),A["!comments"]=[];var u=[];Cce(A,r,e,t,a),a[a.length]=et("dimension",null,{ref:c}),a[a.length]=Tce(A,t,e,r),t.sheetFormat&&(a[a.length]=et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),A["!cols"]!=null&&A["!cols"].length>0&&(a[a.length]=Sce(A,A["!cols"])),a[o=a.length]="<sheetData/>",A["!links"]=[],A["!ref"]!=null&&(l=kce(A,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),A["!protect"]&&(a[a.length]=Nce(A["!protect"])),A["!autofilter"]!=null&&(a[a.length]=Fce(A["!autofilter"],A,r,e)),A["!merges"]!=null&&A["!merges"].length>0&&(a[a.length]=bce(A["!merges"]));var f=-1,m,p=-1;return A["!links"].length>0&&(a[a.length]="<hyperlinks>",A["!links"].forEach(function(h){h[1].Target&&(m={ref:h[0]},h[1].Target.charAt(0)!="#"&&(p=Fr(n,-1,_r(h[1].Target).replace(/#.*$/,""),vr.HLINK),m["r:id"]="rId"+p),(f=h[1].Target.indexOf("#"))>-1&&(m.location=_r(h[1].Target.slice(f+1))),h[1].Tooltip&&(m.tooltip=_r(h[1].Tooltip)),a[a.length]=et("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete A["!links"],A["!margins"]!=null&&(a[a.length]=Ece(A["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=is("ignoredErrors",et("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(p=Fr(n,-1,"../drawings/drawing"+(e+1)+".xml",vr.DRAW),a[a.length]=et("drawing",null,{"r:id":"rId"+p}),A["!drawing"]=u),A["!comments"].length>0&&(p=Fr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",vr.VML),a[a.length]=et("legacyDrawing",null,{"r:id":"rId"+p}),A["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Ice(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Uce(e,t,r){var n=Be(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Wg(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,A=n.l;n.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,f=-1,m=d<<10;m<d+1<<10;++m){c.c=m;var p=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Ir(c)];p&&(u<0&&(u=m),f=m)}u<0||(++l,n.write_shift(4,u),n.write_shift(4,f))}var h=n.l;return n.l=A,n.write_shift(4,l),n.l=h,n.length>n.l?n.slice(0,n.l):n}function Qce(e,t,r,n){var a=Uce(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Re(e,0,a)}var Dce=zc,Pce=Zu;function Oce(){}function Rce(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Xie(e),r}function Lce(e,t,r){r==null&&(r=Be(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Kg({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),OM(e,r),r.slice(0,r.l)}function Mce(e){var t=ci(e);return[t]}function Hce(e,t,r){return r==null&&(r=Be(8)),$c(t,r)}function Kce(e){var t=Gc(e);return[t]}function Vce(e,t,r){return r==null&&(r=Be(4)),Wc(t,r)}function $ce(e){var t=ci(e),r=e.read_shift(1);return[t,r,"b"]}function Gce(e,t,r){return r==null&&(r=Be(9)),$c(t,r),r.write_shift(1,e.v?1:0),r}function Wce(e){var t=Gc(e),r=e.read_shift(1);return[t,r,"b"]}function zce(e,t,r){return r==null&&(r=Be(5)),Wc(t,r),r.write_shift(1,e.v?1:0),r}function Xce(e){var t=ci(e),r=e.read_shift(1);return[t,r,"e"]}function qce(e,t,r){return r==null&&(r=Be(9)),$c(t,r),r.write_shift(1,e.v),r}function Yce(e){var t=Gc(e),r=e.read_shift(1);return[t,r,"e"]}function Jce(e,t,r){return r==null&&(r=Be(8)),Wc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Zce(e){var t=ci(e),r=e.read_shift(4);return[t,r,"s"]}function ede(e,t,r){return r==null&&(r=Be(12)),$c(t,r),r.write_shift(4,t.v),r}function tde(e){var t=Gc(e),r=e.read_shift(4);return[t,r,"s"]}function rde(e,t,r){return r==null&&(r=Be(8)),Wc(t,r),r.write_shift(4,t.v),r}function nde(e){var t=ci(e),r=ef(e);return[t,r,"n"]}function sde(e,t,r){return r==null&&(r=Be(16)),$c(t,r),kc(e.v,r),r}function ade(e){var t=Gc(e),r=ef(e);return[t,r,"n"]}function ide(e,t,r){return r==null&&(r=Be(12)),Wc(t,r),kc(e.v,r),r}function ode(e){var t=ci(e),r=RM(e);return[t,r,"n"]}function lde(e,t,r){return r==null&&(r=Be(12)),$c(t,r),LM(e.v,r),r}function Ade(e){var t=Gc(e),r=RM(e);return[t,r,"n"]}function cde(e,t,r){return r==null&&(r=Be(8)),Wc(t,r),LM(e.v,r),r}function dde(e){var t=ci(e),r=HB(e);return[t,r,"is"]}function ude(e){var t=ci(e),r=Cs(e);return[t,r,"str"]}function fde(e,t,r){return r==null&&(r=Be(12+4*e.v.length)),$c(t,r),$n(e.v,r),r.length>r.l?r.slice(0,r.l):r}function hde(e){var t=Gc(e),r=Cs(e);return[t,r,"str"]}function mde(e,t,r){return r==null&&(r=Be(8+4*e.v.length)),Wc(t,r),$n(e.v,r),r.length>r.l?r.slice(0,r.l):r}function pde(e,t,r){var n=e.l+t,a=ci(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=vv(e,n-e.l,r);o[3]=Uu(l,null,a,r.supbooks,r)}else e.l=n;return o}function gde(e,t,r){var n=e.l+t,a=ci(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=vv(e,n-e.l,r);o[3]=Uu(l,null,a,r.supbooks,r)}else e.l=n;return o}function xde(e,t,r){var n=e.l+t,a=ci(e);a.r=r["!row"];var i=ef(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=vv(e,n-e.l,r);o[3]=Uu(l,null,a,r.supbooks,r)}else e.l=n;return o}function vde(e,t,r){var n=e.l+t,a=ci(e);a.r=r["!row"];var i=Cs(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=vv(e,n-e.l,r);o[3]=Uu(l,null,a,r.supbooks,r)}else e.l=n;return o}var yde=zc,wde=Zu;function bde(e,t){return t==null&&(t=Be(4)),t.write_shift(4,e),t}function Cde(e,t){var r=e.l+t,n=zc(e),a=KB(e),i=Cs(e),o=Cs(e),l=Cs(e);e.l=r;var A={rfx:n,relId:a,loc:i,display:l};return o&&(A.Tooltip=o),A}function Bde(e,t){var r=Be(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Zu({s:Vn(e[0]),e:Vn(e[0])},r),VB("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return $n(a||"",r),$n(e[1].Tooltip||"",r),$n("",r),r.slice(0,r.l)}function jde(){}function Nde(e,t,r){var n=e.l+t,a=MM(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=hce(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Ede(e,t,r){var n=e.l+t,a=zc(e),i=[a];if(r.cellFormula){var o=pce(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function Sde(e,t,r){r==null&&(r=Be(18));var n=yv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var B5=["left","right","top","bottom","header","footer"];function Fde(e){var t={};return B5.forEach(function(r){t[r]=ef(e)}),t}function Tde(e,t){return t==null&&(t=Be(6*8)),b5(e),B5.forEach(function(r){kc(e[r],t)}),t}function _de(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function kde(e,t,r){r==null&&(r=Be(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Ide(e){var t=Be(24);return t.write_shift(4,4),t.write_shift(4,1),Zu(e,t),t}function Ude(e,t){return t==null&&(t=Be(16*4+2)),t.write_shift(2,e.password?a5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Qde(){}function Dde(){}function Pde(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=ma(t),t.z=t.z||dn[14],t.v=ha(Ms(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var A={r,c:n};switch(A.s=TA(a.cellXfs,t,a),t.l&&i["!links"].push([Ir(A),t.l]),t.c&&i["!comments"].push([Ir(A),t.c]),t.t){case"s":case"str":return a.bookSST?(l=qB(a.Strings,t.v,a.revStrings),A.t="s",A.v=l,o?Re(e,18,rde(t,A)):Re(e,7,ede(t,A))):(A.t="str",o?Re(e,17,mde(t,A)):Re(e,6,fde(t,A))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Re(e,13,cde(t,A)):Re(e,2,lde(t,A)):o?Re(e,16,ide(t,A)):Re(e,5,sde(t,A)),!0;case"b":return A.t="b",o?Re(e,15,zce(t,A)):Re(e,4,Gce(t,A)),!0;case"e":return A.t="e",o?Re(e,14,Jce(t,A)):Re(e,3,qce(t,A)),!0}return o?Re(e,12,Vce(t,A)):Re(e,1,Hce(t,A)),!0}function Ode(e,t,r,n){var a=Gr(t["!ref"]||"A1"),i,o="",l=[];Re(e,145);var A=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=c;++d){o=As(d),Qce(e,t,a,d);var u=!1;if(d<=a.e.r)for(var f=a.s.c;f<=a.e.c;++f){d===a.s.r&&(l[f]=bs(f)),i=l[f]+o;var m=A?(t[d]||[])[f]:t[i];if(!m){u=!1;continue}u=Pde(e,m,d,f,n,t,u)}}Re(e,146)}function Rde(e,t){!t||!t["!merges"]||(Re(e,177,bde(t["!merges"].length)),t["!merges"].forEach(function(r){Re(e,176,wde(r))}),Re(e,178))}function Lde(e,t){!t||!t["!cols"]||(Re(e,390),t["!cols"].forEach(function(r,n){r&&Re(e,60,Sde(n,r))}),Re(e,391))}function Mde(e,t){!t||!t["!ref"]||(Re(e,648),Re(e,649,Ide(Gr(t["!ref"]))),Re(e,650))}function Hde(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Fr(r,-1,n[1].Target.replace(/#.*$/,""),vr.HLINK);Re(e,494,Bde(n,a))}}),delete t["!links"]}function Kde(e,t,r,n){if(t["!comments"].length>0){var a=Fr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",vr.VML);Re(e,551,VB("rId"+a)),t["!legacy"]=a}}function Vde(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:En(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ia(i);l.s.r==l.e.r&&(l.e.r=Ia(t["!ref"]).e.r,i=En(l));for(var A=0;A<o.length;++A){var c=o[A];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}A==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Re(e,161,Zu(Gr(i))),Re(e,162)}}function $de(e,t,r){Re(e,133),Re(e,137,kde(t,r)),Re(e,138),Re(e,134)}function Gde(e,t){t["!protect"]&&Re(e,535,Ude(t["!protect"]))}function Wde(e,t,r,n){var a=da(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var A=Gr(o["!ref"]||"A1");if(A.e.c>16383||A.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");A.e.c=Math.min(A.e.c,16383),A.e.r=Math.min(A.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Re(a,129),(r.vbaraw||o["!outline"])&&Re(a,147,Lce(l,o["!outline"])),Re(a,148,Pce(A)),$de(a,o,r.Workbook),Lde(a,o),Ode(a,o,e,t),Gde(a,o),Vde(a,o,r,e),Rde(a,o),Hde(a,o,n),o["!margins"]&&Re(a,476,Tde(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Mde(a,o),Kde(a,o,e,n),Re(a,130),a.end()}function zde(e,t){e.l+=10;var r=Cs(e);return{name:r}}var Xde=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function qde(e){return!e.Workbook||!e.Workbook.WBProps?"false":Eie(e.Workbook.WBProps.date1904)?"true":"false"}var Yde="][*?/\\".split("");function j5(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Yde.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Jde(e,t,r){e.forEach(function(n,a){j5(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Zde(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Jde(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)wce(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function N5(e){var t=[Fn];t[t.length]=et("workbook",null,{xmlns:Yu[0],"xmlns:r":Kn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Xde.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=et("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:_r(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=et("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var A={name:l.Name};l.Comment&&(A.comment=l.Comment),l.Sheet!=null&&(A.localSheetId=""+l.Sheet),l.Hidden&&(A.hidden="1"),l.Ref&&(t[t.length]=et("definedName",_r(l.Ref),A))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function eue(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=pb(e),r.name=Cs(e),r}function tue(e,t){return t||(t=Be(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),VB(e.strRelID,t),$n(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function rue(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Cs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function nue(e,t){t||(t=Be(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),OM(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function sue(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=qie(e),o=mce(e,0,r),l=KB(e);e.l=n;var A={Name:i,Ptg:o};return a<268435455&&(A.Sheet=a),l&&(A.Comment=l),A}function aue(e,t){Re(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Re(e,156,tue(a))}Re(e,144)}function iue(e,t){t||(t=Be(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return $n("SheetJS",t),$n(Qg.version,t),$n(Qg.version,t),$n("7262",t),t.length>t.l?t.slice(0,t.l):t}function oue(e,t){t||(t=Be(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function lue(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Re(e,135),Re(e,158,oue(a)),Re(e,136))}}function Aue(e,t){var r=da();return Re(r,131),Re(r,128,iue()),Re(r,153,nue(e.Workbook&&e.Workbook.WBProps||null)),lue(r,e),aue(r,e),Re(r,132),r.end()}function cue(e,t,r){return(t.slice(-4)===".bin"?Aue:N5)(e)}function due(e,t,r,n,a){return(t.slice(-4)===".bin"?Wde:C5)(e,r,n,a)}function uue(e,t,r){return(t.slice(-4)===".bin"?Tle:l5)(e,r)}function fue(e,t,r){return(t.slice(-4)===".bin"?nle:s5)(e,r)}function hue(e,t,r){return(t.slice(-4)===".bin"?Gle:f5)(e)}function mue(e){return(e.slice(-4)===".bin"?Ole:d5)()}function pue(e,t){var r=[];return e.Props&&r.push(uoe(e.Props,t)),e.Custprops&&r.push(foe(e.Props,e.Custprops)),r.join("")}function gue(){return""}function xue(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(et("NumberFormat",null,{"ss:Format":_r(dn[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(et("Style",i.join(""),o))}),et("Styles",r.join(""))}function E5(e){return et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+zB(e.Ref,{r:0,c:0})})}function vue(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(E5(a)))}return et("Names",r.join(""))}function yue(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(E5(l)))}return i.join("")}function wue(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(et("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(et("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(is("ProtectContents","True")),e["!protect"].objects&&a.push(is("ProtectObjects","True")),e["!protect"].scenarios&&a.push(is("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(is("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(is("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":et("WorksheetOptions",a.join(""),{xmlns:Na.x})}function bue(e){return e.map(function(t){var r=Nie(t.t||""),n=et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return et("Comment",n,{"ss:Author":t.a})}).join("")}function Cue(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+_r(zB(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var A=Vn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(A.r==o.r?"":"["+(A.r-o.r)+"]")+"C"+(A.c==o.c?"":"["+(A.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=_r(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=_r(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c!=o.c||c[d].s.r!=o.r||(c[d].e.c>c[d].s.c&&(l["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(l["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",f="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":u="Number",f=String(e.v);break;case"b":u="Boolean",f=e.v?"1":"0";break;case"e":u="Error",f=Lm[e.v];break;case"d":u="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||dn[14]);break;case"s":u="String",f=jie(e.v||"");break}var m=TA(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var p=e.v!=null?f:"",h=e.t=="z"?"":'<Data ss:Type="'+u+'">'+p+"</Data>";return(e.c||[]).length>0&&(h+=bue(e.c)),et("Cell",h,l)}function Bue(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=o5(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function jue(e,t,r,n){if(!e["!ref"])return"";var a=Gr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,y){GB(x);var g=!!x.width,w=yv(y,x),b={"ss:Index":y+1};g&&(b["ss:Width"]=$g(w.width)),x.hidden&&(b["ss:Hidden"]="1"),l.push(et("Column",null,b))});for(var A=Array.isArray(e),c=a.s.r;c<=a.e.r;++c){for(var d=[Bue(c,(e["!rows"]||[])[c])],u=a.s.c;u<=a.e.c;++u){var f=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>u)&&!(i[o].s.r>c)&&!(i[o].e.c<u)&&!(i[o].e.r<c)){(i[o].s.c!=u||i[o].s.r!=c)&&(f=!0);break}if(!f){var m={r:c,c:u},p=Ir(m),h=A?(e[c]||[])[u]:e[p];d.push(Cue(h,p,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function Nue(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?yue(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?jue(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(wue(i,t,e,r)),n.join("")}function Eue(e,t){t||(t={}),e.SSF||(e.SSF=ma(dn)),e.SSF&&(mv(),hv(e.SSF),t.revssf=pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],TA(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(pue(e,t)),r.push(gue()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(et("Worksheet",Nue(n,t,e),{"ss:Name":_r(e.SheetNames[n])}));return r[2]=xue(e,t),r[3]=vue(e),Fn+et("Workbook",r.join(""),{xmlns:Na.ss,"xmlns:o":Na.o,"xmlns:x":Na.x,"xmlns:ss":Na.ss,"xmlns:dt":Na.dt,"xmlns:html":Na.html})}var Jy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Sue(e,t){var r=[],n=[],a=[],i=0,o,l=eS(fS,"n"),A=eS(hS,"n");if(e.Props)for(o=ds(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(A,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=ds(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(A,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var c=[];for(i=0;i<a.length;++i)YM.indexOf(a[i][0])>-1||zM.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&Tr.utils.cfb_add(t,"/SummaryInformation",vS(n,Jy.SI,A,hS)),(r.length||c.length)&&Tr.utils.cfb_add(t,"/DocumentSummaryInformation",vS(r,Jy.DSI,l,fS,c.length?c:null,Jy.UDI))}function Fue(e,t){var r=t||{},n=Tr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Tr.utils.cfb_add(n,a,S5(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Sue(e,n),r.biff==8&&e.vbaraw&&Wle(n,Tr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Tue={0:{f:Ice},1:{f:Mce},2:{f:ode},3:{f:Xce},4:{f:$ce},5:{f:nde},6:{f:ude},7:{f:Zce},8:{f:vde},9:{f:xde},10:{f:pde},11:{f:gde},12:{f:Kce},13:{f:Ade},14:{f:Yce},15:{f:Wce},16:{f:ade},17:{f:hde},18:{f:tde},19:{f:HB},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:sue},40:{},42:{},43:{f:ule},44:{f:cle},45:{f:mle},46:{f:gle},47:{f:ple},48:{},49:{f:Kie},50:{},51:{f:Ile},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Voe},62:{f:dde},63:{f:Rle},64:{f:Qde},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Bo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_de},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Rce},148:{f:Dce,p:16},151:{f:jde},152:{},153:{f:rue},154:{},155:{},156:{f:eue},157:{},158:{},159:{T:1,f:ele},160:{T:-1},161:{T:1,f:zc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yde},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_le},336:{T:-1},337:{f:Dle,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ooe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Nde},427:{f:Ede},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Fde},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Oce},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Cde},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Vle},633:{T:1},634:{T:-1},635:{T:1,f:Hle},636:{T:-1},637:{f:Wie},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:zde},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Dde},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&RB(r)&&e.push(r)}}function _ue(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return tt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,A=0,c=0;c+(o[l]||8224)<=8224;)c+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,c),e.push(r.slice(A,A+c)),A+=c;A<a;){for(d=e.next(4),d.write_shift(2,60),c=0;c+(o[l]||8224)<=8224;)c+=o[l]||8224,l++;d.write_shift(2,c),e.push(r.slice(A,A+c)),A+=c}}}function Hm(e,t,r){return e||(e=Be(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function kue(e,t,r,n){var a=Be(9);return Hm(a,e,t),ZM(r,n||"b",a),a}function Iue(e,t,r){var n=Be(8+2*r.length);return Hm(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Uue(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ha(Ms(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?tt(e,2,zoe(r,n,a)):tt(e,3,Woe(r,n,a));return;case"b":case"e":tt(e,5,kue(r,n,t.v,t.t));return;case"s":case"str":tt(e,4,Iue(r,n,(t.v||"").slice(0,255)));return}tt(e,1,Hm(null,r,n))}function Que(e,t,r,n){var a=Array.isArray(t),i=Gr(t["!ref"]||"A1"),o,l="",A=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=En(i)}for(var c=i.s.r;c<=i.e.r;++c){l=As(c);for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(A[d]=bs(d)),o=A[d]+l;var u=a?(t[c]||[])[d]:t[o];u&&Uue(e,u,c,d)}}}function Due(e,t){for(var r=t||{},n=da(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tt(n,r.biff==4?1033:r.biff==3?521:9,$B(e,16,r)),Que(n,e.Sheets[e.SheetNames[a]],a,r),tt(n,10),n.end()}function Pue(e,t,r){tt(e,49,Toe({sz:12,name:"Arial"},r))}function Oue(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&tt(e,1054,Ioe(a,t[a],r))})}function Rue(e,t){var r=Be(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tt(e,2151,r),r=Be(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),r5(Gr(t["!ref"]||"A1"),r),r.write_shift(4,4),tt(e,2152,r)}function Lue(e,t){for(var r=0;r<16;++r)tt(e,224,wS({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){tt(e,224,wS(n,0,t))})}function Mue(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];tt(e,440,Moe(n)),n[1].Tooltip&&tt(e,2048,Hoe(n))}delete t["!links"]}function Hue(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&tt(e,125,$oe(yv(a,n),a))})}}function Kue(e,t,r,n,a){var i=16+TA(a.cellXfs,t,a);if(t.v==null&&!t.bf){tt(e,513,Ic(r,n,i));return}if(t.bf)tt(e,6,fce(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?ha(Ms(t.v)):t.v;tt(e,515,Poe(r,n,o,i));break;case"b":case"e":tt(e,517,Doe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=qB(a.Strings,t.v,a.revStrings);tt(e,253,_oe(r,n,l,i))}else tt(e,516,koe(r,n,(t.v||"").slice(0,255),i,a));break;default:tt(e,513,Ic(r,n,i))}}function Vue(e,t,r){var n=da(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},A=Array.isArray(i),c=t.biff==8,d,u="",f=[],m=Gr(i["!ref"]||"A1"),p=c?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}tt(n,2057,$B(r,16,t)),tt(n,13,Va(1)),tt(n,12,Va(100)),tt(n,15,Ps(!0)),tt(n,17,Ps(!1)),tt(n,16,kc(.001)),tt(n,95,Ps(!0)),tt(n,42,Ps(!1)),tt(n,43,Ps(!1)),tt(n,130,Va(1)),tt(n,128,Qoe()),tt(n,131,Ps(!1)),tt(n,132,Ps(!1)),c&&Hue(n,i["!cols"]),tt(n,512,Uoe(m,t)),c&&(i["!links"]=[]);for(var h=m.s.r;h<=m.e.r;++h){u=As(h);for(var x=m.s.c;x<=m.e.c;++x){h===m.s.r&&(f[x]=bs(x)),d=f[x]+u;var y=A?(i[h]||[])[x]:i[d];y&&(Kue(n,y,h,x,t),c&&y.l&&i["!links"].push([d,y.l]))}}var g=l.CodeName||l.name||a;return c&&tt(n,574,Foe((o.Views||[])[0])),c&&(i["!merges"]||[]).length&&tt(n,229,Loe(i["!merges"])),c&&Mue(n,i),tt(n,442,t5(g)),c&&Rue(n,i),tt(n,10),n.end()}function $ue(e,t,r){var n=da(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,A=r.biff==5;if(tt(n,2057,$B(e,5,r)),r.bookType=="xla"&&tt(n,135),tt(n,225,l?Va(1200):null),tt(n,193,poe(2)),A&&tt(n,191),A&&tt(n,192),tt(n,226),tt(n,92,joe("SheetJS",r)),tt(n,66,Va(l?1200:1252)),l&&tt(n,353,Va(0)),l&&tt(n,448),tt(n,317,Goe(e.SheetNames.length)),l&&e.vbaraw&&tt(n,211),l&&e.vbaraw){var c=o.CodeName||"ThisWorkbook";tt(n,442,t5(c))}tt(n,156,Va(17)),tt(n,25,Ps(!1)),tt(n,18,Ps(!1)),tt(n,19,Va(0)),l&&tt(n,431,Ps(!1)),l&&tt(n,444,Va(0)),tt(n,61,Soe()),tt(n,64,Ps(!1)),tt(n,141,Va(0)),tt(n,34,Ps(qde(e)=="true")),tt(n,14,Ps(!0)),l&&tt(n,439,Ps(!1)),tt(n,218,Va(0)),Pue(n,e,r),Oue(n,e.SSF,r),Lue(n,r),l&&tt(n,352,Ps(!1));var d=n.end(),u=da();l&&tt(u,140,Koe()),l&&r.Strings&&_ue(u,252,Eoe(r.Strings)),tt(u,10);var f=u.end(),m=da(),p=0,h=0;for(h=0;h<e.SheetNames.length;++h)p+=(l?12:11)+(l?2:1)*e.SheetNames[h].length;var x=d.length+p+f.length;for(h=0;h<e.SheetNames.length;++h){var y=i[h]||{};tt(m,133,Noe({pos:x,hs:y.Hidden||0,dt:0,name:e.SheetNames[h]},r)),x+=t[h].length}var g=m.end();if(p!=g.length)throw new Error("BS8 "+p+" != "+g.length);var w=[];return d.length&&w.push(d),g.length&&w.push(g),f.length&&w.push(f),as(w)}function Gue(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ma(dn)),e&&e.SSF&&(mv(),hv(e.SSF),r.revssf=pv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,YB(r),r.cellXfs=[],TA(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Vue(a,r,e);return n.unshift($ue(e,n,r)),as(n)}function S5(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ia(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Gue(e,t);case 4:case 3:case 2:return Due(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Wue(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,A=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>o)&&!(a[c].e.r<r||a[c].e.c<o)){if(a[c].s.r<r||a[c].s.c<o){l=-1;break}l=a[c].e.r-a[c].s.r+1,A=a[c].e.c-a[c].s.c+1;break}if(!(l<0)){var d=Ir({r,c:o}),u=n.dense?(e[r]||[])[o]:e[d],f=u&&u.v!=null&&(u.h||Bie(u.w||(ul(u),u.w)||""))||"",m={};l>1&&(m.rowspan=l),A>1&&(m.colspan=A),n.editable?f='<span contenteditable="true">'+f+"</span>":u&&(m["data-t"]=u&&u.t||"z",u.v!=null&&(m["data-v"]=u.v),u.z!=null&&(m["data-z"]=u.z),u.l&&(u.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+u.l.Target+'">'+f+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(et("td",f,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var zue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Xue="</body></html>";function que(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function F5(e,t){var r=t||{},n=r.header!=null?r.header:zue,a=r.footer!=null?r.footer:Xue,i=[n],o=Ia(e["!ref"]);r.dense=Array.isArray(e),i.push(que(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Wue(e,o,l,r));return i.push("</table>"+a),i.join("")}function T5(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Vn(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),A=Math.min(n.sheetRows||1e7,l.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Ia(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),a==-1&&(c.e.r=a=d.e.r+1)}var u=[],f=0,m=e["!rows"]||(e["!rows"]=[]),p=0,h=0,x=0,y=0,g=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&h<A;++p){var b=l[p];if(SS(b)){if(n.display)continue;m[h]={hidden:!0}}var C=b.children;for(x=y=0;x<C.length;++x){var N=C[x];if(!(n.display&&SS(N))){var B=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):Sie(N.innerHTML),F=N.getAttribute("data-z")||N.getAttribute("z");for(f=0;f<u.length;++f){var E=u[f];E.s.c==y+i&&E.s.r<h+a&&h+a<=E.e.r&&(y=E.e.c+1-i,f=-1)}w=+N.getAttribute("colspan")||1,((g=+N.getAttribute("rowspan")||1)>1||w>1)&&u.push({s:{r:h+a,c:y+i},e:{r:h+a+(g||1)-1,c:y+i+(w||1)-1}});var U={t:"s",v:B},P=N.getAttribute("data-t")||N.getAttribute("t")||"";B!=null&&(B.length==0?U.t=P||"z":n.raw||B.trim().length==0||P=="s"||(B==="TRUE"?U={t:"b",v:!0}:B==="FALSE"?U={t:"b",v:!1}:isNaN(qo(B))?isNaN(sm(B).getDate())||(U={t:"d",v:Ms(B)},n.cellDates||(U={t:"n",v:ha(U.v)}),U.z=n.dateNF||dn[14]):U={t:"n",v:qo(B)})),U.z===void 0&&F!=null&&(U.z=F);var O="",X=N.getElementsByTagName("A");if(X&&X.length)for(var ae=0;ae<X.length&&!(X[ae].hasAttribute("href")&&(O=X[ae].getAttribute("href"),O.charAt(0)!="#"));++ae);O&&O.charAt(0)!="#"&&(U.l={Target:O}),n.dense?(e[h+a]||(e[h+a]=[]),e[h+a][y+i]=U):e[Ir({c:y+i,r:h+a})]=U,c.e.c<y+i&&(c.e.c=y+i),y+=w}}++h}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,h-1+a),e["!ref"]=En(c),h>=A&&(e["!fullref"]=En((c.e.r=l.length-p+h-1+a,c))),e}function _5(e,t){var r=t||{},n=r.dense?[]:{};return T5(n,e,t)}function Yue(e,t){return Vc(_5(e,t),t)}function SS(e){var t="",r=Jue(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Jue(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Zue=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+im({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Fn+t}}(),FS=function(){var e=function(i){return _r(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var A=[];A.push('      <table:table table:name="'+_r(o.SheetNames[l])+`" table:style-name="ta1">
`);var c=0,d=0,u=Ia(i["!ref"]||"A1"),f=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(d=0;d<=u.e.c;++d)A.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var h="",x=i["!rows"]||[];for(c=0;c<u.s.r;++c)h=x[c]?' table:style-name="ro'+x[c].ods+'"':"",A.push("        <table:table-row"+h+`></table:table-row>
`);for(;c<=u.e.r;++c){for(h=x[c]?' table:style-name="ro'+x[c].ods+'"':"",A.push("        <table:table-row"+h+`>
`),d=0;d<u.s.c;++d)A.push(t);for(;d<=u.e.c;++d){var y=!1,g={},w="";for(m=0;m!=f.length;++m)if(!(f[m].s.c>d)&&!(f[m].s.r>c)&&!(f[m].e.c<d)&&!(f[m].e.r<c)){(f[m].s.c!=d||f[m].s.r!=c)&&(y=!0),g["table:number-columns-spanned"]=f[m].e.c-f[m].s.c+1,g["table:number-rows-spanned"]=f[m].e.r-f[m].s.r+1;break}if(y){A.push(r);continue}var b=Ir({r:c,c:d}),C=p?(i[c]||[])[d]:i[b];if(C&&C.f&&(g["table:formula"]=_r(vce(C.f)),C.F&&C.F.slice(0,b.length)==b)){var N=Ia(C.F);g["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,g["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!C){A.push(t);continue}switch(C.t){case"b":w=C.v?"TRUE":"FALSE",g["office:value-type"]="boolean",g["office:boolean-value"]=C.v?"true":"false";break;case"n":w=C.w||String(C.v||0),g["office:value-type"]="float",g["office:value"]=C.v||0;break;case"s":case"str":w=C.v==null?"":C.v,g["office:value-type"]="string";break;case"d":w=C.w||Ms(C.v).toISOString(),g["office:value-type"]="date",g["office:date-value"]=Ms(C.v).toISOString(),g["table:style-name"]="ce1";break;default:A.push(t);continue}var B=e(w);if(C.l&&C.l.Target){var F=C.l.Target;F=F.charAt(0)=="#"?"#"+yce(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),B=et("text:a",B,{"xlink:href":F.replace(/&/g,"&amp;")})}A.push("          "+et("table:table-cell",et("text:p",B,{}),g)+`
`)}A.push(`        </table:table-row>
`)}return A.push(`      </table:table>
`),A.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var u=c["!cols"][d];if(u.width==null&&u.wpx==null&&u.wch==null)continue;GB(u),u.ods=l;var f=c["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}});var A=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=A;var u=c["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+A+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+u+`"/>
`),i.push(`  </style:style>
`),++A}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var A=[Fn],c=im({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=im({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(A.push("<office:document"+c+d+`>
`),A.push(GM().replace(/office:document-meta/g,"office:meta"))):A.push("<office:document-content"+c+`>
`),a(A,o),A.push(`  <office:body>
`),A.push(`    <office:spreadsheet>
`);for(var u=0;u!=o.SheetNames.length;++u)A.push(n(o.Sheets[o.SheetNames[u]],o,u));return A.push(`    </office:spreadsheet>
`),A.push(`  </office:body>
`),l.bookType=="fods"?A.push("</office:document>"):A.push("</office:document-content>"),A.join("")}}();function k5(e,t){if(t.bookType=="fods")return FS(e,t);var r=QB(),n="",a=[],i=[];return n="mimetype",or(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",or(r,n,FS(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",or(r,n,Zue(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",or(r,n,Fn+GM()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",or(r,n,doe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",or(r,n,Aoe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function efe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ni(am(e))}function tfe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function CA(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function rfe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function om(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Er(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Xd(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function _n(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=om(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var A=r[0];e[r[0]++]>=128;);l=e.slice(A,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=om(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:l,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function qn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Er(n*8+a.type)),a.type==2&&t.push(Er(a.data.length)),t.push(a.data))})}),CA(t)}function hi(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=om(e,n),i=_n(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Xd(i[1][0].data),messages:[]};i[2].forEach(function(l){var A=_n(l.data),c=Xd(A[3][0].data);o.messages.push({meta:A,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(o.merge=Xd(i[3][0].data)>>>0>0),r.push(o)}return r}function Ad(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Er(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Er(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Er(o.data.length)}],n[2].push({data:qn(o.meta),type:2})});var i=qn(n);t.push(Er(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),CA(t)}function nfe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=om(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var A=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,A=(t[r[0]++]&224)<<3,A|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(A=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(A=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[CA(a)],A==0)throw new Error("Invalid offset 0");if(A>a[0].length)throw new Error("Invalid offset beyond length");if(c>=A)for(a.push(a[0].slice(-A)),c-=A;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-A,-A+c))}}var d=CA(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function mi(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(nfe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return CA(t)}function cd(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Er(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return CA(t)}function Zy(e,t){var r=new Uint8Array(32),n=zg(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,rfe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function ew(e,t){var r=new Uint8Array(32),n=zg(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function wl(e){var t=_n(e);return om(t[1][0].data)}function sfe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Xd(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var A=0,c=zg(e[7][0].data),d=0,u=[],f=zg(e[4][0].data),m=0,p=[],h=0;h<t.length;++h){if(t[h]==null){c.setUint16(h*2,65535,!0),f.setUint16(h*2,65535);continue}c.setUint16(h*2,d,!0),f.setUint16(h*2,m,!0);var x,y;switch(typeof t[h]){case"string":x=Zy({t:"s",v:t[h]},r),y=ew({t:"s",v:t[h]},r);break;case"number":x=Zy({t:"n",v:t[h]},r),y=ew({t:"n",v:t[h]},r);break;case"boolean":x=Zy({t:"b",v:t[h]},r),y=ew({t:"b",v:t[h]},r);break;default:throw new Error("Unsupported value "+t[h])}u.push(x),d+=x.length,p.push(y),m+=y.length,++A}for(e[2][0].data=Er(A);h<e[7][0].data.length/2;++h)c.setUint16(h*2,65535,!0),f.setUint16(h*2,65535,!0);return e[6][0].data=CA(u),e[3][0].data=CA(p),A}function afe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ia(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(En(n)));var i=qg(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(j){return j.forEach(function(k){typeof k=="string"&&o.push(k)})});var l={},A=[],c=Tr.read(t.numbers,{type:"base64"});c.FileIndex.map(function(j,k){return[j,c.FullPaths[k]]}).forEach(function(j){var k=j[0],M=j[1];if(k.type==2&&k.name.match(/\.iwa/)){var S=k.content,_=mi(S),Z=hi(_);Z.forEach(function(K){A.push(K.id),l[K.id]={deps:[],location:M,type:Xd(K.messages[0].meta[1][0].data)}})}}),A.sort(function(j,k){return j-k});var d=A.filter(function(j){return j>1}).map(function(j){return[j,Er(j)]});c.FileIndex.map(function(j,k){return[j,c.FullPaths[k]]}).forEach(function(j){var k=j[0];if(j[1],!!k.name.match(/\.iwa/)){var M=hi(mi(k.content));M.forEach(function(S){S.messages.forEach(function(_){d.forEach(function(Z){S.messages.some(function(K){return Xd(K.meta[1][0].data)!=11006&&tfe(K.data,Z[1])})&&l[Z[0]].deps.push(S.id)})})})}});for(var u=Tr.find(c,l[1].location),f=hi(mi(u.content)),m,p=0;p<f.length;++p){var h=f[p];h.id==1&&(m=h)}var x=wl(_n(m.messages[0].data)[1][0].data);for(u=Tr.find(c,l[x].location),f=hi(mi(u.content)),p=0;p<f.length;++p)h=f[p],h.id==x&&(m=h);for(x=wl(_n(m.messages[0].data)[2][0].data),u=Tr.find(c,l[x].location),f=hi(mi(u.content)),p=0;p<f.length;++p)h=f[p],h.id==x&&(m=h);for(x=wl(_n(m.messages[0].data)[2][0].data),u=Tr.find(c,l[x].location),f=hi(mi(u.content)),p=0;p<f.length;++p)h=f[p],h.id==x&&(m=h);var y=_n(m.messages[0].data);{y[6][0].data=Er(n.e.r+1),y[7][0].data=Er(n.e.c+1);var g=wl(y[46][0].data),w=Tr.find(c,l[g].location),b=hi(mi(w.content));{for(var C=0;C<b.length&&b[C].id!=g;++C);if(b[C].id!=g)throw"Bad ColumnRowUIDMapArchive";var N=_n(b[C].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var B=0;B<=n.e.c;++B){var F=[];F[1]=F[2]=[{type:0,data:Er(B+420690)}],N[1].push({type:2,data:qn(F)}),N[2].push({type:0,data:Er(B)}),N[3].push({type:0,data:Er(B)})}N[4]=[],N[5]=[],N[6]=[];for(var E=0;E<=n.e.r;++E)F=[],F[1]=F[2]=[{type:0,data:Er(E+726270)}],N[4].push({type:2,data:qn(F)}),N[5].push({type:0,data:Er(E)}),N[6].push({type:0,data:Er(E)});b[C].messages[0].data=qn(N)}w.content=cd(Ad(b)),w.size=w.content.length,delete y[46];var U=_n(y[4][0].data);{U[7][0].data=Er(n.e.r+1);var P=_n(U[1][0].data),O=wl(P[2][0].data);w=Tr.find(c,l[O].location),b=hi(mi(w.content));{if(b[0].id!=O)throw"Bad HeaderStorageBucket";var X=_n(b[0].messages[0].data);for(E=0;E<i.length;++E){var ae=_n(X[2][0].data);ae[1][0].data=Er(E),ae[4][0].data=Er(i[E].length),X[2][E]={type:X[2][0].type,data:qn(ae)}}b[0].messages[0].data=qn(X)}w.content=cd(Ad(b)),w.size=w.content.length;var he=wl(U[2][0].data);w=Tr.find(c,l[he].location),b=hi(mi(w.content));{if(b[0].id!=he)throw"Bad HeaderStorageBucket";for(X=_n(b[0].messages[0].data),B=0;B<=n.e.c;++B)ae=_n(X[2][0].data),ae[1][0].data=Er(B),ae[4][0].data=Er(n.e.r+1),X[2][B]={type:X[2][0].type,data:qn(ae)};b[0].messages[0].data=qn(X)}w.content=cd(Ad(b)),w.size=w.content.length;var q=wl(U[4][0].data);(function(){for(var j=Tr.find(c,l[q].location),k=hi(mi(j.content)),M,S=0;S<k.length;++S){var _=k[S];_.id==q&&(M=_)}var Z=_n(M.messages[0].data);{Z[3]=[];var K=[];o.forEach(function(Te,Nt){K[1]=[{type:0,data:Er(Nt)}],K[2]=[{type:0,data:Er(1)}],K[3]=[{type:2,data:efe(Te)}],Z[3].push({type:2,data:qn(K)})})}M.messages[0].data=qn(Z);var re=Ad(k),ye=cd(re);j.content=ye,j.size=j.content.length})();var ne=_n(U[3][0].data);{var H=ne[1][0];delete ne[2];var J=_n(H.data);{var de=wl(J[2][0].data);(function(){for(var j=Tr.find(c,l[de].location),k=hi(mi(j.content)),M,S=0;S<k.length;++S){var _=k[S];_.id==de&&(M=_)}var Z=_n(M.messages[0].data);{delete Z[6],delete ne[7];var K=new Uint8Array(Z[5][0].data);Z[5]=[];for(var re=0,ye=0;ye<=n.e.r;++ye){var Te=_n(K);re+=sfe(Te,i[ye],o),Te[1][0].data=Er(ye),Z[5].push({data:qn(Te),type:2})}Z[1]=[{type:0,data:Er(n.e.c+1)}],Z[2]=[{type:0,data:Er(n.e.r+1)}],Z[3]=[{type:0,data:Er(re)}],Z[4]=[{type:0,data:Er(n.e.r+1)}]}M.messages[0].data=qn(Z);var Nt=Ad(k),mt=cd(Nt);j.content=mt,j.size=j.content.length})()}H.data=qn(J)}U[3][0].data=qn(ne)}y[4][0].data=qn(U)}m.messages[0].data=qn(y);var se=Ad(f),D=cd(se);return u.content=D,u.size=u.content.length,c}function ife(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function YB(e){ife([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function ofe(e,t){return t.bookType=="ods"?k5(e,t):t.bookType=="numbers"?afe(e,t):t.bookType=="xlsb"?lfe(e,t):Afe(e,t)}function lfe(e,t){kd=1024,e&&!e.SSF&&(e.SSF=ma(dn)),e&&e.SSF&&(mv(),hv(e.SSF),t.revssf=pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ah?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=h5.indexOf(t.bookType)>-1,a=KM();YB(t=t||{});var i=QB(),o="",l=0;if(t.cellXfs=[],TA(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",or(i,o,WM(e.Props,t)),a.coreprops.push(o),Fr(t.rels,2,o,vr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var A=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&A.push(e.SheetNames[c]);e.Props.SheetNames=A}for(e.Props.Worksheets=e.Props.SheetNames.length,or(i,o,XM(e.Props)),a.extprops.push(o),Fr(t.rels,3,o,vr.EXT_PROPS),e.Custprops!==e.Props&&ds(e.Custprops||{}).length>0&&(o="docProps/custom.xml",or(i,o,qM(e.Custprops)),a.custprops.push(o),Fr(t.rels,4,o,vr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},u=e.Sheets[e.SheetNames[l-1]],f=(u||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,or(i,o,due(l-1,o,t,e,d)),a.sheets.push(o),Fr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,vr.WS[0])}if(u){var m=u["!comments"],p=!1,h="";m&&m.length>0&&(h="xl/comments"+l+"."+r,or(i,h,hue(m,h)),a.comments.push(h),Fr(d,-1,"../comments"+l+"."+r,vr.CMNT),p=!0),u["!legacy"]&&p&&or(i,"xl/drawings/vmlDrawing"+l+".vml",u5(l,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&or(i,$M(o),Wd(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,or(i,o,fue(t.Strings,o,t)),a.strs.push(o),Fr(t.wbrels,-1,"sharedStrings."+r,vr.SST)),o="xl/workbook."+r,or(i,o,cue(e,o)),a.workbooks.push(o),Fr(t.rels,1,o,vr.WB),o="xl/theme/theme1.xml",or(i,o,c5(e.Themes,t)),a.themes.push(o),Fr(t.wbrels,-1,"theme/theme1.xml",vr.THEME),o="xl/styles."+r,or(i,o,uue(e,o,t)),a.styles.push(o),Fr(t.wbrels,-1,"styles."+r,vr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",or(i,o,e.vbaraw),a.vba.push(o),Fr(t.wbrels,-1,"vbaProject.bin",vr.VBA)),o="xl/metadata."+r,or(i,o,mue(o)),a.metadata.push(o),Fr(t.wbrels,-1,"metadata."+r,vr.XLMETA),or(i,"[Content_Types].xml",VM(a,t)),or(i,"_rels/.rels",Wd(t.rels)),or(i,"xl/_rels/workbook."+r+".rels",Wd(t.wbrels)),delete t.revssf,delete t.ssf,i}function Afe(e,t){kd=1024,e&&!e.SSF&&(e.SSF=ma(dn)),e&&e.SSF&&(mv(),hv(e.SSF),t.revssf=pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ah?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=h5.indexOf(t.bookType)>-1,a=KM();YB(t=t||{});var i=QB(),o="",l=0;if(t.cellXfs=[],TA(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",or(i,o,WM(e.Props,t)),a.coreprops.push(o),Fr(t.rels,2,o,vr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var A=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&A.push(e.SheetNames[c]);e.Props.SheetNames=A}e.Props.Worksheets=e.Props.SheetNames.length,or(i,o,XM(e.Props)),a.extprops.push(o),Fr(t.rels,3,o,vr.EXT_PROPS),e.Custprops!==e.Props&&ds(e.Custprops||{}).length>0&&(o="docProps/custom.xml",or(i,o,qM(e.Custprops)),a.custprops.push(o),Fr(t.rels,4,o,vr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,or(i,o,C5(l-1,t,e,u)),a.sheets.push(o),Fr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,vr.WS[0])}if(f){var p=f["!comments"],h=!1,x="";if(p&&p.length>0){var y=!1;p.forEach(function(g){g[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(x="xl/threadedComments/threadedComment"+l+"."+r,or(i,x,Lle(p,d,t)),a.threadedcomments.push(x),Fr(u,-1,"../threadedComments/threadedComment"+l+"."+r,vr.TCMNT)),x="xl/comments"+l+"."+r,or(i,x,f5(p)),a.comments.push(x),Fr(u,-1,"../comments"+l+"."+r,vr.CMNT),h=!0}f["!legacy"]&&h&&or(i,"xl/drawings/vmlDrawing"+l+".vml",u5(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&or(i,$M(o),Wd(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,or(i,o,s5(t.Strings,t)),a.strs.push(o),Fr(t.wbrels,-1,"sharedStrings."+r,vr.SST)),o="xl/workbook."+r,or(i,o,N5(e)),a.workbooks.push(o),Fr(t.rels,1,o,vr.WB),o="xl/theme/theme1.xml",or(i,o,c5(e.Themes,t)),a.themes.push(o),Fr(t.wbrels,-1,"theme/theme1.xml",vr.THEME),o="xl/styles."+r,or(i,o,l5(e,t)),a.styles.push(o),Fr(t.wbrels,-1,"styles."+r,vr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",or(i,o,e.vbaraw),a.vba.push(o),Fr(t.wbrels,-1,"vbaProject.bin",vr.VBA)),o="xl/metadata."+r,or(i,o,d5()),a.metadata.push(o),Fr(t.wbrels,-1,"metadata."+r,vr.XLMETA),d.length>1&&(o="xl/persons/person.xml",or(i,o,Mle(d)),a.people.push(o),Fr(t.wbrels,-1,"persons/person.xml",vr.PEOPLE)),or(i,"[Content_Types].xml",VM(a,t)),or(i,"_rels/.rels",Wd(t.rels)),or(i,"xl/_rels/workbook."+r+".rels",Wd(t.wbrels)),delete t.revssf,delete t.ssf,i}function cfe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=dl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function I5(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Om(t.file,Tr.write(e,{type:br?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Tr.write(e,t)}function dfe(e,t){var r=ma(t||{}),n=ofe(e,r);return ufe(n,r)}function ufe(e,t){var r={},n=br?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Tr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(fv(a))}return t.password&&typeof encrypt_agile<"u"?I5(encrypt_agile(a,t.password),t):t.type==="file"?Om(t.file,a):t.type=="string"?ah(a):a}function ffe(e,t){var r=t||{},n=Fue(e,r);return I5(n,r)}function qi(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return nm(am(n));case"binary":return am(n);case"string":return e;case"file":return Om(t.file,n,"utf8");case"buffer":return br?hl(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):qi(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function hfe(e,t){switch(t.type){case"base64":return nm(e);case"binary":return e;case"string":return e;case"file":return Om(t.file,e,"binary");case"buffer":return br?hl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function J0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?nm(r):t.type=="string"?ah(r):r;case"file":return Om(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function wv(e,t){Hae(),Zde(e);var r=ma(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=wv(e,r);return r.type="array",fv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return qi(Eue(e,r),r);case"slk":case"sylk":return qi(qoe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return qi(F5(e.Sheets[e.SheetNames[a]],r),r);case"txt":return hfe(U5(e.Sheets[e.SheetNames[a]],r),r);case"csv":return qi(JB(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return qi(Yoe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return J0(Xoe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return qi(Joe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return qi(ale.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return qi(n5.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return qi(k5(e,r),r);case"wk1":return J0(bS.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return J0(bS.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),J0(S5(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),ffe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return dfe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function mfe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Xg(e,t,r){var n=r||{};return n.type="file",n.file=t,mfe(n),wv(e,n)}function pfe(e,t,r,n,a,i,o,l){var A=As(r),c=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),u=!0,f=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch{f.__rowNum__=r}else f.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=o?e[r][m]:e[n[m]+A];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[m]!=null&&(f[i[m]]=c);continue}var h=p.v;switch(p.t){case"z":if(h==null)break;continue;case"e":h=h==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(h==null)if(p.t=="e"&&h===null)f[i[m]]=null;else if(c!==void 0)f[i[m]]=c;else if(d&&h===null)f[i[m]]=null;else continue;else f[i[m]]=d&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?h:ul(p,h,l);h!=null&&(u=!1)}}return{row:f,isempty:u}}function qg(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",A={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof d){case"string":A=Gr(d);break;case"number":A=Gr(e["!ref"]),A.s.r=d;break;default:A=d}n>0&&(a=0);var u=As(A.s.r),f=[],m=[],p=0,h=0,x=Array.isArray(e),y=A.s.r,g=0,w={};x&&!e[y]&&(e[y]=[]);var b=c.skipHidden&&e["!cols"]||[],C=c.skipHidden&&e["!rows"]||[];for(g=A.s.c;g<=A.e.c;++g)if(!(b[g]||{}).hidden)switch(f[g]=bs(g),r=x?e[y][g]:e[f[g]+u],n){case 1:i[g]=g-A.s.c;break;case 2:i[g]=f[g];break;case 3:i[g]=c.header[g-A.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ul(r,null,c),h=w[o]||0,!h)w[o]=1;else{do l=o+"_"+h++;while(w[l]);w[o]=h,w[l]=1}i[g]=l}for(y=A.s.r+a;y<=A.e.r;++y)if(!(C[y]||{}).hidden){var N=pfe(e,A,y,f,n,i,x,c);(N.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[p++]=N.row)}return m.length=p,m}var TS=/"/g;function gfe(e,t,r,n,a,i,o,l){for(var A=!0,c=[],d="",u=As(r),f=t.s.c;f<=t.e.c;++f)if(n[f]){var m=l.dense?(e[r]||[])[f]:e[n[f]+u];if(m==null)d="";else if(m.v!=null){A=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:ul(m,null,l));for(var p=0,h=0;p!==d.length;++p)if((h=d.charCodeAt(p))===a||h===i||h===34||l.forceQuotes){d='"'+d.replace(TS,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(A=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(TS,'""')+'"')):d="";c.push(d)}return l.blankrows===!1&&A?null:c.join(o)}function JB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Gr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,A=l.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),d="",u=[];n.dense=Array.isArray(e);for(var f=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(f[p]||{}).hidden||(u[p]=bs(p));for(var h=0,x=a.s.r;x<=a.e.r;++x)(m[x]||{}).hidden||(d=gfe(e,a,x,u,o,A,i,n),d!=null&&(n.strip&&(d=d.replace(c,"")),(d||n.blankrows!==!1)&&r.push((h++?l:"")+d)));return delete n.dense,r.join("")}function U5(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=JB(e,t);return r}function xfe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Gr(e["!ref"]),i="",o=[],l,A=[],c=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=bs(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=As(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=c?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}A[A.length]=t+"="+n}return A}function Q5(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var A=typeof n.origin=="string"?Vn(n.origin):n.origin;o=A.r,l=A.c}var c,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var u=Gr(i["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(o=u.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var f=n.header||[],m=0;t.forEach(function(h,x){ds(h).forEach(function(y){(m=f.indexOf(y))==-1&&(f[m=f.length]=y);var g=h[y],w="z",b="",C=Ir({c:l+m,r:o+x+a});c=lm(i,C),g&&typeof g=="object"&&!(g instanceof Date)?i[C]=g:(typeof g=="number"?w="n":typeof g=="boolean"?w="b":typeof g=="string"?w="s":g instanceof Date?(w="d",n.cellDates||(w="n",g=ha(g)),b=n.dateNF||dn[14]):g===null&&n.nullError&&(w="e",g=0),c?(c.t=w,c.v=g,delete c.w,delete c.R,b&&(c.z=b)):i[C]=c={t:w,v:g},b&&(c.z=b))})}),d.e.c=Math.max(d.e.c,l+f.length-1);var p=As(o);if(a)for(m=0;m<f.length;++m)i[bs(m+l)+p]={t:"s",v:f[m]};return i["!ref"]=En(d),i}function vfe(e,t){return Q5(null,e,t)}function lm(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Vn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?lm(e,Ir(t)):lm(e,Ir({r:t,c:r||0}))}function yfe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function wfe(){return{SheetNames:[],Sheets:{}}}function bfe(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(j5(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Cfe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=yfe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Bfe(e,t){return e.z=t,e}function D5(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function jfe(e,t,r){return D5(e,"#"+t,r)}function Nfe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Efe(e,t,r,n){for(var a=typeof t!="string"?t:Gr(t),i=typeof t=="string"?t:En(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var A=lm(e,o,l);A.t="n",A.F=i,delete A.v,o==a.s.r&&l==a.s.c&&(A.f=r,n&&(A.D=!0))}return e}var Xa={encode_col:bs,encode_row:As,encode_cell:Ir,encode_range:En,decode_col:MB,decode_row:LB,split_cell:Hie,decode_cell:Vn,decode_range:Ia,format_cell:ul,sheet_add_aoa:PM,sheet_add_json:Q5,sheet_add_dom:T5,aoa_to_sheet:Ju,json_to_sheet:vfe,table_to_sheet:_5,table_to_book:Yue,sheet_to_csv:JB,sheet_to_txt:U5,sheet_to_json:qg,sheet_to_html:F5,sheet_to_formulae:xfe,sheet_to_row_object_array:qg,sheet_get_cell:lm,book_new:wfe,book_append_sheet:bfe,book_set_sheet_visibility:Cfe,cell_set_number_format:Bfe,cell_set_hyperlink:D5,cell_set_internal_link:jfe,cell_add_comment:Nfe,sheet_set_array_formula:Efe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Sfe=Object.freeze(Object.defineProperty({__proto__:null,CFB:Tr,utils:Xa,write:wv,writeFile:Xg,writeFileSync:Xg},Symbol.toStringTag,{value:"Module"})),Ffe=e=>["monday","tuesday","wednesday","thursday","friday","saturday"].filter(r=>e.includes(r)),Ra=e=>{const[t,r]=e.split(":"),n=parseInt(t,10),a=n===0?12:n>12?n-12:n,i=n>=12?"PM":"AM";return`${a}:${r} ${i}`},Nl=e=>{const t=new Date(e),r=t.getDay(),n=t.getDate()-r+(r===0?-6:1);return new Date(t.setDate(n))},_S=e=>{const t=Nl(e);return new Date(t.getTime()+6*24*60*60*1e3)},tw=(e,t)=>{const r={month:"short",day:"numeric",year:"numeric"};return`${e.toLocaleDateString("en-US",r)} - ${t.toLocaleDateString("en-US",r)}`};function Tfe(){var vt,ze,At,Mt,Ur,Qr,mn,Vi,$i;const{user:e}=Ns(),{toast:t}=On(),[r]=Da(),[n,a]=v.useState(""),[i,o]=v.useState("class"),l=new Date,[A,c]=v.useState(!1),[d,u]=v.useState(!1),[f,m]=v.useState(!1),[p,h]=v.useState(null),[x,y]=v.useState(""),[g,w]=v.useState(""),[b,C]=v.useState(!1),[N,B]=v.useState(!1),[F,E]=v.useState(!1),[U,P]=v.useState(null),[O,X]=v.useState(!1),[ae,he]=v.useState(!1),[q,ne]=v.useState(!1),[H,J]=v.useState(!1),[de,se]=v.useState(!1),[D,j]=v.useState(!1),{data:k,isLoading:M}=Je({queryKey:["/api/classes"],staleTime:5*60*1e3});v.useEffect(()=>{if(r==="/timetable"&&k&&Array.isArray(k)){const ee=new URLSearchParams(window.location.search),be=ee.get("classId"),ve=ee.get("class");if(be)a(be),o("class");else if(ve){const Ce=k.find(Ye=>Ye.grade===ve);Ce&&(a(Ce.id),o("class"))}else a("")}},[r,k]);const{data:S,isLoading:_}=Je({queryKey:["/api/teachers"],staleTime:5*60*1e3}),{data:Z,isLoading:K}=Je({queryKey:["/api/timetable-structure"],staleTime:10*60*1e3}),{data:re=[]}=Je({queryKey:["/api/timetable-changes/active"],queryFn:async()=>(await Ne("GET","/api/timetable-changes/active")).json(),staleTime:30*1e3}),{data:ye}=Je({queryKey:["timetable-freeze-status"],queryFn:async()=>(await Ne("GET","/api/settings/timetable-freeze-status")).json(),staleTime:60*1e3,refetchInterval:60*1e3}),{data:Te=[]}=Je({queryKey:["substitutions",l.toISOString().split("T")[0]],queryFn:async()=>{const ee=Nl(l),be=_S(l),ve=new URLSearchParams({weekStart:ee.toISOString().split("T")[0],weekEnd:be.toISOString().split("T")[0]});return(await Ne("GET",`/api/substitutions?${ve}`)).json()},enabled:!!(e!=null&&e.schoolId),refetchInterval:5e3}),{data:Nt=[]}=Je({queryKey:["teacher-attendance",l.toISOString().split("T")[0]],queryFn:async()=>{const ee=new URLSearchParams({date:l.toISOString().split("T")[0]});return(await Ne("GET",`/api/teacher-attendance?${ee}`)).json()},enabled:!!(e!=null&&e.schoolId),refetchInterval:5e3}),{data:mt=[]}=Je({queryKey:["rejected-substitutions",e==null?void 0:e.schoolId,l.toISOString().split("T")[0]],queryFn:async()=>{if(!(e!=null&&e.schoolId))return[];const ee=new URLSearchParams({date:l.toISOString().split("T")[0]});return e.role==="super_admin"&&ee.append("schoolId",e.schoolId),(await Ne("GET",`/api/substitutions/rejected?${ee}`)).json()},enabled:!!(e!=null&&e.schoolId)&&(e.role==="admin"||e.role==="super_admin"),staleTime:3e4}),{data:Vt=[]}=Je({queryKey:["/api/class-subject-assignments",n],queryFn:async()=>{if(!n)return[];console.log(`[SUBJECTS] Fetching subjects for class: ${n}`);const be=await(await Ne("GET",`/api/class-subject-assignments?classId=${n}`)).json();return console.log(`[SUBJECTS] Found ${be.length} subject assignments:`,be),be},enabled:!!n,staleTime:5*60*1e3}),{data:$t=[]}=Je({queryKey:["/api/subjects"],staleTime:5*60*1e3}),He=Vt.filter(ee=>ee.subject).map(ee=>ee.subject),Tt=He.length>0?He:$t,{data:dr=[]}=Je({queryKey:["/api/timetable/available-teachers",p==null?void 0:p.day,p==null?void 0:p.period,n,x,N],queryFn:async()=>{if(!p||!n||!x&&!N)return[];const ee=Nl(l),ve=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(p.day.toLowerCase()),Ce=new Date(ee);ve===0?Ce.setDate(ee.getDate()+6):Ce.setDate(ee.getDate()+(ve-1));const Ye=new URLSearchParams({classId:n,day:p.day,period:p.period.toString(),date:Ce.toISOString().split("T")[0]});return!N&&x&&Ye.append("subjectId",x),(await Ne("GET",`/api/timetable/available-teachers?${Ye.toString()}`)).json()},enabled:!!p&&!!n&&(!!x||N)&&b,staleTime:0}),Y=Ct({mutationFn:async ee=>(console.log("[WEEKLY EDIT] Sending data:",ee),(await Ne("POST","/api/timetable/weekly-edit",ee)).json()),onSuccess:ee=>{console.log("[WEEKLY EDIT] Success response:",ee),Ee.invalidateQueries({queryKey:["/api/timetable/detailed"]}),Ee.invalidateQueries({queryKey:["/api/timetable/global"]}),Ee.invalidateQueries({queryKey:["/api/timetable/weekly"]}),Ee.invalidateQueries({queryKey:["/api/timetable/enhanced"]}),Ee.refetchQueries({queryKey:["/api/timetable/detailed",n,i]}),Ee.refetchQueries({queryKey:["/api/timetable/global",n]}),n&&(Ee.refetchQueries({queryKey:["/api/timetable/weekly",n]}),Ee.refetchQueries({queryKey:["/api/timetable/enhanced",n]}),Ee.refetchQueries({queryKey:["/api/timetable/weekly",n,l.toISOString().split("T")[0]]})),C(!1),h(null),y(""),w(""),console.log("[WEEKLY EDIT] Weekly assignment completed successfully with auto-refresh!")},onError:ee=>{alert(`Error: ${ee.message}`)}}),Ae=Ct({mutationFn:async ee=>(console.log("[ASSIGNMENT] Sending data:",ee),(await Ne("POST","/api/timetable/manual-assign",ee)).json()),onSuccess:ee=>{console.log("[ASSIGNMENT] Success response:",ee),Ee.invalidateQueries({queryKey:["/api/timetable/detailed"]}),Ee.invalidateQueries({queryKey:["/api/timetable-changes/active"]}),Ee.refetchQueries({queryKey:["/api/timetable/detailed",n,i]}),C(!1),h(null),y(""),w(""),console.log("[ASSIGNMENT] Assignment completed successfully!")},onError:ee=>{alert(`Error: ${ee.message}`)}}),xe=Ct({mutationFn:async ee=>{var ve;if(ee.startsWith("weekly-")){console.log("[DELETE] Handling weekly entry deletion for ID:",ee);const Ce=ee.split("-");if(Ce.length>=3){const Ye=Ce[1],ft=parseInt(Ce[2]);console.log("[DELETE] Extracted day:",Ye,"period:",ft);const Qt=Nl(l).toISOString().split("T")[0],Rt=(ve=Z==null?void 0:Z.timeSlots)==null?void 0:ve.find(ue=>ue.period===ft);return(await Ne("POST","/api/timetable/weekly-edit",{classId:n,weekStart:Qt,day:Ye,period:ft,teacherId:null,subjectId:null,startTime:(Rt==null?void 0:Rt.startTime)||"00:00",endTime:(Rt==null?void 0:Rt.endTime)||"00:00",room:void 0,reason:"Manual deletion of weekly entry via admin interface"})).json()}else throw new Error("Invalid weekly entry ID format")}const be=zr==null?void 0:zr.find(Ce=>Ce.id===ee);if(!be)throw new Error("Timetable entry not found");if((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"){const Ye=Nl(l).toISOString().split("T")[0];return(await Ne("POST","/api/timetable/weekly-edit",{classId:n,weekStart:Ye,day:be.day,period:be.period,teacherId:null,subjectId:null,startTime:be.startTime,endTime:be.endTime,room:void 0,reason:"Manual deletion via admin interface"})).json()}else{const Ye=(Qt=>{const R=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(Qt.toLowerCase());if(R===-1)return l;const ue=Nl(l),Ze=new Date(ue);return R===0?Ze.setDate(ue.getDate()+6):Ze.setDate(ue.getDate()+(R-1)),Ze})(be.day),ft=new URLSearchParams({date:Ye.toISOString().split("T")[0]});return await Ne("DELETE",`/api/timetable/entry/${ee}?${ft}`)}},onSuccess:()=>{console.log("[DELETE] Entry deleted successfully"),Ee.invalidateQueries({queryKey:["/api/timetable/detailed"]}),Ee.invalidateQueries({queryKey:["/api/timetable/global"]}),Ee.invalidateQueries({queryKey:["/api/timetable/weekly"]}),Ee.invalidateQueries({queryKey:["/api/timetable/enhanced"]}),(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"||Ee.invalidateQueries({queryKey:["/api/timetable-changes/active"]}),Ee.refetchQueries({queryKey:["/api/timetable/detailed",n,i]}),Ee.refetchQueries({queryKey:["/api/timetable/global",n]}),n&&(Ee.refetchQueries({queryKey:["/api/timetable/weekly",n]}),Ee.refetchQueries({queryKey:["/api/timetable/enhanced",n]}),Ee.refetchQueries({queryKey:["/api/timetable/weekly",n,l.toISOString().split("T")[0]]})),E(!1),P(null),console.log("[DELETE] Entry deletion completed successfully with auto-refresh!")},onError:ee=>{console.error("[DELETE] Error:",ee),alert(`Error: ${ee.message}`)}}),Ke=(ee,be)=>{be.stopPropagation(),P(ee),E(!0)},z=()=>{U&&xe.mutate(U.id)},ce=(ee,be,ve,Ce)=>{var Ye;(e==null?void 0:e.role)!=="admin"&&(e==null?void 0:e.role)!=="super_admin"||ve.isBreak||(h({day:ee,period:be,timeSlot:ve,entry:Ce}),(Ye=Ce==null?void 0:Ce.subject)!=null&&Ye.id?(y(Ce.subject.id),B(!1)):y(""),w(""),C(!0))},Me=()=>{var ve;if(!p||!n)return;const be=Nl(l).toISOString().split("T")[0];if((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin")Y.mutate({classId:n,weekStart:be,day:p.day,period:p.period,teacherId:g,subjectId:N?"":x||"",startTime:p.timeSlot.startTime,endTime:p.timeSlot.endTime,room:void 0,reason:g?N?"Free period assignment via admin interface":"Manual assignment via admin interface":"Manual removal via admin interface"});else{if(!g||!x&&!N)return;Ae.mutate({newTeacherId:g,classId:n,subjectId:N?"":x||"",day:p.day,period:p.period,startTime:p.timeSlot.startTime,endTime:p.timeSlot.endTime,timetableEntryId:(ve=p.entry)==null?void 0:ve.id,reason:N?"Free period assignment via interface":"Manual assignment via interface"})}},Et=!!n,{data:It,isLoading:fn}=Je({queryKey:["/api/timetable/weekly",n,l.toISOString().split("T")[0]],queryFn:async()=>{if(!Et)return null;const ee=new URLSearchParams({date:l.toISOString().split("T")[0]});console.log("[WEEKLY API] Fetching weekly timetable for class:",n,"date:",l.toISOString().split("T")[0]);const ve=await(await Ne("GET",`/api/timetable/weekly/${n}?${ee.toString()}`)).json();return console.log("[WEEKLY API] Response:",ve),ve},enabled:Et,staleTime:0}),{data:zr,isLoading:Jr}=Je({queryKey:["/api/timetable/detailed",n],queryFn:async()=>{if(!Et)return[];const ee=new URLSearchParams;return n&&ee.append("classId",n),(await Ne("GET",`/api/timetable/detailed?${ee.toString()}`)).json()},enabled:Et,staleTime:0}),{data:di,isLoading:ui}=Je({queryKey:["/api/timetable/global",n],queryFn:async()=>{try{if(!Et)return[];const ee=new URLSearchParams;n&&ee.append("classId",n),console.log("[GLOBAL API] Fetching global timetable with params:",{url:`/api/timetable/global?${ee.toString()}`,params:Object.fromEntries(ee)});const be=Date.now(),ve=new URLSearchParams(ee);ve.set("_t",be.toString()),ve.set("_nocache",Math.random().toString(36));const Ce=await Ne("GET",`/api/timetable/global?${ve.toString()}`),Ye=Ce.headers.get("content-type");if(console.log("[GLOBAL API] Response Content-Type:",Ye),!Ye||!Ye.includes("application/json"))throw new Error("API returned non-JSON response (likely authentication redirect)");const ft=await Ce.json();return console.log("[GLOBAL API] Response data:",ft),console.log("[GLOBAL API] Data length:",(ft==null?void 0:ft.length)||0),console.log("[GLOBAL API] Sample entry:",(ft==null?void 0:ft[0])||"No entries"),ft}catch(ee){return console.error("[GLOBAL API] Error fetching global timetable:",ee),[]}},enabled:Et,staleTime:0}),Xn=()=>It&&It.type==="weekly"&&It.data,So=(ee,be)=>{if(console.log("[WEEKLY ENTRY] getTimetableEntry called for day:",ee,"period:",be),It&&It.type==="weekly"&&It.data){console.log("[WEEKLY ENTRY] Weekly timetable exists for this week - using ONLY weekly data"),console.log("[WEEKLY ENTRY] Looking for entry in weekly data for day:",ee,"period:",be),console.log("[WEEKLY ENTRY] Weekly data structure:",It.data);let ve=It.data.timetableData;if(Array.isArray(ve)){console.log("[WEEKLY ENTRY] Using weekly timetableData array with",ve.length,"entries");const Ce=ve.find(Ye=>{var ft;return((ft=Ye.day)==null?void 0:ft.toLowerCase())===ee.toLowerCase()&&Ye.period===be});if(Ce){console.log("[WEEKLY ENTRY] Found weekly entry:",Ce);const Ye=S==null?void 0:S.find(ue=>ue.id===Ce.teacherId),ft=Tt==null?void 0:Tt.find(ue=>ue.id===Ce.subjectId),ot=k==null?void 0:k.find(ue=>ue.id===It.classId);console.log("[WEEKLY ENTRY] Resolved teacher:",Ye==null?void 0:Ye.name,"subject:",ft==null?void 0:ft.name),console.log("[WEEKLY ENTRY] Available teachers:",S==null?void 0:S.length,"subjects:",Tt==null?void 0:Tt.length);const Qt=Ce.isModified===!0,Rt=zr==null?void 0:zr.find(ue=>ue.day.toLowerCase()===ee.toLowerCase()&&ue.period===be);let R;return!Qt&&Rt?(R=Rt.id,console.log("[WEEKLY ENTRY] Using global ID for unmodified entry:",R)):(R=`weekly-${Ce.day}-${Ce.period}`,console.log("[WEEKLY ENTRY] Using synthetic ID for modified entry:",R)),{...Ce,id:R,classId:It.classId,teacher:Ye||{id:Ce.teacherId,name:"Unknown Teacher"},subject:ft||{id:Ce.subjectId,name:Ye?"Free Subject":"Unknown Subject"},class:ot||{id:It.classId}}}else return console.log("[WEEKLY ENTRY] No weekly entry found for",ee,be,"- showing Free Period (weekly table exists but no entry for this slot)"),null}}return console.log("[WEEKLY ENTRY] No weekly timetable found in database for this week - showing Free Period (weekly view should NEVER show global data)"),null},us=(ee,be)=>!di||!Array.isArray(di)?null:di.find(ve=>ve.day.toLowerCase()===ee.toLowerCase()&&ve.period===be)||null,fs=async ee=>{if(!D){j(!0);try{if(ee==="png"){const be=document.querySelector('[data-export="global-timetable-grid"]');if(!be){console.error("Global timetable grid element not found for export");return}const ve=(await Gy(async()=>{const{default:Qt}=await Promise.resolve().then(()=>UE);return{default:Qt}},void 0)).default,Ce=await ve(be,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),Ye=k==null?void 0:k.find(Qt=>Qt.id===n),ft=Ye!=null&&Ye.section?`${Ye.grade}-${Ye.section}`:(Ye==null?void 0:Ye.grade)||n,ot=document.createElement("a");ot.download=`global-timetable-${ft}.png`,ot.href=Ce.toDataURL(),ot.click()}else if(ee==="png-students")await Ve();else if(ee==="excel"){const{utils:be,writeFile:ve}=await Gy(async()=>{const{utils:Rt,writeFile:R}=await Promise.resolve().then(()=>Sfe);return{utils:Rt,writeFile:R}},void 0),Ce=k==null?void 0:k.find(Rt=>Rt.id===n),Ye=Ce!=null&&Ce.section?`${Ce.grade}-${Ce.section}`:(Ce==null?void 0:Ce.grade)||n,ft=[[`Global Timetable - Class ${Ye}`],[],["",...ur.map(Rt=>Rt.name)],...ie.map(Rt=>[`Period ${Rt.period} (${Ra(Rt.startTime)} - ${Ra(Rt.endTime)})`,...ur.map(R=>{var Ze,jt,Pt,Zr,Zt;const ue=us(R.name.toLowerCase(),Rt.period);return ue?i==="class"?`${((Ze=ue.subject)==null?void 0:Ze.name)||"Unknown"} - ${((jt=ue.teacher)==null?void 0:jt.name)||"Unknown Teacher"}`:`${((Pt=ue.subject)==null?void 0:Pt.name)||"Unknown"} - ${((Zr=ue.class)==null?void 0:Zr.grade)||"N/A"}-${((Zt=ue.class)==null?void 0:Zt.section)||"N/A"}`:"Free Period"})])],ot=be.aoa_to_sheet(ft),Qt=be.book_new();be.book_append_sheet(Qt,ot,"Global Timetable"),ve(Qt,`global-timetable-${Ye}.xlsx`)}}catch(be){console.error("Export failed:",be)}finally{j(!1)}}},Pa=(ee,be,ve)=>{if(!ve)return!1;const Ce=Ye=>{const ot=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(Ye.toLowerCase());if(ot===-1)return l;const Qt=new Date(l),Rt=Qt.getDay(),R=Rt===0?-6:1-Rt,ue=new Date(Qt);ue.setDate(Qt.getDate()+R);const Ze=new Date(ue);return ot===0?Ze.setDate(ue.getDate()+6):Ze.setDate(ue.getDate()+(ot-1)),Ze};if(Nt&&Array.isArray(Nt)){const Ye=Ce(ee);if(Nt.some(ot=>{if(ot.teacherId!==ve.teacher.id||ot.status!=="absent")return!1;try{const Qt=new Date(ot.attendanceDate||ot.date);return isNaN(Qt.getTime())?!1:Qt.toISOString().split("T")[0]===Ye.toISOString().split("T")[0]}catch{return console.warn("Invalid attendance date:",ot.attendanceDate||ot.date),!1}}))return!(Te&&Array.isArray(Te)&&Te.some(Qt=>Qt.timetableEntryId===ve.id&&Qt.status==="confirmed"))}return!1},ga=(ee,be,ve)=>{if(!ve||!re||!Array.isArray(re))return null;const Ce=re.find(Ye=>Ye.timetableEntryId===ve.id&&Ye.changeType==="substitution"&&Ye.approvedBy);if(Ce&&Ce.newTeacherId)return yt.find(ft=>ft.id===Ce.newTeacherId);if(Te&&Array.isArray(Te)){const Ye=Te.find(ft=>ft.timetableEntryId===ve.id&&ft.status==="confirmed");if(Ye&&Ye.substituteTeacherId)return yt.find(ot=>ot.id===Ye.substituteTeacherId)}return null},Oa=ee=>{if(!(Z!=null&&Z.timeSlots))return ee;let be=0;for(const ve of Z.timeSlots)ve.period<=ee&&!ve.isBreak&&be++;return be},kA=(ee,be,ve)=>!ve||!mt.length?!1:mt.some(Ce=>Ce.timetableEntryId===ve.id&&Ce.day.toLowerCase()===ee.toLowerCase()&&Ce.period===be),Fo=ee=>{const be=ft=>{const ot=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(ft);return ot?{r:parseInt(ot[1],16),g:parseInt(ot[2],16),b:parseInt(ot[3],16)}:null},ve=(ft,ot,Qt)=>{const Rt=Math.round(ft+(255-ft)*.9),R=Math.round(ot+(255-ot)*.9),ue=Math.round(Qt+(255-Qt)*.9),Ze=Math.round(ft+(255-ft)*.7),jt=Math.round(ot+(255-ot)*.7),Pt=Math.round(Qt+(255-Qt)*.7);return{background:`rgb(${Rt}, ${R}, ${ue})`,border:`rgb(${Ze}, ${jt}, ${Pt})`,text:`rgb(${Math.round(ft*.7)}, ${Math.round(ot*.7)}, ${Math.round(Qt*.7)})`}},Ce=be(ee);if(!Ce)return{backgroundColor:"#f9fafb",borderColor:"#e5e7eb",color:"#1f2937",borderWidth:"1px",borderStyle:"solid"};const Ye=ve(Ce.r,Ce.g,Ce.b);return{backgroundColor:Ye.background,borderColor:Ye.border,color:Ye.text,borderWidth:"1px",borderStyle:"solid"}};if(M||_||K)return s.jsx(Kt,{className:"h-96 w-full"});const I=(Z==null?void 0:Z.workingDays)||["monday","tuesday","wednesday","thursday","friday","saturday"],ie=(Z==null?void 0:Z.timeSlots)||[{period:1,startTime:"08:00",endTime:"08:45"},{period:2,startTime:"08:45",endTime:"09:30"},{period:3,startTime:"09:30",endTime:"10:15"},{period:4,startTime:"10:15",endTime:"11:00"},{period:5,startTime:"11:15",endTime:"12:00"},{period:6,startTime:"12:00",endTime:"12:45"},{period:7,startTime:"12:45",endTime:"13:30"},{period:8,startTime:"13:30",endTime:"14:15"}],we=Ffe(I),Se=k||[],yt=S||[],it=Se.slice().sort((ee,be)=>{const ve=ee.section?`${ee.grade}-${ee.section}`:ee.grade,Ce=be.section?`${be.grade}-${be.section}`:be.grade;return ve.localeCompare(Ce,void 0,{numeric:!0,sensitivity:"base"})}),Dt=Nl(l),st=_S(l),ur=(()=>{const ee=[];for(let be=0;be<7;be++){const ve=new Date(Dt.getTime()+be*24*60*60*1e3),Ce=ve.toLocaleDateString("en-US",{weekday:"long"}),Ye=ve.toLocaleDateString("en-US",{month:"short",day:"numeric"});ee.push({name:Ce,shortName:Ce.substring(0,3),date:Ye,fullDate:ve,isWorkingDay:we.includes(Ce.toLowerCase())})}return ee.filter(be=>be.isWorkingDay)})(),Ss=ee=>{const be=new Date;be.setHours(0,0,0,0);const ve=new Date(ee);return ve.setHours(0,0,0,0),ve>=be},hn=()=>{X(!0)},hs=()=>{X(!1),T()},T=async()=>{c(!0);try{if(n&&i==="class"){const ee=Ee.getQueryData(["/api/timetable/detailed",n,i]);try{const ve=await(await Ne("GET",`/api/class-subject-assignments?classId=${n}`)).json();console.log(`[REFRESH] Checking for changes in class ${n}...`),console.log("[REFRESH] Current assignments:",ve),console.log("[REFRESH] Current timetable entries:",(ee==null?void 0:ee.length)||0);let Ce=!1,Ye="";if(!ee||ee.length===0)Ce=!0,Ye="No timetable found";else{const ft=new Map;ee.forEach(ot=>{const Qt=ot.subjectId;ft.has(Qt)||ft.set(Qt,{count:0,teachers:new Set});const Rt=ft.get(Qt);Rt.count++,Rt.teachers.add(ot.teacherId)});for(const ot of ve){const Qt=ot.subjectId,Rt=ot.weeklyFrequency,R=ot.assignedTeacherId,ue=ft.get(Qt);if(!ue){Ce=!0,Ye=`Subject ${ot.subject.name} missing from timetable`;break}if(ue.count!==Rt){Ce=!0,Ye=`Subject ${ot.subject.name} has ${ue.count} periods but needs ${Rt}`;break}if(R&&!ue.teachers.has(R)){Ce=!0,Ye=`Subject ${ot.subject.name} assigned to wrong teacher`;break}}for(const ot of Array.from(ft.keys()))if(!ve.some(Rt=>Rt.subjectId===ot)){Ce=!0,Ye="Timetable contains subject not in current assignments";break}}Ce||(console.log("[REFRESH] No changes detected, but reshuffling timetable as requested"),Ce=!0,Ye="Reshuffling timetable for fresh arrangement"),console.log(`[REFRESH] ${Ye}, regenerating timetable...`),m(!0);try{const ot=await(await Ne("POST","/api/timetable/generate",{classId:n})).json();ot.success?(console.log(`[REFRESH] Timetable regenerated successfully: ${ot.message}`),t({title:"Success",description:ot.message})):(console.warn(`[REFRESH] Regeneration failed: ${ot.message}`),t({title:"Generation Failed",description:ot.message,variant:"destructive"}))}catch(ft){console.error("[REFRESH] Error regenerating timetable:",ft),t({title:"Error",description:"Failed to generate timetable. Please try again.",variant:"destructive"})}finally{m(!1)}}catch(be){console.error("[REFRESH] Error fetching assignments, proceeding with normal refresh:",be)}}await Ee.invalidateQueries({queryKey:["/api/timetable/detailed",n],exact:!1}),await Ee.invalidateQueries({queryKey:["/api/timetable/global",n],exact:!1}),await Ee.invalidateQueries({queryKey:["/api/timetable-structure"],exact:!1}),await Ee.invalidateQueries({queryKey:["/api/timetable-changes/active"],exact:!1}),await Ee.refetchQueries({queryKey:["/api/timetable/detailed",n],exact:!1}),await Ee.refetchQueries({queryKey:["/api/timetable/global",n],exact:!1}),setTimeout(()=>{c(!1)},1e3)}catch(ee){console.error("Error refreshing timetable:",ee),c(!1)}},V=async()=>{if(!n){console.log("No class selected for refresh");return}c(!0);try{const ee=Li(l,{weekStartsOn:1}),be=lv(l,{weekStartsOn:1}),ve=await fetch("/api/timetable/copy-global-to-weekly",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:n,weekStart:ee.toISOString().split("T")[0],weekEnd:be.toISOString().split("T")[0]})}),Ce=await ve.json();if(!ve.ok)throw new Error(Ce.error||"Failed to copy global schedule to weekly");console.log("Successfully copied global schedule to weekly timetable:",Ce),await Ee.invalidateQueries({queryKey:["/api/timetable/weekly",n,l.toISOString().split("T")[0]]}),await Ee.refetchQueries({queryKey:["/api/timetable/weekly",n,l.toISOString().split("T")[0]]})}catch(ee){console.error("Error copying global schedule to weekly:",ee)}finally{c(!1)}},Q=()=>{he(!0)},L=()=>{he(!1),G()},G=async()=>{if(!n){alert("Please select a class first");return}ne(!0);try{const be=await(await Ne("POST","/api/timetable/set-as-global",{classId:n,date:l.toISOString().split("T")[0]})).json();if(be.success)await Ee.invalidateQueries({queryKey:["/api/timetable/detailed"],exact:!1}),await Ee.invalidateQueries({queryKey:["/api/timetable-changes/active"],exact:!1}),await Ee.refetchQueries({queryKey:["/api/timetable/detailed",n],exact:!1}),console.log(`[SET_AS_GLOBAL] Successfully promoted weekly changes to global timetable. ${be.entriesUpdated} entries updated.`),setTimeout(()=>{ne(!1)},1e3);else throw new Error(be.message)}catch(ee){console.error("Error setting as global timetable:",ee),alert("Failed to promote changes to global timetable. Please try again."),ne(!1)}},W=()=>{J(!0)},pe=()=>{J(!1),je()},je=async()=>{if(!n){alert("Please select a class first");return}se(!0);try{const be=await(await Ne("POST","/api/timetable/copy-from-global",{classId:n,date:l.toISOString().split("T")[0]})).json();if(be.success)await Ee.invalidateQueries({queryKey:["/api/timetable/weekly"],exact:!1}),await Ee.invalidateQueries({queryKey:["/api/timetable/detailed"],exact:!1}),await Ee.refetchQueries({queryKey:["/api/timetable/weekly",n,l.toISOString().split("T")[0]],exact:!1}),console.log(`[COPY_FROM_GLOBAL] Successfully copied global timetable to weekly schedule. ${be.entriesCopied} entries copied.`),setTimeout(()=>{se(!1)},1e3);else throw new Error(be.message)}catch(ee){console.error("Error copying from global timetable:",ee),alert("Failed to copy global timetable to weekly schedule. Please try again."),se(!1)}},fe=async ee=>{if(!n){alert("Please select a class or teacher to export their timetable");return}u(!0);try{ee==="png"?await ge():ee==="png-students"?await me():ee==="excel"&&await at()}catch(be){console.error("Export error:",be),alert("Export failed. Please try again.")}finally{u(!1)}},ge=async()=>{const ee=document.querySelector('[data-export="timetable-grid"]');if(!ee){alert("Timetable grid not found for export");return}const be=document.createElement("style");be.id="export-formatting-style",be.textContent=`
      [data-export="timetable-grid"] {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif !important;
        border-collapse: separate !important;
        border-spacing: 1px !important;
      }
      [data-export="timetable-grid"] .grid > div {
        min-height: 60px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        padding: 8px !important;
        box-sizing: border-box !important;
      }
      [data-export="timetable-grid"] .text-sm,
      [data-export="timetable-grid"] .text-xs {
        line-height: 1.2 !important;
      }
      [data-export="timetable-grid"] .font-semibold {
        font-weight: 600 !important;
      }
      [data-export="timetable-grid"] .opacity-90 {
        opacity: 0.9 !important;
      }
    `,document.head.appendChild(be);try{const ve=await Yh(ee,{backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,scale:2,width:ee.scrollWidth,height:ee.scrollHeight}),Ce=i==="class"?k==null?void 0:k.find(ot=>ot.id===n):S==null?void 0:S.find(ot=>ot.id===n),Ye=i==="class"?Ce!=null&&Ce.section?`${Ce.grade}-${Ce.section}`:Ce==null?void 0:Ce.grade:Ce==null?void 0:Ce.name,ft=document.createElement("a");ft.download=`timetable-${i}-${Ye}-${Yr(l,"yyyy-MM-dd")}.png`,ft.href=ve.toDataURL(),ft.click()}catch(ve){throw console.error("Export failed:",ve),ve}finally{const ve=document.getElementById("export-formatting-style");ve&&ve.remove()}},me=async()=>{const ee=document.querySelector('[data-export="timetable-grid"]');if(!ee){alert("Timetable grid not found for export");return}const be=document.createElement("style");be.id="student-export-style",be.textContent=`
      [data-export="timetable-grid"] {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif !important;
        border-collapse: separate !important;
        border-spacing: 1px !important;
      }
      [data-export="timetable-grid"] .grid > div {
        min-height: 60px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        padding: 8px !important;
        box-sizing: border-box !important;
      }
      [data-export="timetable-grid"] .text-sm,
      [data-export="timetable-grid"] .text-xs {
        line-height: 1.2 !important;
      }
      [data-export="timetable-grid"] .font-semibold {
        font-weight: 600 !important;
      }
      [data-export="timetable-grid"] .opacity-90 {
        opacity: 0.9 !important;
      }
      [data-export="timetable-grid"] .text-xs.opacity-90.leading-tight,
      [data-export="timetable-grid"] .text-xs.opacity-75.leading-tight {
        display: none !important;
      }
    `,document.head.appendChild(be);try{const ve=await Yh(ee,{backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,scale:2,width:ee.scrollWidth,height:ee.scrollHeight}),Ce=i==="class"?k==null?void 0:k.find(ot=>ot.id===n):S==null?void 0:S.find(ot=>ot.id===n),Ye=i==="class"?Ce!=null&&Ce.section?`${Ce.grade}-${Ce.section}`:Ce==null?void 0:Ce.grade:Ce==null?void 0:Ce.name,ft=document.createElement("a");ft.download=`timetable-${i}-${Ye}-${Yr(l,"yyyy-MM-dd")}-students.png`,ft.href=ve.toDataURL(),ft.click()}catch(ve){throw console.error("Student export failed:",ve),ve}finally{const ve=document.getElementById("student-export-style");ve&&ve.remove()}},Ve=async()=>{const ee=document.querySelector('[data-export="global-timetable-grid"]');if(!ee){console.error("Global timetable grid element not found for export");return}const be=document.createElement("style");be.id="student-export-style-global",be.textContent=`
      [data-export="global-timetable-grid"] {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif !important;
        border-collapse: separate !important;
        border-spacing: 1px !important;
      }
      [data-export="global-timetable-grid"] .grid > div {
        min-height: 60px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        padding: 8px !important;
        box-sizing: border-box !important;
      }
      [data-export="global-timetable-grid"] .text-sm,
      [data-export="global-timetable-grid"] .text-xs {
        line-height: 1.2 !important;
      }
      [data-export="global-timetable-grid"] .font-semibold {
        font-weight: 600 !important;
      }
      [data-export="global-timetable-grid"] .opacity-90 {
        opacity: 0.9 !important;
      }
      [data-export="global-timetable-grid"] .text-xs.opacity-90:not(.font-semibold) {
        display: none !important;
      }
    `,document.head.appendChild(be);try{const ve=(await Gy(async()=>{const{default:Qt}=await Promise.resolve().then(()=>UE);return{default:Qt}},void 0)).default,Ce=await ve(ee,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),Ye=k==null?void 0:k.find(Qt=>Qt.id===n),ft=Ye!=null&&Ye.section?`${Ye.grade}-${Ye.section}`:(Ye==null?void 0:Ye.grade)||n,ot=document.createElement("a");ot.download=`global-timetable-${ft}-students.png`,ot.href=Ce.toDataURL(),ot.click()}catch(ve){throw console.error("Global student export failed:",ve),ve}finally{const ve=document.getElementById("student-export-style-global");ve&&ve.remove()}},at=async()=>{if(!zr||zr.length===0){alert("No timetable data to export");return}const ee=i==="class"?k==null?void 0:k.find(R=>R.id===n):S==null?void 0:S.find(R=>R.id===n),be=i==="class"?ee!=null&&ee.section?`${ee.grade}-${ee.section}`:ee==null?void 0:ee.grade:ee==null?void 0:ee.name,ve=Xa.book_new(),Ce=[],Ye=i==="class"?`Class ${be} - Weekly Timetable`:`${be} - Weekly Timetable`;Ce.push([Ye]),Ce.push([]);const ft=["Time",...ur.map(R=>R.name)];Ce.push(ft),Z!=null&&Z.timeSlots&&Z.timeSlots.forEach(R=>{const ue=[R.displayTime];ur.forEach(Ze=>{var Zr,Zt,Cr,Gi,pl,lj,Aj;const jt=zr.find(cj=>cj.day===Ze.name.toLowerCase()&&cj.period===R.period);let Pt="";jt&&(i==="class"?Pt=`${((Zr=jt.teacher)==null?void 0:Zr.name)||"Unknown Teacher"}
${((Zt=jt.subject)==null?void 0:Zt.name)||((Cr=jt.teacher)!=null&&Cr.name?"Free Subject":"Unknown Subject")}`:Pt=`${((Gi=jt.class)==null?void 0:Gi.grade)||"N/A"}-${((pl=jt.class)==null?void 0:pl.section)||"N/A"}
${((lj=jt.subject)==null?void 0:lj.name)||((Aj=jt.teacher)!=null&&Aj.name?"Free Subject":"Unknown Subject")}`),ue.push(Pt)}),Ce.push(ue)});const ot=Xa.aoa_to_sheet(Ce),Qt=[{width:15},...ur.map(()=>({width:20}))];ot["!cols"]=Qt,Xa.book_append_sheet(ve,ot,"Timetable");const Rt=`timetable-${i}-${be}-${Yr(l,"yyyy-MM-dd")}.xlsx`;Xg(ve,Rt)};return s.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[n&&s.jsx("div",{className:"mb-4",children:s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>a(""),className:"flex items-center space-x-1","data-testid":"button-back-to-home",children:[s.jsx("i",{className:"fas fa-arrow-left text-xs"}),s.jsx("span",{children:"Back"})]})}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class:"}),s.jsxs(Yt,{value:n,onValueChange:a,children:[s.jsx(Wt,{className:"w-48","data-testid":"select-class-teacher",children:s.jsx(Jt,{placeholder:"Select a class"})}),s.jsx(zt,{children:Array.isArray(it)&&it.map(ee=>s.jsx($e,{value:ee.id,children:ee.section&&ee.section.trim()!==""&&ee.section!=="-"?`${ee.grade}-${ee.section}`:ee.grade},ee.id))})]})]})}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Current Week: ",tw(Dt,st)]})})]})})]}),s.jsxs("div",{className:"p-6",children:[n?Jr?s.jsx("div",{className:"space-y-4",children:Array.from({length:7}).map((ee,be)=>s.jsx(Kt,{className:"h-16 w-full"},be))}):s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg p-6 mb-8","data-export":"timetable-grid",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-blue-900 mb-1 flex items-center text-lg",children:[s.jsx("i",{className:"fas fa-calendar-week mr-3 text-blue-600"}),"Current Week Timetable"]}),s.jsxs("p",{className:"text-blue-700 text-sm font-medium",children:[tw(Dt,st)," - Schedule for ",i==="class"?`Class ${(vt=it==null?void 0:it.find(ee=>ee.id===n))==null?void 0:vt.grade}-${(ze=it==null?void 0:it.find(ee=>ee.id===n))==null?void 0:ze.section}`:`${(At=it==null?void 0:it.find(ee=>ee.id===n))==null?void 0:At.name}`]})]}),!(ye!=null&&ye.timetableFrozen)&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",size:"sm","data-testid":"button-refresh-weekly",onClick:V,disabled:A||q||f||Jr,children:[s.jsx("i",{className:`fas fa-sync-alt mr-2 ${A?"fa-spin":""}`}),A?"Refreshing...":"Refresh"]}),s.jsxs(oe,{variant:"outline",size:"sm","data-testid":"button-copy-from-global",onClick:W,disabled:de||q||A||f||Jr,children:[s.jsx("i",{className:`fas fa-download mr-2 ${de?"fa-spin":""}`}),de?"Copying...":"Copy from Global"]}),s.jsxs(oe,{variant:"default",size:"sm","data-testid":"button-set-as-global",onClick:Q,disabled:q||de||A||f||Jr,children:[s.jsx("i",{className:`fas fa-globe mr-2 ${q?"fa-spin":""}`}),q?"Setting...":"Set as Global"]})]})]})}),s.jsx("div",{className:"overflow-hidden",children:s.jsxs("table",{className:"w-full border-collapse text-sm","data-testid":"timetable-grid",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[s.jsxs("th",{className:"text-left py-2 px-2 font-semibold text-muted-foreground border-r border-border bg-gray-50 w-36",children:[s.jsx("i",{className:"fas fa-clock mr-1 text-xs"}),s.jsx("span",{className:"text-xs",children:"Time Period"})]}),ur.map(ee=>s.jsxs("th",{className:"text-center py-2 px-2 font-semibold text-muted-foreground",children:[s.jsx("div",{className:"font-semibold text-xs",children:ee.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:ee.date})]},ee.name))]})}),s.jsx("tbody",{children:ie.map(ee=>s.jsxs("tr",{className:`border-b border-border hover:bg-muted/20 transition-colors h-12 ${ee.isBreak?"bg-orange-50":""}`,children:[s.jsx("td",{className:"py-1 px-2 text-xs border-r border-border bg-gray-50",children:ee.isBreak?s.jsxs("div",{className:"flex items-center text-orange-600",children:[s.jsx("i",{className:"fas fa-coffee mr-1 text-xs"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-xs",children:"Break Time"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Ra(ee.startTime)," - ",Ra(ee.endTime)]})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-xs flex items-center",children:[s.jsxs("span",{className:"bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-xs font-bold mr-1",children:["P",Oa(ee.period)]}),s.jsxs("span",{className:"hidden sm:inline",children:["Period ",Oa(ee.period)]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Ra(ee.startTime)," - ",Ra(ee.endTime)]})]})}),ur.map(be=>{var R,ue,Ze,jt,Pt,Zr,Zt,Cr,Gi;if(ee.isBreak)return s.jsx("td",{className:"py-1 px-1 text-center bg-orange-50",children:s.jsxs("div",{className:"text-orange-600 text-xs font-medium flex items-center justify-center",children:[s.jsx("i",{className:"fas fa-coffee mr-1 text-xs"}),s.jsx("span",{className:"hidden sm:inline",children:"Break Time"}),s.jsx("span",{className:"sm:hidden",children:"Break"})]})},be.name);const ve=So(be.name,ee.period),Ce=Pa(be.name,ee.period,ve),Ye=kA(be.name,ee.period,ve),ft=ga(be.name,ee.period,ve),ot=((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin")&&!ee.isBreak,Qt=Ss(be.fullDate),Rt=ot&&Qt;return s.jsx("td",{className:`py-1 px-1 text-center relative ${Rt?"cursor-pointer hover:bg-blue-50":ot&&!Qt?"opacity-60 cursor-not-allowed":""}`,onClick:()=>Rt&&ce(be.name,ee.period,ee,ve||void 0),title:Rt?"Click to assign teacher":ot&&!Qt?"Cannot edit past dates":"",children:ve?Ce||Ye?s.jsxs("div",{className:"rounded p-1.5 border text-center bg-yellow-100 border-yellow-300 text-yellow-900 hover:shadow-sm transition-shadow relative",children:[s.jsxs("div",{className:"font-semibold text-xs leading-tight flex items-center justify-center",children:[s.jsx("i",{className:"fas fa-exclamation-triangle mr-1 text-xs"}),"Substitution Required"]}),s.jsx("div",{className:"text-xs opacity-90 leading-tight",children:((R=ve.subject)==null?void 0:R.name)||((ue=ve.teacher)!=null&&ue.name?"Free Subject":"Unknown Subject")}),s.jsxs("div",{className:"text-xs opacity-75 leading-tight",children:["Teacher: ",((Ze=ve.teacher)==null?void 0:Ze.name)||"Unknown"]}),Rt&&s.jsx("div",{className:"absolute top-1 right-1 flex space-x-1",children:s.jsx("button",{onClick:pl=>Ke(ve,pl),className:"hover:bg-red-100 rounded p-0.5 transition-colors",title:"Delete assignment",children:s.jsx(yc,{className:"h-3 w-3 text-red-600 hover:text-red-700"})})})]}):s.jsxs("div",{className:"rounded p-1.5 border text-center hover:shadow-sm transition-shadow relative",style:Fo(((jt=ve.subject)==null?void 0:jt.color)||"#3B82F6"),children:[s.jsx("div",{className:"font-semibold text-xs leading-tight",children:((Pt=ve.subject)==null?void 0:Pt.name)||((Zr=ve.teacher)!=null&&Zr.name?"Free Subject":"Unknown Subject")}),s.jsx("div",{className:"text-xs opacity-90 leading-tight",children:i==="class"?ft?`${ft.name} (Sub)`:((Zt=ve.teacher)==null?void 0:Zt.name)||"Unknown Teacher":`${((Cr=ve.class)==null?void 0:Cr.grade)||"N/A"}-${((Gi=ve.class)==null?void 0:Gi.section)||"N/A"}`}),ve.room&&s.jsx("div",{className:"text-xs opacity-75 leading-tight",children:ve.room.startsWith("Room")?ve.room:`Room ${ve.room}`}),Rt&&s.jsx("div",{className:"absolute top-1 right-1 flex space-x-1",children:s.jsx("button",{onClick:pl=>Ke(ve,pl),className:"hover:bg-red-100 rounded p-0.5 transition-colors",title:"Delete assignment",children:s.jsx(yc,{className:"h-3 w-3 text-red-600 hover:text-red-700"})})})]}):s.jsxs("div",{className:"text-center py-2 px-1 text-muted-foreground text-xs rounded border border-dashed border-gray-200 relative",children:[s.jsx("div",{children:Xn()?"Free Period":"Weekly timetable not available"}),Rt&&Xn()&&s.jsx("div",{className:"absolute top-1 right-1",children:s.jsx(ws,{className:"h-3 w-3 text-gray-400"})})]})},be.name)})]},ee.period))})]})}),s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsxs(ku,{children:[s.jsx(Iu,{asChild:!0,children:s.jsxs(oe,{variant:"outline","data-testid":"button-export-timetable",disabled:d,children:[s.jsx("i",{className:`fas fa-download mr-2 ${d?"fa-spin":""}`}),d?"Exporting...":"Export Weekly Timetable"]})}),s.jsxs(Tc,{align:"center",children:[s.jsxs(Os,{onClick:()=>fe("png"),children:[s.jsx("i",{className:"fas fa-image mr-2"}),"Export as PNG"]}),s.jsxs(Os,{onClick:()=>fe("png-students"),children:[s.jsx("i",{className:"fas fa-user-graduate mr-2"}),"Export for Students"]}),s.jsxs(Os,{onClick:()=>fe("excel"),children:[s.jsx("i",{className:"fas fa-file-excel mr-2"}),"Export as Excel"]})]})]})})]}):s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx("i",{className:"fas fa-calendar-week mr-2"}),"Weekly Timetable"]}),s.jsxs("div",{className:"text-center py-8 text-muted-foreground border rounded-lg bg-muted/20",children:[s.jsx("i",{className:"fas fa-calendar-week text-4xl mb-4"}),s.jsxs("p",{className:"mb-2",children:["Select a ",i," to view the weekly timetable"]}),s.jsxs("p",{className:"text-sm",children:[tw(Dt,st)," - ",ur.length," working days"]})]})]})}),s.jsx(Rae,{classId:n,selectedDate:l.toISOString().split("T")[0]}),s.jsx(Oae,{classId:n,selectedDate:l.toISOString().split("T")[0],onClassSelect:a}),n&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-green-900 mb-1 flex items-center text-lg",children:[s.jsx("i",{className:"fas fa-globe mr-3 text-green-600"}),"Global Timetable"]}),s.jsx("p",{className:"text-green-700 text-sm font-medium",children:"Base schedule that applies to all weeks unless modified by weekly overrides"})]}),!(ye!=null&&ye.timetableFrozen)&&s.jsxs(oe,{variant:"default",size:"sm","data-testid":"button-refresh-timetable",onClick:hn,disabled:A||f||Jr,children:[s.jsx("i",{className:`fas fa-sync mr-2 ${A||f||Jr?"fa-spin":""}`}),f?"Generating...":A?"Refreshing...":"Generate Global Timetable"]})]})}),ui?s.jsx("div",{className:"space-y-4",children:Array.from({length:7}).map((ee,be)=>s.jsx(Kt,{className:"h-16 w-full"},be))}):s.jsxs("div",{className:"overflow-hidden","data-export":"global-timetable-grid",children:[s.jsx("div",{className:"mb-4 text-center py-3 border-b-2 border-border",children:s.jsxs("h2",{className:"text-lg font-bold text-foreground",children:["Global Timetable - Class ",n?(()=>{const ee=k==null?void 0:k.find(be=>be.id===n);return ee!=null&&ee.section?`${ee.grade}-${ee.section}`:(ee==null?void 0:ee.grade)||n})():"Unknown"]})}),s.jsxs("table",{className:"w-full border-collapse text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[s.jsxs("th",{className:"text-left py-2 px-2 font-semibold text-muted-foreground border-r border-border bg-gray-50 w-36",children:[s.jsx("i",{className:"fas fa-clock mr-1 text-xs"}),s.jsx("span",{className:"text-xs",children:"Time Period"})]}),ur.map(ee=>s.jsxs("th",{className:"text-center py-2 px-2 font-semibold text-muted-foreground",children:[s.jsx("div",{className:"font-semibold text-xs",children:ee.name}),s.jsx("div",{className:"text-xs opacity-75",children:ee.date})]},ee.name))]})}),s.jsx("tbody",{children:ie.map(ee=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/20 transition-colors",children:[s.jsxs("td",{className:"py-2 px-2 font-medium border-r border-border bg-gray-50 text-center",children:[s.jsxs("div",{className:"text-xs font-medium",children:["Period ",ee.period]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Ra(ee.startTime)," - ",Ra(ee.endTime)]})]}),ur.map(be=>{var Ce,Ye,ft,ot,Qt,Rt;const ve=us(be.name.toLowerCase(),ee.period);return s.jsx("td",{className:"py-1 px-1 text-center border-r border-border",children:ve?s.jsxs("div",{className:"rounded p-1.5 border text-center hover:shadow-sm transition-shadow",style:Fo(((Ce=ve.subject)==null?void 0:Ce.color)||"#3B82F6"),children:[s.jsx("div",{className:"font-semibold text-xs leading-tight",children:((Ye=ve.subject)==null?void 0:Ye.name)||((ft=ve.teacher)!=null&&ft.name?"Free Subject":"Unknown Subject")}),s.jsx("div",{className:"text-xs opacity-90 leading-tight",children:i==="class"?((ot=ve.teacher)==null?void 0:ot.name)||"Unknown Teacher":`${((Qt=ve.class)==null?void 0:Qt.grade)||"N/A"}-${((Rt=ve.class)==null?void 0:Rt.section)||"N/A"}`}),ve.room&&s.jsx("div",{className:"text-xs opacity-75 leading-tight",children:ve.room.startsWith("Room")?ve.room:`Room ${ve.room}`})]}):s.jsx("div",{className:"text-center py-2 px-1 text-muted-foreground text-xs rounded border border-dashed border-gray-200",children:s.jsx("div",{children:"Free Period"})})},`${be.name}-${ee.period}`)})]},ee.period))})]})]}),s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsxs(ku,{children:[s.jsx(Iu,{asChild:!0,children:s.jsxs(oe,{variant:"outline",disabled:D,children:[s.jsx("i",{className:`fas fa-download mr-2 ${D?"fa-spin":""}`}),D?"Exporting...":"Export Global Timetable"]})}),s.jsxs(Tc,{align:"center",children:[s.jsxs(Os,{onClick:()=>fs("png"),children:[s.jsx("i",{className:"fas fa-image mr-2"}),"Export as PNG"]}),s.jsxs(Os,{onClick:()=>fs("png-students"),children:[s.jsx("i",{className:"fas fa-user-graduate mr-2"}),"Export for Students"]}),s.jsxs(Os,{onClick:()=>fs("excel"),children:[s.jsx("i",{className:"fas fa-file-excel mr-2"}),"Export as Excel"]})]})]})})]}),s.jsx(qt,{open:b,onOpenChange:C,children:s.jsxs(er,{className:"sm:max-w-md","aria-describedby":"assignment-dialog-description",children:[s.jsx(sr,{children:s.jsx(ar,{children:"Assign Teacher"})}),s.jsx("div",{id:"assignment-dialog-description",className:"sr-only",children:"Dialog to manually assign a teacher to a specific time slot in the timetable"}),p&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Assignment Details"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Day:"})," ",p.day.charAt(0).toUpperCase()+p.day.slice(1)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Period:"})," ",p.period]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Time:"})," ",Ra(p.timeSlot.startTime)," - ",Ra(p.timeSlot.endTime)]}),p.entry&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Subject:"})," ",((Mt=p.entry.subject)==null?void 0:Mt.name)||"Unknown"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Current Teacher:"})," ",((Ur=p.entry.teacher)==null?void 0:Ur.name)||"None"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"subject-select",children:"Select Subject"}),s.jsxs(Yt,{value:N?"FREE_PERIOD":x,onValueChange:ee=>{ee==="FREE_PERIOD"?(B(!0),y("")):(B(!1),y(ee)),w("")},children:[s.jsx(Wt,{id:"subject-select",children:s.jsx(Jt,{placeholder:"Choose a subject or free period..."})}),s.jsxs(zt,{children:[s.jsx($e,{value:"FREE_PERIOD",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs font-medium",children:"Free Period"}),s.jsx("span",{children:"All Available Teachers"})]})}),Tt.map(ee=>s.jsx($e,{value:ee.id,children:ee.name},ee.id))]})]}),!(p!=null&&p.entry)&&!N&&s.jsx("p",{className:"text-xs text-gray-500",children:'Select a subject to teach or choose "Free Period" to see all available teachers.'}),N&&s.jsx("p",{className:"text-xs text-blue-600",children:"Free Period mode: Showing all available teachers across the school."})]}),(x||N)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"teacher-select",children:"Select Teacher"}),s.jsxs(Yt,{value:g,onValueChange:w,children:[s.jsx(Wt,{id:"teacher-select",children:s.jsx(Jt,{placeholder:"Choose a teacher..."})}),s.jsx(zt,{children:dr.length===0?s.jsx("div",{className:"p-2 text-sm text-gray-500",children:N?"No teachers available during this time slot":"No teachers available who can teach this subject"}):dr.map(ee=>s.jsx($e,{value:ee.id,children:s.jsx("div",{className:"flex flex-col space-y-1 w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"font-medium",children:N&&ee.email?`${ee.name} (${ee.email})`:ee.name}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[ee.teachingThisClass&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-xs",children:"Class Teacher"}),ee.priority&&ee.priority>0&&s.jsxs("span",{className:"bg-green-100 text-green-800 px-1 py-0.5 rounded text-xs",children:["Priority ",ee.priority]})]})]})})},ee.id))})]}),dr.length>0&&s.jsx("p",{className:"text-xs text-gray-500",children:N?`Showing ${dr.length} available teachers across the school.`:`Showing teachers who can teach ${(Qr=Tt.find(ee=>ee.id===x))==null?void 0:Qr.name}.`})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:()=>{C(!1),h(null),y(""),w(""),B(!1)},disabled:Ae.isPending,children:"Cancel"}),s.jsx(oe,{onClick:Me,disabled:!g||Ae.isPending||Y.isPending,children:Ae.isPending||Y.isPending?"Assigning...":(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"?"Assign Teacher (Direct Edit)":"Assign Teacher"})]})]})]})}),s.jsx(qt,{open:F,onOpenChange:E,children:s.jsxs(er,{className:"sm:max-w-md","aria-describedby":"delete-dialog-description",children:[s.jsx(sr,{children:s.jsx(ar,{children:"Delete Assignment"})}),s.jsx("div",{id:"delete-dialog-description",className:"sr-only",children:"Dialog to confirm deletion of a timetable assignment"}),U&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Are you sure you want to delete this assignment?"}),s.jsxs("div",{className:"bg-muted/30 rounded p-3",children:[s.jsx("div",{className:"font-semibold text-sm",children:((mn=U.subject)==null?void 0:mn.name)||((Vi=U.teacher)!=null&&Vi.name?"Free Subject":"Unknown Subject")}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Teacher: ",(($i=U.teacher)==null?void 0:$i.name)||"Unknown Teacher"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Day: ",U.day.charAt(0).toUpperCase()+U.day.slice(1),", Period: ",U.period]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Time: ",Ra(U.startTime)," - ",Ra(U.endTime)]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"This will make this time slot available as a free period."}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:()=>E(!1),disabled:xe.isPending,children:"Cancel"}),s.jsx(oe,{variant:"destructive",onClick:z,disabled:xe.isPending,children:xe.isPending?"Deleting...":"Delete Assignment"})]})]})]})}),s.jsx(qt,{open:O,onOpenChange:X,children:s.jsxs(er,{className:"sm:max-w-md","aria-describedby":"refresh-dialog-description",children:[s.jsx(sr,{children:s.jsxs(ar,{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-sync text-blue-600"}),s.jsx("span",{children:"Refresh Global Timetable"})]})}),s.jsx("div",{id:"refresh-dialog-description",className:"sr-only",children:"Dialog to confirm global timetable refresh operation"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Are you sure you want to refresh the ",s.jsx("strong",{children:"Global Timetable"}),"? This will:"]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:s.jsxs("ul",{className:"text-sm space-y-1 text-blue-800",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-check text-blue-600"}),s.jsx("span",{children:"Check for changes in class-subject assignments"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-sync text-blue-600"}),s.jsx("span",{children:"Generate a new Global Timetable from scratch"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-globe text-blue-600"}),s.jsx("span",{children:"Replace the existing Global Timetable for this class"})]})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," This updates the base timetable that applies to all future weeks. Weekly changes remain separate."]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:()=>X(!1),disabled:A||f,children:"Cancel"}),s.jsxs(oe,{onClick:hs,disabled:A||f,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx("i",{className:"fas fa-sync mr-2"}),"Refresh Global Timetable"]})]})]})]})}),s.jsx(qt,{open:ae,onOpenChange:he,children:s.jsxs(er,{className:"sm:max-w-md","aria-describedby":"set-global-dialog-description",children:[s.jsx(sr,{children:s.jsxs(ar,{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-globe text-green-600"}),s.jsx("span",{children:"Set as Global Timetable"})]})}),s.jsx("div",{id:"set-global-dialog-description",className:"sr-only",children:"Dialog to confirm setting current weekly changes as global timetable"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Are you sure you want to make the current week's timetable the new ",s.jsx("strong",{children:"Global Timetable"}),"? This will:"]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:s.jsxs("ul",{className:"text-sm space-y-1 text-green-800",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-check text-green-600"}),s.jsx("span",{children:"Take the current effective timetable (including weekly changes)"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-globe text-green-600"}),s.jsx("span",{children:"Make it the new Global Timetable for this class"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-eraser text-green-600"}),s.jsx("span",{children:"Clear current weekly changes since they're now part of the global schedule"})]})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," This will be the default timetable for all future weeks unless you make further weekly changes."]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:()=>he(!1),disabled:q,children:"Cancel"}),s.jsxs(oe,{onClick:L,disabled:q,className:"bg-green-600 hover:bg-green-700",children:[s.jsx("i",{className:"fas fa-globe mr-2"}),"Set as Global Timetable"]})]})]})]})}),s.jsx(qt,{open:H,onOpenChange:J,children:s.jsxs(er,{className:"sm:max-w-md","aria-describedby":"copy-from-global-dialog-description",children:[s.jsx(sr,{children:s.jsxs(ar,{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-copy text-blue-600"}),s.jsx("span",{children:"Copy from Global Timetable"})]})}),s.jsx("div",{id:"copy-from-global-dialog-description",className:"sr-only",children:"Dialog to confirm copying global timetable to current weekly timetable"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Are you sure you want to copy the ",s.jsx("strong",{children:"Global Timetable"})," to this week? This will:"]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:s.jsxs("ul",{className:"text-sm space-y-1 text-blue-800",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-download text-blue-600"}),s.jsx("span",{children:"Copy the Global Timetable to this week's schedule"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-sync text-blue-600"}),s.jsx("span",{children:"Replace all current weekly modifications for this class"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-calendar-week text-blue-600"}),s.jsx("span",{children:"Reset this week to match the global schedule exactly"})]})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Warning:"})," Any weekly changes you've made for this week will be lost and replaced with the global schedule."]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:()=>J(!1),disabled:de,children:"Cancel"}),s.jsxs(oe,{onClick:pe,disabled:de,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx("i",{className:"fas fa-copy mr-2"}),"Copy from Global"]})]})]})]})})]})]})}function bv({className:e="w-64"}){const[t,r]=v.useState(""),[n,a]=v.useState(!1),[,i]=Da(),o=v.useRef(null),{data:l=[]}=Je({queryKey:["/api/teachers"]}),{data:A=[]}=Je({queryKey:["/api/classes"]}),c=v.useMemo(()=>{if(!t.trim())return[];const f=t.toLowerCase().trim(),m=[];return l.forEach(p=>{var h;(p.name.toLowerCase().includes(f)||(h=p.email)!=null&&h.toLowerCase().includes(f))&&m.push({id:p.id,name:p.name,type:"teacher",subtitle:p.email||"Teacher"})}),A.forEach(p=>{const h=`Class ${p.grade}${p.section}`;(h.toLowerCase().includes(f)||p.grade.toLowerCase().includes(f)||p.section&&p.section.toLowerCase().includes(f))&&m.push({id:p.id,name:h,type:"class",subtitle:`${p.studentCount} students`})}),m.slice(0,8)},[t,l,A]);v.useEffect(()=>{const f=m=>{o.current&&!o.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>{f.type==="teacher"?i(`/teacher/${f.id}`):f.type==="class"&&i(`/classes/${f.id}`),r(""),a(!1)},u=f=>{r(f),a(f.trim().length>0)};return s.jsxs("div",{className:`relative ${e}`,ref:o,children:[s.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Fe,{placeholder:"Search teachers, classes...",value:t,onChange:f=>u(f.target.value),onFocus:()=>t.trim()&&a(!0),className:"pl-10"}),n&&c.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[c.map(f=>s.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>d(f),children:[s.jsx("div",{className:"mr-3 p-2 rounded-full bg-gray-100",children:f.type==="teacher"?s.jsx(wr,{className:"h-4 w-4 text-blue-600"}):s.jsx(Pn,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:f.name}),s.jsx("div",{className:"text-xs text-gray-500",children:f.subtitle})]}),s.jsx("div",{className:"ml-2",children:s.jsx(ht,{variant:"outline",className:`text-xs ${f.type==="teacher"?"border-blue-200 text-blue-700":"border-green-200 text-green-700"}`,children:f.type==="teacher"?"Teacher":"Class"})})]},`${f.type}-${f.id}`)),t.trim()&&c.length===0&&s.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:['No teachers or classes found for "',t,'"']})]})]})}function _fe(){const[,e]=Da(),t=()=>{e("/timetable/settings")};return s.jsxs("div",{children:[s.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Timetable Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage school timetables"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(bv,{className:"w-64"}),s.jsxs(oe,{variant:"outline",onClick:t,"data-testid":"button-timetable-settings",children:[s.jsx(uA,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx(Tfe,{})})]})}var kfe="Separator",kS="horizontal",Ife=["horizontal","vertical"],P5=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=kS,...a}=e,i=Ufe(n)?n:kS,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(kt.div,{"data-orientation":i,...l,...a,ref:t})});P5.displayName=kfe;function Ufe(e){return Ife.includes(e)}var O5=P5;const Uc=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(O5,{ref:a,decorative:r,orientation:t,className:De("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Uc.displayName=O5.displayName;var Cv="Tabs",[Qfe,npe]=Ws(Cv,[Av]),R5=Av(),[Dfe,ZB]=Qfe(Cv),L5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:A="automatic",...c}=e,d=Vx(l),[u,f]=Qi({prop:n,onChange:a,defaultProp:i??"",caller:Cv});return s.jsx(Dfe,{scope:r,baseId:ti(),value:u,onValueChange:f,orientation:o,dir:d,activationMode:A,children:s.jsx(kt.div,{dir:d,"data-orientation":o,...c,ref:t})})});L5.displayName=Cv;var M5="TabsList",H5=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ZB(M5,r),o=R5(r);return s.jsx(lL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(kt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});H5.displayName=M5;var K5="TabsTrigger",V5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=ZB(K5,r),l=R5(r),A=W5(o.baseId,n),c=z5(o.baseId,n),d=n===o.value;return s.jsx(AL,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(kt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:A,...i,ref:t,onMouseDown:nt(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?o.onValueChange(n):u.preventDefault()}),onKeyDown:nt(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(n)}),onFocus:nt(e.onFocus,()=>{const u=o.activationMode!=="manual";!d&&!a&&u&&o.onValueChange(n)})})})});V5.displayName=K5;var $5="TabsContent",G5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=ZB($5,r),A=W5(l.baseId,n),c=z5(l.baseId,n),d=n===l.value,u=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(pa,{present:a||d,children:({present:f})=>s.jsx(kt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":A,hidden:!f,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:f&&i})})});G5.displayName=$5;function W5(e,t){return`${e}-trigger-${t}`}function z5(e,t){return`${e}-content-${t}`}var Pfe=L5,X5=H5,q5=V5,Y5=G5;const Km=Pfe,tf=v.forwardRef(({className:e,...t},r)=>s.jsx(X5,{ref:r,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tf.displayName=X5.displayName;const ni=v.forwardRef(({className:e,...t},r)=>s.jsx(q5,{ref:r,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ni.displayName=q5.displayName;const si=v.forwardRef(({className:e,...t},r)=>s.jsx(Y5,{ref:r,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));si.displayName=Y5.displayName;const IS=["monday","tuesday","wednesday","thursday","friday","saturday"],US=e=>["monday","tuesday","wednesday","thursday","friday","saturday"].filter(r=>e.includes(r)),Ofe=[{period:1,startTime:"07:30",endTime:"08:15"},{period:2,startTime:"08:15",endTime:"09:00"},{period:3,startTime:"09:00",endTime:"09:45"},{period:4,startTime:"09:45",endTime:"10:15"},{period:5,startTime:"10:15",endTime:"11:00",isBreak:!0},{period:6,startTime:"11:00",endTime:"11:45"},{period:7,startTime:"11:45",endTime:"12:30"},{period:8,startTime:"12:30",endTime:"13:15"}];function Rfe(){var _,Z;const{toast:e}=On(),{user:t}=Ns(),[,r]=Da(),[n,a]=v.useState(!1),[i,o]=v.useState("settings"),[l,A]=v.useState({}),[c,d]=v.useState(!1),[u,f]=v.useState(5),[m,p]=v.useState(!1),[h,x]=v.useState(!1),[y,g]=v.useState(!1),[w,b]=v.useState({schoolId:(t==null?void 0:t.schoolId)||"",periodsPerDay:8,workingDays:IS,timeSlots:Ofe});v.useEffect(()=>{t!=null&&t.schoolId&&b(K=>({...K,schoolId:t.schoolId}))},[t==null?void 0:t.schoolId]);const{data:C,isLoading:N}=Je({queryKey:["/api/timetable-structure"],enabled:!!(t!=null&&t.schoolId)}),{data:B,isLoading:F}=Je({queryKey:["subjects","default-periods",t==null?void 0:t.schoolId],queryFn:async()=>await(await Ne("GET","/api/subjects/default-periods")).json(),enabled:(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin"}),{data:E,isLoading:U,refetch:P}=Je({queryKey:["timetable-freeze-status",t==null?void 0:t.schoolId],queryFn:async()=>await(await Ne("GET","/api/settings/timetable-freeze-status")).json(),enabled:(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin"});v.useEffect(()=>{if(C&&typeof C=="object"&&"id"in C&&C.id){const K=C;b({schoolId:K.schoolId,periodsPerDay:K.periodsPerDay,workingDays:K.workingDays,timeSlots:K.timeSlots,isActive:K.isActive})}},[C]),v.useEffect(()=>{if(B&&B.length>0){const K={};B.forEach(ye=>{K[ye.periodsPerWeek]=(K[ye.periodsPerWeek]||0)+1});const re=Object.keys(K).reduce((ye,Te)=>K[Number(ye)]>K[Number(Te)]?ye:Te);f(Number(re))}},[B]);const O=Ct({mutationFn:K=>Ne("POST","/api/timetable-structure",K),onSuccess:()=>{e({title:"Success",description:"Timetable structure updated successfully"}),Ee.invalidateQueries({queryKey:["/api/timetable-structure"]}),a(!1)},onError:()=>{e({title:"Error",description:"Failed to update timetable structure",variant:"destructive"})}});Ct({mutationFn:async K=>await(await Ne("PUT","/api/subjects/default-periods",{updates:K})).json(),onSuccess:()=>{e({title:"Success",description:"Default periods updated successfully"}),d(!1),Ee.invalidateQueries({queryKey:["subjects"]})},onError:K=>{e({title:"Error",description:K.message||"Failed to update default periods",variant:"destructive"})}});const X=Ct({mutationFn:async K=>await(await Ne("PUT","/api/settings/global-default-periods",K)).json(),onSuccess:()=>{e({title:"Success",description:"Global default periods updated successfully"}),Ee.invalidateQueries({queryKey:["subjects"]}),Ee.invalidateQueries({queryKey:["subjects","default-periods"]}),Ee.invalidateQueries({queryKey:["class-subject-assignments"]})},onError:K=>{e({title:"Error",description:K.message||"Failed to update global default periods",variant:"destructive"})}}),ae=Ct({mutationFn:async()=>await(await Ne("PUT","/api/settings/freeze-timetable")).json(),onSuccess:K=>{e({title:"Success",description:K.message}),P(),Ee.invalidateQueries({queryKey:["timetable-freeze-status",t==null?void 0:t.schoolId]})},onError:K=>{e({title:"Error",description:K.message||"Failed to freeze timetable changes",variant:"destructive"})}}),he=Ct({mutationFn:async()=>await(await Ne("PUT","/api/settings/unfreeze-timetable")).json(),onSuccess:K=>{e({title:"Success",description:K.message}),P(),Ee.invalidateQueries({queryKey:["timetable-freeze-status",t==null?void 0:t.schoolId]})},onError:K=>{e({title:"Error",description:K.message||"Failed to unfreeze timetable changes",variant:"destructive"})}}),q=()=>{O.mutate(w)},ne=()=>{r("/timetable")},H=()=>{X.mutate({defaultPeriods:u,updateExisting:m})},J=()=>{x(!1),ae.mutate()},de=()=>{g(!1),he.mutate()},se=K=>{const[re,ye]=K.split(":"),Te=parseInt(re,10),Nt=Te===0?12:Te>12?Te-12:Te,mt=Te>=12?"PM":"AM";return`${Nt}:${ye} ${mt}`},D=K=>{if(!(w!=null&&w.timeSlots))return K;let re=0;for(const ye of w.timeSlots)ye.period<=K&&!ye.isBreak&&re++;return re},j=()=>{const K=w.timeSlots||[],re=K.length+1,ye=K[K.length-1],Te=ye?ye.endTime:"09:00";b(Nt=>({...Nt,timeSlots:[...Nt.timeSlots||[],{period:re,startTime:Te,endTime:"09:45"}],periodsPerDay:(Nt.periodsPerDay||0)+1}))},k=K=>{b(re=>({...re,timeSlots:(re.timeSlots||[]).filter((ye,Te)=>Te!==K),periodsPerDay:(re.periodsPerDay||0)-1}))},M=(K,re,ye)=>{b(Te=>({...Te,timeSlots:(Te.timeSlots||[]).map((Nt,mt)=>mt===K?{...Nt,[re]:ye}:Nt)}))},S=K=>{w.workingDays,b(re=>({...re,workingDays:(re.workingDays||[]).includes(K)?(re.workingDays||[]).filter(ye=>ye!==K):[...re.workingDays||[],K]}))};return s.jsxs("div",{children:[s.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(oe,{variant:"outline",onClick:ne,className:"flex items-center gap-2",children:[s.jsx(ac,{className:"h-4 w-4"}),"Back to Timetable"]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[s.jsx(uA,{className:"h-6 w-6"}),"Timetable Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your school's timetable structure"})]})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Km,{defaultValue:"structure",className:"w-full",children:[s.jsxs(tf,{className:"grid w-full grid-cols-2",children:[s.jsxs(ni,{value:"structure","data-testid":"tab-structure",children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Structure Configuration"]}),s.jsx(ni,{value:"other","data-testid":"tab-other",children:"Other Settings"})]}),s.jsx(si,{value:"structure",className:"space-y-4",children:N?s.jsx("div",{className:"text-center py-8",children:"Loading timetable structure..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Timetable Structure"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(oe,{variant:i==="grid"?"default":"outline",onClick:()=>o("grid"),"data-testid":"button-grid-view",children:[s.jsx(J7,{className:"h-4 w-4 mr-2"}),"Grid View"]}),i==="settings"&&s.jsxs(s.Fragment,{children:[s.jsxs(oe,{variant:n?"outline":"default",onClick:()=>a(!n),"data-testid":"button-edit-mode",children:[s.jsx(uA,{className:"h-4 w-4 mr-2"}),n?"Cancel":"Edit Structure"]}),n&&s.jsxs(oe,{onClick:q,disabled:O.isPending,"data-testid":"button-save-structure",children:[s.jsx(AV,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}),i==="grid"&&s.jsxs(oe,{variant:"outline",onClick:()=>o("settings"),"data-testid":"button-back-to-settings",children:[s.jsx(rV,{className:"h-4 w-4 mr-2"}),"Back to Settings"]})]})]}),i==="settings"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsx(rt,{children:"Working Days"})}),s.jsxs(Pe,{children:[s.jsx("div",{className:"space-y-3",children:IS.map(K=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:K,checked:(w.workingDays||[]).includes(K),onChange:()=>n&&S(K),disabled:!n,className:"rounded","data-testid":`checkbox-${K}`}),s.jsx(_t,{htmlFor:K,className:"capitalize",children:K}),(w.workingDays||[]).includes(K)&&s.jsx(ht,{variant:"secondary",className:"text-xs",children:"Active"})]},K))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Working Days: ",s.jsx("span",{className:"font-medium",children:(w.workingDays||[]).length})]})})]})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsx(rt,{children:"Schedule Summary"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Periods per Day"}),s.jsx(ht,{variant:"outline",children:w.periodsPerDay||0})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Working Days"}),s.jsx(ht,{variant:"outline",children:(w.workingDays||[]).length})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Periods/Week"}),s.jsx(ht,{variant:"default",children:(w.periodsPerDay||0)*(w.workingDays||[]).length})]}),(w.timeSlots||[]).length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"School Starts"}),s.jsx("span",{className:"font-medium",children:se(((_=(w.timeSlots||[])[0])==null?void 0:_.startTime)||"07:30")})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"School Ends"}),s.jsx("span",{className:"font-medium",children:se(((Z=(w.timeSlots||[])[(w.timeSlots||[]).length-1])==null?void 0:Z.endTime)||"15:30")})]})]})]})})]}),s.jsxs(Qe,{className:"lg:col-span-1",children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center justify-between",children:["Period Structure",n&&s.jsxs(oe,{size:"sm",variant:"outline",onClick:j,"data-testid":"button-add-period",children:[s.jsx(ws,{className:"h-4 w-4 mr-1"}),"Add Period"]})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(w.timeSlots||[]).map((K,re)=>s.jsxs("div",{className:`p-3 border rounded-lg ${K.isBreak?"bg-orange-50 border-orange-200":"bg-gray-50"}`,"data-testid":`period-slot-${re}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:K.isBreak?"Break":`Period ${D(K.period)}`}),n&&s.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k(re),"data-testid":`button-remove-period-${re}`,children:s.jsx(yc,{className:"h-4 w-4 text-destructive"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:`start-${re}`,className:"text-xs",children:"Start Time"}),s.jsx(Fe,{id:`start-${re}`,type:"time",value:K.startTime,onChange:ye=>M(re,"startTime",ye.target.value),disabled:!n,className:"text-sm","data-testid":`input-start-time-${re}`})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:`end-${re}`,className:"text-xs",children:"End Time"}),s.jsx(Fe,{id:`end-${re}`,type:"time",value:K.endTime,onChange:ye=>M(re,"endTime",ye.target.value),disabled:!n,className:"text-sm","data-testid":`input-end-time-${re}`})]})]}),n&&s.jsx("div",{className:"mt-2",children:s.jsxs("label",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("input",{type:"checkbox",checked:K.isBreak||!1,onChange:ye=>M(re,"isBreak",ye.target.checked),"data-testid":`checkbox-break-${re}`}),s.jsx("span",{children:"Mark as Break"})]})})]},re))})})]})]}):s.jsx("div",{className:"w-full",children:s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsx(rt,{children:"Timetable Structure Grid"})}),s.jsxs(Pe,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-blue-100",children:[s.jsx("th",{className:"border border-gray-300 p-2 text-left font-semibold",children:"Period"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left font-semibold",children:"Time"}),US(w.workingDays||[]).map(K=>s.jsx("th",{className:"border border-gray-300 p-2 text-center font-semibold capitalize bg-blue-500 text-white",children:K},K))]})}),s.jsx("tbody",{children:(w.timeSlots||[]).map((K,re)=>s.jsxs("tr",{className:K.isBreak?"bg-orange-50":"bg-gray-50",children:[s.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:K.isBreak?"Break":D(K.period)}),s.jsxs("td",{className:"border border-gray-300 p-2 text-sm",children:[se(K.startTime)," - ",se(K.endTime)]}),US(w.workingDays||[]).map(ye=>s.jsx("td",{className:"border border-gray-300 p-2 text-center",children:K.isBreak?s.jsx("div",{className:"text-orange-600 font-medium",children:"BREAK"}):s.jsxs("div",{className:"h-8 bg-blue-100 rounded flex items-center justify-center text-xs",children:["Period ",D(K.period)]})},ye))]},re))})]})}),s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Structure Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Periods per Day:"}),s.jsx("span",{className:"font-medium ml-1",children:w.periodsPerDay||0})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Working Days:"}),s.jsx("span",{className:"font-medium ml-1",children:(w.workingDays||[]).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total Periods/Week:"}),s.jsx("span",{className:"font-medium ml-1",children:(w.periodsPerDay||0)*(w.workingDays||[]).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Teaching Periods:"}),s.jsx("span",{className:"font-medium ml-1",children:(w.timeSlots||[]).filter(K=>!K.isBreak).length})]})]})]})]})]})})]})}),s.jsxs(si,{value:"other",className:"space-y-4",children:[((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(Ei,{className:"h-5 w-5"}),s.jsx("span",{children:"Default Periods Management"})]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-blue-900",children:"Set Global Default"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Apply the same default periods to all subjects at once"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_t,{htmlFor:"globalDefault",children:"Default periods/week:"}),s.jsx(Fe,{id:"globalDefault",type:"number",min:"1",max:"20",className:"w-20 text-center",value:u,onChange:K=>f(parseInt(K.target.value)||1)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"updateExisting",checked:m,onChange:K=>p(K.target.checked),className:"rounded"}),s.jsx(_t,{htmlFor:"updateExisting",className:"text-sm",children:"Update existing class assignments"})]}),s.jsx(oe,{onClick:H,disabled:X.isPending,className:"flex items-center space-x-2",children:X.isPending?"Updating...":"Apply to All"})]})]}),s.jsx(Uc,{}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"How Default Periods Work:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Default periods are used when creating new class-subject assignments"}),s.jsx("li",{children:" You can override these defaults for specific classes as needed"}),s.jsx("li",{children:" Periods per week should be between 1 and 20"}),s.jsx("li",{children:" Changes will apply to new assignments, existing ones remain unchanged"})]})]})]})})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(qc,{className:"h-5 w-5"}),s.jsx("span",{children:"Freeze Timetable Changes"})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-4",children:U?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fl,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading freeze status..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`border rounded-lg p-4 ${E!=null&&E.timetableFrozen?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:`font-medium ${E!=null&&E.timetableFrozen?"text-blue-900":"text-gray-900"}`,children:["Timetable Changes ",E!=null&&E.timetableFrozen?"Frozen":"Active"]}),s.jsx("p",{className:`text-sm ${E!=null&&E.timetableFrozen?"text-blue-700":"text-gray-600"}`,children:E!=null&&E.timetableFrozen?"Timetable refresh functionality is currently disabled":"Teachers and admins can refresh and regenerate timetables"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:E!=null&&E.timetableFrozen?s.jsxs(ht,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[s.jsx(qc,{className:"h-3 w-3 mr-1"}),"Frozen"]}):s.jsxs(ht,{variant:"secondary",className:"bg-green-100 text-green-800",children:[s.jsx(Fl,{className:"h-3 w-3 mr-1"}),"Active"]})})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:E!=null&&E.timetableFrozen?'Click "Unfreeze" to allow timetable changes again':'Click "Freeze Changes" to prevent timetable modifications'}),s.jsx(oe,{onClick:()=>E!=null&&E.timetableFrozen?g(!0):x(!0),disabled:ae.isPending||he.isPending,variant:E!=null&&E.timetableFrozen?"default":"destructive",className:"flex items-center space-x-2",children:E!=null&&E.timetableFrozen?s.jsxs(s.Fragment,{children:[s.jsx(Fl,{className:"h-4 w-4"}),s.jsx("span",{children:he.isPending?"Unfreezing...":"Unfreeze Changes"})]}):s.jsxs(s.Fragment,{children:[s.jsx(qc,{className:"h-4 w-4"}),s.jsx("span",{children:ae.isPending?"Freezing...":"Freeze Changes"})]})})]}),s.jsx(Uc,{}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"About Timetable Freeze:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Freezing prevents all timetable refresh and regeneration operations"}),s.jsx("li",{children:' The "Refresh Table" button will be hidden from the timetable page when frozen'}),s.jsx("li",{children:" Manual timetable assignments can still be made using drag & drop"}),s.jsx("li",{children:" Useful during exam periods or when the timetable is finalized"}),s.jsx("li",{children:" Only administrators can freeze or unfreeze timetable changes"})]})]})]})})})]})]})]})}),s.jsx(qt,{open:h,onOpenChange:x,children:s.jsxs(er,{className:"sm:max-w-md",children:[s.jsx(sr,{children:s.jsxs(ar,{className:"flex items-center space-x-2",children:[s.jsx(qc,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{children:"Freeze Timetable Changes"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Are you sure you want to freeze all timetable changes? This will:"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:s.jsxs("ul",{className:"text-sm space-y-1 text-blue-800",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(qc,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:'Hide the "Refresh Table" button from the timetable page'})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Sh,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:"Prevent automatic timetable regeneration"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(bx,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:"Protect the current timetable from accidental changes"})]})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," Manual assignments using drag & drop will still work. You can unfreeze anytime."]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:()=>x(!1),disabled:ae.isPending,children:"Cancel"}),s.jsxs(oe,{onClick:J,disabled:ae.isPending,variant:"destructive",className:"flex items-center space-x-2",children:[s.jsx(qc,{className:"h-4 w-4"}),s.jsx("span",{children:ae.isPending?"Freezing...":"Freeze Changes"})]})]})]})]})}),s.jsx(qt,{open:y,onOpenChange:g,children:s.jsxs(er,{className:"sm:max-w-md",children:[s.jsx(sr,{children:s.jsxs(ar,{className:"flex items-center space-x-2",children:[s.jsx(Fl,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{children:"Unfreeze Timetable Changes"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Are you sure you want to unfreeze timetable changes? This will:"}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:s.jsxs("ul",{className:"text-sm space-y-1 text-green-800",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Fl,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:'Show the "Refresh Table" button on the timetable page'})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(lQ,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Allow timetable refresh and regeneration operations"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Enable all timetable management features"})]})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," Users will be able to refresh and regenerate timetables again."]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:()=>g(!1),disabled:he.isPending,children:"Cancel"}),s.jsxs(oe,{onClick:de,disabled:he.isPending,className:"bg-green-600 hover:bg-green-700 flex items-center space-x-2",children:[s.jsx(Fl,{className:"h-4 w-4"}),s.jsx("span",{children:he.isPending?"Unfreezing...":"Unfreeze Changes"})]})]})]})]})})]})]})}const Lfe=Wn({firstName:pt().min(1,"First name is required").max(255,"First name too long"),lastName:pt().min(1,"Last name is required").max(255,"Last name too long"),admissionNumber:pt().min(1,"Admission number is required").max(50,"Admission number too long"),email:pt().email("Invalid email").optional().or(In("")),contactNumber:pt().min(10,"Contact number must be at least 10 digits").max(15,"Contact number too long").optional().or(In("")),dateOfBirth:pt().optional().or(In("")),gender:Gu(["male","female","other"]).optional(),address:pt().optional().or(In("")),classId:pt().min(1,"Class is required"),rollNumber:pt().max(20,"Roll number too long").optional().or(In("")),bloodGroup:pt().max(5,"Blood group too long").optional().or(In("")),emergencyContact:pt().max(15,"Emergency contact too long").optional().or(In(""))});function Mfe(){const{toast:e}=On(),[,t]=Da();Ns();const[r,n]=v.useState(!1),[a,i]=v.useState(null),[o,l]=v.useState(""),[A,c]=v.useState("all"),[d,u]=v.useState("active"),[f,m]=v.useState(!1),[p,h]=v.useState(null),[x,y]=v.useState(!1),[g,w]=v.useState(null),b=es({resolver:rs(Lfe),defaultValues:{firstName:"",lastName:"",admissionNumber:"",email:"",contactNumber:"",dateOfBirth:"",gender:void 0,address:"",classId:"",rollNumber:"",bloodGroup:"",emergencyContact:""}}),{data:C,isLoading:N,fetchNextPage:B,hasNextPage:F,isFetchingNextPage:E}=EU({queryKey:["/api/students",{classId:A!=="all"?A:void 0}],queryFn:async({pageParam:_=0})=>{const Z=typeof _=="number"?_:0,K=new URLSearchParams({offset:Z.toString(),limit:"12"});return A!=="all"&&K.append("classId",A),(await Ne("GET",`/api/students?${K.toString()}`)).json()},getNextPageParam:(_,Z)=>{if(_&&_.length===12)return Z.reduce((re,ye)=>re+ye.length,0)},initialPageParam:0}),U=(C==null?void 0:C.pages.flat())||[],P=v.useRef(null),O=v.useRef(null),X=v.useCallback(()=>{F&&!E&&B()},[F,E,B]);v.useEffect(()=>(P.current&&P.current.disconnect(),P.current=new IntersectionObserver(_=>{_[0].isIntersecting&&X()},{threshold:.1,rootMargin:"100px"}),O.current&&P.current.observe(O.current),()=>{P.current&&P.current.disconnect()}),[X,U.length]);const{data:ae=[],isLoading:he}=Je({queryKey:["/api/classes"]}),q=Ct({mutationFn:async _=>(await Ne("POST","/api/students",_)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/students"]}),n(!1),b.reset(),e({title:"Success",description:"Student created successfully"})},onError:_=>{e({title:"Error",description:_.message||"Failed to create student",variant:"destructive"})}}),ne=Ct({mutationFn:async _=>{const{id:Z,...K}=_;return(await Ne("PUT",`/api/students/${Z}`,K)).json()},onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/students"]}),n(!1),i(null),b.reset(),e({title:"Success",description:"Student updated successfully"})},onError:_=>{e({title:"Error",description:_.message||"Failed to update student",variant:"destructive"})}}),H=_=>{q.mutate(_)},J=_=>{a&&ne.mutate({id:a.id,..._})},de=async()=>{try{const _=localStorage.getItem("authToken"),Z={};_&&(Z.Authorization=`Bearer ${_}`);const K=await fetch("/api/students/template",{method:"GET",headers:Z,credentials:"include"});if(!K.ok)throw new Error("Failed to download template");const re=await K.blob(),ye=window.URL.createObjectURL(re),Te=document.createElement("a");Te.href=ye,Te.download="student_import_template.xlsx",document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),window.URL.revokeObjectURL(ye),e({title:"Success",description:"Template downloaded successfully"})}catch{e({title:"Error",description:"Failed to download template",variant:"destructive"})}},se=async()=>{if(p){y(!0),w(null);try{const _=localStorage.getItem("authToken"),Z={};_&&(Z.Authorization=`Bearer ${_}`);const K=new FormData;K.append("file",p);const re=await fetch("/api/students/bulk-import",{method:"POST",headers:Z,body:K,credentials:"include"}),ye=await re.json();if(!re.ok)throw new Error(ye.message||"Import failed");w(ye),Ee.invalidateQueries({queryKey:["/api/students"]}),e({title:"Import Complete",description:`${ye.studentsCreated} students imported successfully`})}catch(_){e({title:"Import Failed",description:_.message||"Failed to import students",variant:"destructive"})}finally{y(!1)}}},D=async()=>{try{const Z=await(await Ne("GET","/api/students")).json(),K=Xa.book_new(),ye=[["Admission Number","First Name","Last Name","Class","Roll Number","Email","Contact Number","Date of Birth","Gender","Blood Group","Address","Emergency Contact","Status"]];Z.forEach(Tt=>{const dr=Tt.class?`${Tt.class.grade} ${Tt.class.section}`:"";ye.push([Tt.admissionNumber||"",Tt.firstName||"",Tt.lastName||"",dr,Tt.rollNumber||"",Tt.email||"",Tt.contactNumber||"",Tt.dateOfBirth||"",Tt.gender||"",Tt.bloodGroup||"",Tt.address||"",Tt.emergencyContact||"",Tt.status||"active"])});const Te=Xa.aoa_to_sheet(ye),Nt=[{wch:15},{wch:15},{wch:15},{wch:10},{wch:10},{wch:25},{wch:15},{wch:15},{wch:10},{wch:10},{wch:30},{wch:15},{wch:10}];Te["!cols"]=Nt,Xa.book_append_sheet(K,Te,"Students");const mt=wv(K,{type:"array",bookType:"xlsx"}),Vt=new Blob([mt],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),$t=URL.createObjectURL(Vt),He=document.createElement("a");He.href=$t,He.download=`students_export_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(He),He.click(),document.body.removeChild(He),URL.revokeObjectURL($t),e({title:"Success",description:`Exported ${Z.length} students to Excel successfully`})}catch(_){console.error("Export error:",_),e({title:"Error",description:"Failed to export students data",variant:"destructive"})}},j=U.filter(_=>{const Z=_.firstName.toLowerCase().includes(o.toLowerCase())||_.lastName.toLowerCase().includes(o.toLowerCase())||_.admissionNumber.toLowerCase().includes(o.toLowerCase()),K=A==="all"||_.classId===A,re=d==="all"||_.status===d;return Z&&K&&re}),k=U.length,M=U.filter(_=>_.status==="active").length,S=U.filter(_=>_.status==="inactive").length;return s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Students"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage student records and profiles"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(ku,{children:[s.jsx(Iu,{asChild:!0,children:s.jsxs(oe,{"data-testid":"button-student-actions",children:[s.jsx(w1,{className:"h-4 w-4 mr-2"}),"Add Student",s.jsx(wx,{className:"h-4 w-4 ml-2"})]})}),s.jsxs(Tc,{align:"end",children:[s.jsxs(Os,{onClick:()=>{i(null),b.reset(),n(!0)},"data-testid":"menu-add-single-student",children:[s.jsx(w1,{className:"h-4 w-4 mr-2"}),"Add Single Student"]}),s.jsxs(Os,{onClick:()=>m(!0),"data-testid":"menu-bulk-import",children:[s.jsx($l,{className:"h-4 w-4 mr-2"}),"Bulk Import"]})]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsxs(Qe,{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-xs font-medium text-blue-900 dark:text-blue-100",children:"Total Students"}),s.jsx(yr,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-0",children:[s.jsx("div",{className:"text-xl font-bold text-blue-800 dark:text-blue-200","data-testid":"total-students",children:k}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"All registered students"})]})]}),s.jsxs(Qe,{className:"bg-gradient-to-br from-emerald-50 to-teal-100 dark:from-emerald-950/20 dark:to-teal-900/20 border-emerald-200 dark:border-emerald-800",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-xs font-medium text-emerald-900 dark:text-emerald-100",children:"Active Students"}),s.jsx(Th,{className:"h-3 w-3 text-emerald-600 dark:text-emerald-400"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-0",children:[s.jsx("div",{className:"text-xl font-bold text-emerald-800 dark:text-emerald-200","data-testid":"active-students",children:M}),s.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Currently enrolled"})]})]}),s.jsxs(Qe,{className:"bg-gradient-to-br from-slate-50 to-gray-100 dark:from-slate-950/20 dark:to-gray-900/20 border-slate-200 dark:border-slate-800",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-xs font-medium text-slate-900 dark:text-slate-100",children:"Inactive Students"}),s.jsx(yr,{className:"h-3 w-3 text-slate-600 dark:text-slate-400"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-0",children:[s.jsx("div",{className:"text-xl font-bold text-slate-800 dark:text-slate-200","data-testid":"inactive-students",children:S}),s.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Not currently enrolled"})]})]})]}),s.jsx(Qe,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Fe,{placeholder:"Search students by name or admission number...",value:o,onChange:_=>l(_.target.value),className:"pl-10","data-testid":"search-students"})]})}),s.jsxs(Yt,{value:A,onValueChange:c,children:[s.jsx(Wt,{className:"w-full md:w-[200px]","data-testid":"filter-class",children:s.jsx(Jt,{placeholder:"Filter by class"})}),s.jsxs(zt,{children:[s.jsx($e,{value:"all",children:"All Classes"}),ae.map(_=>s.jsxs($e,{value:_.id,children:[_.grade," ",_.section]},_.id))]})]}),s.jsxs(Yt,{value:d,onValueChange:u,children:[s.jsx(Wt,{className:"w-full md:w-[200px]","data-testid":"filter-status",children:s.jsx(Jt,{placeholder:"Filter by status"})}),s.jsxs(zt,{children:[s.jsx($e,{value:"all",children:"All Status"}),s.jsx($e,{value:"active",children:"Active"}),s.jsx($e,{value:"inactive",children:"Inactive"}),s.jsx($e,{value:"graduated",children:"Graduated"}),s.jsx($e,{value:"transferred",children:"Transferred"})]})]})]})})}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Students (",j.length,")"]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(oe,{variant:"outline",size:"sm",onClick:D,"data-testid":"button-export",children:[s.jsx(xc,{className:"h-4 w-4 mr-2"}),"Export"]})})]})}),s.jsxs(Pe,{children:[N?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((_,Z)=>s.jsxs(Qe,{className:"p-4",children:[s.jsx(Kt,{className:"h-6 w-32 mb-2"}),s.jsx(Kt,{className:"h-4 w-24 mb-1"}),s.jsx(Kt,{className:"h-4 w-36"})]},Z))}):j.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ss,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No students found"}),s.jsx("p",{className:"text-muted-foreground",children:U.length===0?"No students have been added yet.":"No students match your current filters."})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.map(_=>s.jsxs(Qe,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(`/students/${_.id}`),"data-testid":`student-card-${_.id}`,children:[s.jsx(qe,{className:"pb-1",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:s.jsx(wr,{className:"h-4 w-4 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-sm","data-testid":`student-name-${_.id}`,children:[_.firstName," ",_.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.admissionNumber})]})]}),s.jsx(ht,{variant:_.status==="active"?"default":"secondary",className:"text-xs","data-testid":`student-status-${_.id}`,children:_.status})]})}),s.jsxs(Pe,{className:"space-y-1 pt-2",children:[_.class&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Pn,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["Class ",_.class.grade," ",_.class.section]})]}),_.rollNumber&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Roll No:"}),s.jsx("span",{children:_.rollNumber})]}),_.contactNumber&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(ei,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:_.contactNumber})]})]})]},_.id))}),F&&s.jsx("div",{ref:O,className:"flex justify-center py-4",children:E?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(la,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading more students..."})]}):s.jsx(oe,{variant:"ghost",onClick:X,className:"text-muted-foreground","data-testid":"button-load-more",children:"Load more students"})}),!F&&U.length>0&&s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"You've reached the end of the list"})]})]})]}),s.jsx(qt,{open:r,onOpenChange:n,children:s.jsxs(er,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:a?"Edit Student":"Add New Student"}),s.jsx(Or,{children:a?"Update the student information below.":"Fill in the student information below. All required fields are marked with an asterisk."})]}),s.jsx(ts,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(a?J:H),className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Ue,{control:b.control,name:"firstName",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"First Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter first name",..._,"data-testid":"input-first-name"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:b.control,name:"lastName",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Last Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter last name",..._,"data-testid":"input-last-name"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Ue,{control:b.control,name:"admissionNumber",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Admission Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter admission number",..._,"data-testid":"input-admission-number"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:b.control,name:"rollNumber",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Roll Number"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter roll number",..._,"data-testid":"input-roll-number"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Ue,{control:b.control,name:"classId",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Class *"}),s.jsxs(Yt,{onValueChange:_.onChange,value:_.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-class",children:s.jsx(Jt,{placeholder:"Select class"})})}),s.jsx(zt,{children:ae.map(Z=>s.jsxs($e,{value:Z.id,children:[Z.grade," ",Z.section]},Z.id))})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:b.control,name:"dateOfBirth",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Date of Birth"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"date",..._,"data-testid":"input-date-of-birth"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Ue,{control:b.control,name:"gender",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Gender"}),s.jsxs(Yt,{onValueChange:_.onChange,value:_.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-gender",children:s.jsx(Jt,{placeholder:"Select gender"})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"male",children:"Male"}),s.jsx($e,{value:"female",children:"Female"}),s.jsx($e,{value:"other",children:"Other"})]})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:b.control,name:"bloodGroup",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Blood Group"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter blood group",..._,"data-testid":"input-blood-group"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Ue,{control:b.control,name:"email",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",placeholder:"Enter email",..._,"data-testid":"input-email"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:b.control,name:"contactNumber",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Contact Number"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter contact number",..._,"data-testid":"input-contact-number"})}),s.jsx(Oe,{})]})})]}),s.jsx(Ue,{control:b.control,name:"address",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Address"}),s.jsx(Ie,{children:s.jsx(Co,{placeholder:"Enter address",..._,"data-testid":"input-address"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:b.control,name:"emergencyContact",render:({field:_})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Emergency Contact"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter emergency contact",..._,"data-testid":"input-emergency-contact"})}),s.jsx(Oe,{})]})}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>{n(!1),i(null),b.reset()},children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:q.isPending||ne.isPending,"data-testid":"button-submit-student",children:q.isPending||ne.isPending?"Saving...":a?"Update Student":"Create Student"})]})]})})]})}),s.jsx(qt,{open:f,onOpenChange:m,children:s.jsxs(er,{className:"sm:max-w-[600px]",children:[s.jsxs(sr,{children:[s.jsxs(ar,{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-5 w-5"}),"Bulk Import Students"]}),s.jsx(Or,{children:"Upload an Excel file to import multiple students at once. Download the template first to ensure proper formatting."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 text-sm font-bold rounded-full flex items-center justify-center",children:"1"}),"Download Template"]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Download the Excel template with the correct format for student data"}),s.jsxs(oe,{variant:"outline",onClick:de,"data-testid":"button-download-template",className:"w-full",children:[s.jsx(rg,{className:"h-4 w-4 mr-2"}),"Download Excel Template"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 text-sm font-bold rounded-full flex items-center justify-center",children:"2"}),"Upload Excel File"]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-300",children:s.jsxs("div",{className:"text-center",children:[s.jsx($l,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Drop your Excel file here, or click to browse"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supports .xlsx and .xls files (max 10MB)"})]}),s.jsx("input",{type:"file",accept:".xlsx,.xls",className:"hidden",id:"file-upload",onChange:_=>{var K;const Z=(K=_.target.files)==null?void 0:K[0];h(Z||null),Z&&w(null)},"data-testid":"input-file-upload"}),s.jsx("label",{htmlFor:"file-upload",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose File"})]})})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-yellow-800 mb-2",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:" Ensure all required fields are filled (First Name, Last Name, Admission Number, Class)"}),s.jsx("li",{children:" Admission numbers must be unique across all students"}),s.jsx("li",{children:" Class names must match existing classes in the system"}),s.jsx("li",{children:" Invalid rows will be skipped and reported after import"})]})]}),g&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),s.jsxs("div",{className:"text-sm text-green-700",children:[s.jsxs("p",{className:"font-medium",children:[" Successfully imported: ",g.studentsCreated," students"]}),g.errors&&g.errors.length>0&&s.jsxs("p",{className:"text-orange-700",children:[" Errors in ",g.errors.length," rows"]})]})]}),g.errors&&g.errors.length>0&&s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 max-h-40 overflow-y-auto",children:[s.jsx("h6",{className:"font-medium text-red-800 mb-2",children:"Import Errors:"}),s.jsx("div",{className:"space-y-2",children:g.errors.map((_,Z)=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-red-700",children:["Row ",_.row,":"]}),s.jsx("ul",{className:"ml-4 text-red-600",children:_.errors.map((K,re)=>s.jsxs("li",{children:[" ",K]},re))})]},Z))})]})]}),p&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rg,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:p.name}),s.jsxs("span",{className:"text-xs text-blue-600",children:["(",(p.size/1024).toFixed(1)," KB)"]})]}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{h(null),w(null);const _=document.getElementById("file-upload");_&&(_.value="")},className:"h-6 w-6 p-0 text-blue-600",children:""})]})})]}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(oe,{type:"button",disabled:!p||x,onClick:se,"data-testid":"button-import-students",children:x?"Importing...":"Import Students"})]})]})})]})}var J5="AlertDialog",[Hfe,spe]=Ws(J5,[cD]),ml=cD(),Z5=e=>{const{__scopeAlertDialog:t,...r}=e,n=ml(t);return s.jsx(GC,{...n,...r,modal:!0})};Z5.displayName=J5;var Kfe="AlertDialogTrigger",e6=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ml(r);return s.jsx(ND,{...a,...n,ref:t})});e6.displayName=Kfe;var Vfe="AlertDialogPortal",t6=e=>{const{__scopeAlertDialog:t,...r}=e,n=ml(t);return s.jsx(WC,{...n,...r})};t6.displayName=Vfe;var $fe="AlertDialogOverlay",r6=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ml(r);return s.jsx(Bm,{...a,...n,ref:t})});r6.displayName=$fe;var qd="AlertDialogContent",[Gfe,Wfe]=Hfe(qd),zfe=TU("AlertDialogContent"),n6=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ml(r),o=v.useRef(null),l=cr(t,o),A=v.useRef(null);return s.jsx(DW,{contentName:qd,titleName:s6,docsSlug:"alert-dialog",children:s.jsx(Gfe,{scope:r,cancelRef:A,children:s.jsxs(jm,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:nt(a.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=A.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[s.jsx(zfe,{children:n}),s.jsx(qfe,{contentRef:o})]})})})});n6.displayName=qd;var s6="AlertDialogTitle",a6=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ml(r);return s.jsx(Nm,{...a,...n,ref:t})});a6.displayName=s6;var i6="AlertDialogDescription",o6=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ml(r);return s.jsx(Em,{...a,...n,ref:t})});o6.displayName=i6;var Xfe="AlertDialogAction",l6=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ml(r);return s.jsx(Px,{...a,...n,ref:t})});l6.displayName=Xfe;var A6="AlertDialogCancel",c6=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Wfe(A6,r),i=ml(r),o=cr(t,a);return s.jsx(Px,{...i,...n,ref:o})});c6.displayName=A6;var qfe=({contentRef:e})=>{const t=`\`${qd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qd}\` by passing a \`${i6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Yfe=Z5,Jfe=e6,Zfe=t6,d6=r6,u6=n6,f6=l6,h6=c6,m6=a6,p6=o6;const Jo=Yfe,Yg=Jfe,ehe=Zfe,g6=v.forwardRef(({className:e,...t},r)=>s.jsx(d6,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));g6.displayName=d6.displayName;const ho=v.forwardRef(({className:e,...t},r)=>s.jsxs(ehe,{children:[s.jsx(g6,{}),s.jsx(u6,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100vw-2rem)] max-h-[calc(100vh-4rem)] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 shadow-lg duration-200 overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:max-w-lg sm:max-h-[80vh] sm:p-6 sm:rounded-lg",e),...t})]}));ho.displayName=u6.displayName;const mo=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",e),...t});mo.displayName="AlertDialogHeader";const Zo=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zo.displayName="AlertDialogFooter";const po=v.forwardRef(({className:e,...t},r)=>s.jsx(m6,{ref:r,className:De("text-lg font-semibold",e),...t}));po.displayName=m6.displayName;const go=v.forwardRef(({className:e,...t},r)=>s.jsx(p6,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));go.displayName=p6.displayName;const xo=v.forwardRef(({className:e,...t},r)=>s.jsx(f6,{ref:r,className:De(Uh(),e),...t}));xo.displayName=f6.displayName;const vo=v.forwardRef(({className:e,...t},r)=>s.jsx(h6,{ref:r,className:De(Uh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));vo.displayName=h6.displayName;function the(){const{id:e}=AU(),[,t]=Da(),{toast:r}=On(),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,A]=v.useState(!1),[c,d]=v.useState(!1),[u,f]=v.useState(null),m=xq.omit({schoolId:!0}),p=es({resolver:rs(m),defaultValues:{firstName:"",lastName:"",email:"",contactNumber:"",alternateContact:"",address:"",occupation:"",relationToStudent:"father",isActive:!0}}),h=gq.omit({schoolId:!0}),x=es({resolver:rs(h),defaultValues:{admissionNumber:"",firstName:"",lastName:"",email:"",contactNumber:"",dateOfBirth:"",gender:"male",address:"",classId:"",rollNumber:"",bloodGroup:"",emergencyContact:"",status:"active"}}),{data:y,isLoading:g}=Je({queryKey:["/api/students",e],enabled:!!e}),{data:w=[],isLoading:b}=Je({queryKey:["/api/students",e,"parents"],enabled:!!e}),{data:C,isLoading:N}=Je({queryKey:["/api/students",e,"credentials"],enabled:!!e}),{data:B=[]}=Je({queryKey:["/api/classes"]}),F=Ct({mutationFn:async j=>await(await Ne("POST","/api/parents",j)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/students",e,"parents"]}),Ee.invalidateQueries({queryKey:["/api/students",e,"credentials"]}),a(!1),p.reset(),r({title:"Success",description:"Parent added successfully"})},onError:()=>{r({title:"Error",description:"Failed to add parent",variant:"destructive"})}}),E=Ct({mutationFn:async j=>await(await Ne("PATCH",`/api/parents/${j.id}`,j)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/students",e,"parents"]}),a(!1),f(null),p.reset(),r({title:"Success",description:"Parent updated successfully"})},onError:()=>{r({title:"Error",description:"Failed to update parent",variant:"destructive"})}}),U=Ct({mutationFn:async j=>await(await Ne("DELETE",`/api/parents/${j}`)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/students",e,"parents"]}),Ee.invalidateQueries({queryKey:["/api/students",e,"credentials"]}),r({title:"Success",description:"Parent removed successfully"})},onError:()=>{r({title:"Error",description:"Failed to remove parent",variant:"destructive"})}}),P=Ct({mutationFn:async j=>await(await Ne("PATCH",`/api/students/${j.id}`,j)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/students",e]}),o(!1),x.reset(),r({title:"Success",description:"Student updated successfully"})},onError:()=>{r({title:"Error",description:"Failed to update student",variant:"destructive"})}}),O=Ct({mutationFn:async()=>await(await Ne("POST",`/api/students/${e}/credentials/refresh`)).json(),onSuccess:j=>{Ee.setQueryData(["/api/students",e,"credentials"],{studentLogin:{loginId:j.studentLogin.loginId,temporaryPassword:j.studentLogin.temporaryPassword,hasTemporaryPassword:!0,expiresAt:new Date(Date.now()+48*60*60*1e3).toISOString()},parentLogin:{loginId:j.parentLogin.loginId,temporaryPassword:j.parentLogin.temporaryPassword,hasTemporaryPassword:!0,expiresAt:new Date(Date.now()+48*60*60*1e3).toISOString()}}),Ee.invalidateQueries({queryKey:["/api/students",e,"credentials"]}),r({title:"Success",description:"Login credentials have been refreshed successfully. New passwords are now visible below."})},onError:()=>{r({title:"Error",description:"Failed to refresh credentials",variant:"destructive"})}}),X=()=>{f(null),p.reset(),a(!0)},ae=j=>{f(j),p.reset({firstName:j.firstName,lastName:j.lastName,email:j.email||"",contactNumber:j.contactNumber,alternateContact:j.alternateContact||"",address:j.address||"",occupation:j.occupation||"",relationToStudent:j.relationToStudent,isActive:j.isActive}),a(!0)},he=j=>{if(console.log("Form submitted with data:",j),console.log("Form errors:",p.formState.errors),!y){console.log("No student found");return}u?E.mutate({...j,id:u.id}):(console.log("Creating parent with data:",{...j,studentId:y.id,schoolId:y.schoolId}),F.mutate({...j,studentId:y.id,schoolId:y.schoolId}))},q=j=>{confirm("Are you sure you want to remove this parent?")&&U.mutate(j)},ne=()=>{y&&(x.reset({admissionNumber:y.admissionNumber,firstName:y.firstName,lastName:y.lastName,email:y.email||"",contactNumber:y.contactNumber||"",dateOfBirth:y.dateOfBirth||"",gender:y.gender||"male",address:y.address||"",classId:y.classId||"",rollNumber:y.rollNumber||"",bloodGroup:y.bloodGroup||"",emergencyContact:y.emergencyContact||"",status:y.status}),o(!0))},H=j=>{y&&P.mutate({...j,id:y.id,schoolId:y.schoolId})},J=j=>{navigator.clipboard.writeText(j),r({title:"Copied",description:"Copied to clipboard"})},de=()=>{d(!0)},se=()=>{O.mutate(),d(!1)},D=()=>{if(!(y!=null&&y.classId))return"Not Assigned";const j=B.find(k=>k.id===y.classId);return j?`${j.grade} ${j.section}`:"Not Assigned"};return g?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx(Kt,{className:"h-8 w-48"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsx(Kt,{className:"h-96"}),s.jsx(Kt,{className:"h-96"})]})]}):y?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>t("/students"),"data-testid":"button-back",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Back to Students"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:[y.firstName," ",y.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:"Student Profile & Parent Management"})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(Qe,{className:"shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx(qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx(rt,{className:"text-lg font-semibold",children:"Student Information"}),s.jsx(ys,{className:"text-sm",children:"Complete student profile details"})]})]}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:ne,"data-testid":"button-edit-student",className:"h-8",children:[s.jsx(fA,{className:"h-3 w-3 mr-1"}),"Edit"]})]})}),s.jsxs(Pe,{className:"pt-0 space-y-3",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Admission Number"}),s.jsx("p",{className:"text-sm font-semibold font-mono","data-testid":"text-admission-number",children:y.admissionNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Class"}),s.jsx("p",{className:"text-sm","data-testid":"text-class",children:D()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Roll Number"}),s.jsx("p",{className:"text-sm","data-testid":"text-roll-number",children:y.rollNumber||"Not Assigned"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Status"}),s.jsx(ht,{variant:y.status==="active"?"default":"secondary",className:"text-xs","data-testid":"badge-status",children:y.status})]}),y.gender&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Gender"}),s.jsx("p",{className:"text-sm capitalize","data-testid":"text-gender",children:y.gender})]}),y.bloodGroup&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Blood Group"}),s.jsx("p",{className:"text-sm","data-testid":"text-blood-group",children:y.bloodGroup})]})]}),s.jsxs("div",{className:"space-y-2",children:[y.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ao,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{"data-testid":"text-email",children:y.email})]}),y.contactNumber&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ei,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{"data-testid":"text-contact",children:y.contactNumber})]}),y.dateOfBirth&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ns,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{"data-testid":"text-dob",children:new Date(y.dateOfBirth).toLocaleDateString()})]}),y.address&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(vc,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{"data-testid":"text-address",children:y.address})]})]}),y.emergencyContact&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Emergency Contact"}),s.jsx("span",{"data-testid":"text-emergency-contact",children:y.emergencyContact})]})]}),y.medicalInfo&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medical Information"}),s.jsx("p",{className:"text-sm","data-testid":"text-medical",children:y.medicalInfo})]})]})]}),s.jsxs(Qe,{className:"shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs(qe,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tV,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsxs(rt,{className:"text-lg font-semibold flex items-center gap-2",children:["Login Credentials",s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>A(!l),"data-testid":"button-toggle-credentials",className:"h-7 w-7 p-0 hover:bg-gray-100 dark:hover:bg-gray-800",children:l?s.jsx(Y7,{className:"h-4 w-4"}):s.jsx(x1,{className:"h-4 w-4"})})]})]}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:de,disabled:O.isPending,"data-testid":"button-refresh-credentials",className:"h-8",children:[s.jsx(Fl,{className:`h-3 w-3 mr-1 ${O.isPending?"animate-spin":""}`}),O.isPending?"Refreshing...":"Refresh"]})]}),s.jsx(ys,{className:"text-sm",children:l?"Login details for student and parent access":"Click the eye icon to view login credentials"})]}),!l&&s.jsxs(Pe,{className:"pt-0 space-y-4",children:[s.jsx("div",{className:"p-4 border border-blue-100 dark:border-blue-800/30 rounded-lg bg-blue-50/30 dark:bg-blue-900/10",children:s.jsxs("div",{className:"flex items-center justify-center gap-3 py-8",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Student Portal"})]}),s.jsx(Sh,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})]})}),s.jsx("div",{className:"p-4 border border-green-100 dark:border-green-800/30 rounded-lg bg-green-50/30 dark:bg-green-900/10",children:s.jsxs("div",{className:"flex items-center justify-center gap-3 py-8",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Parent Portal"})]}),s.jsx(Sh,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})]})})]}),l&&s.jsx(Pe,{className:"pt-0 space-y-4",children:N?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Kt,{className:"h-20 rounded-lg"}),s.jsx(Kt,{className:"h-20 rounded-lg"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border border-blue-100 dark:border-blue-800/30 rounded-lg bg-blue-50/30 dark:bg-blue-900/10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ss,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Student Portal"})]}),C!=null&&C.studentLogin?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Login ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-sm font-mono","data-testid":"text-student-login-id",children:C.studentLogin.loginId}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>J(C.studentLogin.loginId),"data-testid":"button-copy-student-login",className:"h-7 w-7 p-0",children:s.jsx(VA,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Password"}),s.jsx("div",{className:"flex items-center gap-2",children:C.studentLogin.temporaryPassword?s.jsxs(s.Fragment,{children:[s.jsx("code",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-sm font-mono","data-testid":"text-student-password",children:l?C.studentLogin.temporaryPassword:""}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>J(C.studentLogin.temporaryPassword),"data-testid":"button-copy-student-password",className:"h-7 w-7 p-0",children:s.jsx(VA,{className:"h-3 w-3"})})]}):C.studentLogin.hasTemporaryPassword?s.jsx(ht,{variant:"outline",className:"text-green-600",children:"Active"}):s.jsx(ht,{variant:"secondary",children:"Not generated"})})]}),C.studentLogin.temporaryPassword&&C.studentLogin.expiresAt&&s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Valid until"}),s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:new Date(C.studentLogin.expiresAt).toLocaleString()})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No student login credentials found"})]}),s.jsxs("div",{className:"p-4 border border-green-100 dark:border-green-800/30 rounded-lg bg-green-50/30 dark:bg-green-900/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Parent Portal"})]}),s.jsx(ht,{variant:"outline",className:"text-xs px-2 py-1 bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300",children:"Shared"})]}),C!=null&&C.parentLogin?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Login ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-sm font-mono","data-testid":"text-parent-login-id",children:C.parentLogin.loginId}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>J(C.parentLogin.loginId),"data-testid":"button-copy-parent-login",className:"h-7 w-7 p-0",children:s.jsx(VA,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Password"}),s.jsx("div",{className:"flex items-center gap-2",children:C.parentLogin.temporaryPassword?s.jsxs(s.Fragment,{children:[s.jsx("code",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-sm font-mono","data-testid":"text-parent-password",children:l?C.parentLogin.temporaryPassword:""}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>J(C.parentLogin.temporaryPassword),"data-testid":"button-copy-parent-password",className:"h-7 w-7 p-0",children:s.jsx(VA,{className:"h-3 w-3"})})]}):C.parentLogin.hasTemporaryPassword?s.jsx(ht,{variant:"outline",className:"text-green-600",children:"Active"}):s.jsx(ht,{variant:"secondary",children:"Not generated"})})]}),C.parentLogin.temporaryPassword&&C.parentLogin.expiresAt&&s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Valid until"}),s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:new Date(C.parentLogin.expiresAt).toLocaleString()})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All parents for this student share these login credentials"})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No parent login credentials found"})]})]})})]})]}),s.jsxs(Qe,{className:"shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx(qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsxs("div",{children:[s.jsx(rt,{className:"text-lg font-semibold",children:"Parents & Guardians"}),s.jsx(ys,{className:"text-sm",children:"Manage multiple parents for this student"})]})]}),s.jsxs(oe,{onClick:X,"data-testid":"button-add-parent",size:"sm",className:"h-8",children:[s.jsx(w1,{className:"h-3 w-3 mr-1"}),"Add Parent"]})]})}),s.jsx(Pe,{className:"pt-0",children:b?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Kt,{className:"h-24"}),s.jsx(Kt,{className:"h-24"})]}):w.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:'No parents added yet. Click "Add Parent" to get started.'}):s.jsx("div",{className:"space-y-3",children:w.map(j=>s.jsx("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50/30 dark:bg-gray-800/30",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"font-medium text-sm","data-testid":`text-parent-name-${j.parent.id}`,children:[j.parent.firstName," ",j.parent.lastName]}),j.isPrimary&&s.jsx(ht,{variant:"default",className:"text-xs","data-testid":`badge-primary-${j.parent.id}`,children:"Primary"}),s.jsx(ht,{variant:"outline",className:"text-xs","data-testid":`badge-relation-${j.parent.id}`,children:j.parent.relationToStudent})]}),s.jsxs("div",{className:"grid gap-1 text-xs",children:[j.parent.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ao,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{"data-testid":`text-parent-email-${j.parent.id}`,children:j.parent.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{"data-testid":`text-parent-contact-${j.parent.id}`,children:j.parent.contactNumber})]}),j.parent.occupation&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupation: "}),s.jsx("span",{"data-testid":`text-parent-occupation-${j.parent.id}`,children:j.parent.occupation})]}),j.parent.address&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Address: "}),s.jsx("span",{"data-testid":`text-parent-address-${j.parent.id}`,children:j.parent.address})]})]})]}),s.jsxs("div",{className:"flex gap-1 ml-3",children:[s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>ae(j.parent),"data-testid":`button-edit-parent-${j.parent.id}`,className:"h-7 px-2 text-xs",children:"Edit"}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>q(j.parent.id),"data-testid":`button-delete-parent-${j.parent.id}`,className:"h-7 w-7 p-0",children:s.jsx(yc,{className:"h-3 w-3"})})]})]})},j.id))})})]}),s.jsx(qt,{open:n,onOpenChange:a,children:s.jsxs(er,{className:"sm:max-w-[500px]",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:u?"Edit Parent":"Add Parent"}),s.jsx(Or,{children:u?"Update parent information":"Add a new parent for this student"})]}),s.jsx(ts,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(he),className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:p.control,name:"firstName",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"First Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,"data-testid":"input-parent-first-name"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:p.control,name:"lastName",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Last Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,"data-testid":"input-parent-last-name"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:p.control,name:"email",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",...j,value:j.value||"","data-testid":"input-parent-email"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:p.control,name:"contactNumber",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Contact Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,"data-testid":"input-parent-contact"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:p.control,name:"relationToStudent",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Relation to Student *"}),s.jsxs(Yt,{onValueChange:j.onChange,defaultValue:j.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-parent-relation",children:s.jsx(Jt,{placeholder:"Select relation"})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"father",children:"Father"}),s.jsx($e,{value:"mother",children:"Mother"}),s.jsx($e,{value:"guardian",children:"Guardian"}),s.jsx($e,{value:"other",children:"Other"})]})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:p.control,name:"occupation",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Occupation"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,value:j.value||"","data-testid":"input-parent-occupation"})}),s.jsx(Oe,{})]})})]}),s.jsx(Ue,{control:p.control,name:"alternateContact",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Alternate Contact"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,value:j.value||"","data-testid":"input-parent-alt-contact"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:p.control,name:"address",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Address *"}),s.jsx(Ie,{children:s.jsx(Co,{...j,value:j.value||"","data-testid":"textarea-parent-address"})}),s.jsx(Oe,{})]})}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>{a(!1),f(null),p.reset()},"data-testid":"button-cancel-parent",children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:F.isPending||E.isPending,"data-testid":"button-save-parent",children:F.isPending||E.isPending?"Saving...":"Save"})]})]})})]})}),s.jsx(qt,{open:i,onOpenChange:o,children:s.jsxs(er,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Edit Student Information"}),s.jsx(Or,{children:"Update student profile details"})]}),s.jsx(ts,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(H),className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:x.control,name:"firstName",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"First Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,"data-testid":"input-student-first-name"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:x.control,name:"lastName",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Last Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,"data-testid":"input-student-last-name"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:x.control,name:"admissionNumber",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Admission Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,"data-testid":"input-student-admission"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:x.control,name:"rollNumber",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Roll Number"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,value:j.value||"","data-testid":"input-student-roll"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:x.control,name:"classId",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Class"}),s.jsxs(Yt,{onValueChange:j.onChange,value:j.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-student-class",children:s.jsx(Jt,{placeholder:"Select class"})})}),s.jsx(zt,{children:B.map(k=>s.jsxs($e,{value:k.id,children:[k.grade," ",k.section]},k.id))})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:x.control,name:"dateOfBirth",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Date of Birth"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"date",...j,value:j.value||"","data-testid":"input-student-dob"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:x.control,name:"gender",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Gender"}),s.jsxs(Yt,{onValueChange:j.onChange,value:j.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-student-gender",children:s.jsx(Jt,{placeholder:"Select gender"})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"male",children:"Male"}),s.jsx($e,{value:"female",children:"Female"}),s.jsx($e,{value:"other",children:"Other"})]})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:x.control,name:"bloodGroup",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Blood Group"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,value:j.value||"","data-testid":"input-student-blood-group"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(Ue,{control:x.control,name:"email",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",...j,value:j.value||"","data-testid":"input-student-email"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:x.control,name:"contactNumber",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Contact Number"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,value:j.value||"","data-testid":"input-student-contact"})}),s.jsx(Oe,{})]})})]}),s.jsx(Ue,{control:x.control,name:"address",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Address"}),s.jsx(Ie,{children:s.jsx(Co,{...j,value:j.value||"","data-testid":"textarea-student-address"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:x.control,name:"emergencyContact",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Emergency Contact"}),s.jsx(Ie,{children:s.jsx(Fe,{...j,value:j.value||"","data-testid":"input-student-emergency-contact"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:x.control,name:"status",render:({field:j})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Status"}),s.jsxs(Yt,{onValueChange:j.onChange,value:j.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-student-status",children:s.jsx(Jt,{placeholder:"Select status"})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"active",children:"Active"}),s.jsx($e,{value:"inactive",children:"Inactive"}),s.jsx($e,{value:"transferred",children:"Transferred"}),s.jsx($e,{value:"graduated",children:"Graduated"})]})]}),s.jsx(Oe,{})]})}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>{o(!1),x.reset()},"data-testid":"button-cancel-student",children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:P.isPending,"data-testid":"button-save-student",children:P.isPending?"Saving...":"Save"})]})]})})]})}),s.jsx(Jo,{open:c,onOpenChange:d,children:s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Refresh Login Credentials"}),s.jsx(go,{children:"Are you sure you want to refresh the login credentials for both the student and parent? This will generate new temporary passwords and invalidate the current ones. The new credentials will need to be shared with the student and parent."})]}),s.jsxs(Zo,{children:[s.jsx(vo,{"data-testid":"button-cancel-refresh",children:"Cancel"}),s.jsx(xo,{onClick:se,disabled:O.isPending,"data-testid":"button-confirm-refresh",className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:O.isPending?"Refreshing...":"Yes, Refresh Credentials"})]})]})})]}):s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(Qe,{children:s.jsx(Pe,{className:"pt-6",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"Student not found"})})})})}const QS=V3.extend({name:pt().min(1,"Teacher name is required"),email:pt().email("Please enter a valid email address").optional().or(In("")),contactNumber:pt().min(1,"Mobile number is required"),schoolIdNumber:pt().optional(),aadhar:pt().length(12,"Aadhaar number must be exactly 12 digits").regex(/^\d{12}$/,"Aadhaar number must contain only digits").optional().or(In("")),gender:Gu(["male","female","other"]).optional(),bloodGroup:pt().optional(),designation:pt().optional(),dateOfBirth:pt().optional(),fatherHusbandName:pt().optional(),address:pt().optional(),category:pt().optional(),religion:pt().optional(),profilePictureUrl:pt().optional(),classes:Al(pt()).optional().default([]),subjects:Al(pt()).optional().default([])}).omit({availability:!0,maxLoad:!0,employeeId:!0});function rhe(){var fs,Pa,ga,Oa,kA,Fo;const{user:e}=Ns(),{toast:t}=On(),[r,n]=Da(),[a,i]=v.useState(!1),[o,l]=v.useState(null),[A,c]=v.useState(null),[d,u]=v.useState(null),f=()=>{const ie=new URLSearchParams(window.location.search).get("tab");return ie==="leave"?"leave":ie==="schedule"?"schedule":"teachers"},[m,p]=v.useState(f),[h,x]=v.useState(!1),[y,g]=v.useState(Df()),[w,b]=v.useState(""),[C,N]=v.useState("all"),[B,F]=v.useState(""),[E,U]=v.useState(new Date().toISOString().split("T")[0]),[P,O]=v.useState("schedule"),[X,ae]=v.useState(!1),[he,q]=v.useState(6),[ne,H]=v.useState(!1);v.useEffect(()=>{const ie=new URLSearchParams(window.location.search).get("tab");p(ie==="leave"?"leave":ie==="schedule"?"schedule":"teachers")},[r]);const J=es({resolver:rs(QS),defaultValues:{name:"",email:"",contactNumber:"",schoolIdNumber:"",aadhar:"",gender:"male",bloodGroup:"",designation:"",dateOfBirth:"",fatherHusbandName:"",address:"",category:"",religion:"",profilePictureUrl:"",schoolId:(e==null?void 0:e.schoolId)||"",isActive:!0,classes:[],subjects:[]}}),de=es({resolver:rs(QS),defaultValues:{name:"",email:"",contactNumber:"",schoolIdNumber:"",aadhar:"",gender:"male",bloodGroup:"",designation:"",dateOfBirth:"",fatherHusbandName:"",address:"",category:"",religion:"",profilePictureUrl:"",schoolId:(e==null?void 0:e.schoolId)||"",isActive:!0,classes:[],subjects:[]}}),se=es({resolver:rs(wq),defaultValues:{teacherId:"",status:"absent",reason:"",startDate:Df(),endDate:Df(),isFullDay:!0}});v.useEffect(()=>{Ee.invalidateQueries({queryKey:["/api/class-subject-assignments"]})},[]);const D=I=>{const ie=_.filter(Se=>I.includes(Se.classId)),we=new Map;return ie.forEach(Se=>{const yt=M.find(Dt=>Dt.id===Se.subjectId),it=S.find(Dt=>Dt.id===Se.classId);if(yt&&it){const Dt=`${it.grade}-${Se.subjectId}`;we.has(Dt)||we.set(Dt,{id:Se.subjectId,name:yt.name,grade:it.grade,subjectName:yt.name,displayName:`Class ${it.grade} - ${yt.name}`})}}),Array.from(we.values()).sort((Se,yt)=>{const it=Se.grade.localeCompare(yt.grade,void 0,{numeric:!0,sensitivity:"base"});return it===0?Se.subjectName.localeCompare(yt.subjectName):it})},{data:j=[],isLoading:k}=Je({queryKey:["/api/teachers",e==null?void 0:e.schoolId],queryFn:async()=>(await Ne("GET",`/api/teachers?schoolId=${e==null?void 0:e.schoolId}`)).json(),enabled:!!(e!=null&&e.schoolId)}),{data:M=[]}=Je({queryKey:["/api/subjects"],queryFn:async()=>(await Ne("GET","/api/subjects")).json()}),{data:S=[]}=Je({queryKey:["/api/classes"],queryFn:async()=>(await Ne("GET","/api/classes")).json()}),{data:_=[]}=Je({queryKey:["/api/class-subject-assignments"],queryFn:async()=>(await Ne("GET","/api/class-subject-assignments")).json(),staleTime:0,gcTime:0}),{data:Z}=Je({queryKey:["/api/timetable-structure"],enabled:!!(e!=null&&e.schoolId)}),{data:K=[],isLoading:re}=Je({queryKey:["/api/timetable/detailed"],queryFn:async()=>(await Ne("GET","/api/timetable/detailed")).json(),enabled:m==="timetable"}),{data:ye=[]}=Je({queryKey:["/api/teacher-attendance",e==null?void 0:e.schoolId,y],queryFn:async()=>(await Ne("GET",`/api/teacher-attendance?date=${y}`)).json(),enabled:!!(e!=null&&e.schoolId)&&m==="attendance"}),{data:Te=[]}=Je({queryKey:["/api/teacher-attendance/all-leave",e==null?void 0:e.schoolId],queryFn:async()=>{const we=(await(await Ne("GET","/api/teacher-attendance")).json()).filter(it=>it.status!=="present"&&it.leaveStartDate&&it.leaveEndDate),Se=new Map,yt=Df();return we.forEach(it=>{const Dt=j.find(ur=>ur.id===it.teacherId);if(!Dt)return;Se.has(it.teacherId)||Se.set(it.teacherId,{teacherId:it.teacherId,teacherName:Dt.name,periods:[]});const st=Se.get(it.teacherId);if(!st.periods.some(ur=>ur.startDate===it.leaveStartDate&&ur.endDate===it.leaveEndDate)&&it.leaveStartDate&&it.leaveEndDate){const ur=it.leaveStartDate<=yt&&yt<=it.leaveEndDate;st.periods.push({startDate:it.leaveStartDate,endDate:it.leaveEndDate,reason:it.reason||void 0,status:it.status,isActive:ur})}}),Se.forEach(it=>{it.periods.sort((Dt,st)=>new Date(st.startDate).getTime()-new Date(Dt.startDate).getTime())}),Array.from(Se.values())},enabled:!!(e!=null&&e.schoolId)&&(m==="attendance"||m==="leave")&&j.length>0}),{data:Nt=[],isLoading:mt}=Je({queryKey:["teacher-schedule",B,E],queryFn:async()=>{if(!B)return[];const I=localStorage.getItem("authToken"),ie={"Content-Type":"application/json","Cache-Control":"no-cache"};I&&(ie.Authorization=`Bearer ${I}`);const we=await fetch(`/api/teachers/${B}/schedule?date=${E}`,{headers:ie});if(!we.ok)throw new Error("Failed to fetch schedule");return await we.json()},enabled:!!B&&m==="schedule"}),{data:Vt,isLoading:$t}=Je({queryKey:["teacher-workload-analytics"],queryFn:async()=>{const I=localStorage.getItem("authToken"),ie={"Content-Type":"application/json"};I&&(ie.Authorization=`Bearer ${I}`);const we=await fetch("/api/analytics/teacher-workload",{headers:ie});if(!we.ok)throw new Error("Failed to fetch analytics");return we.json()},enabled:m==="schedule"}),{data:He,isLoading:Tt}=Je({queryKey:["free-teachers-today",E],queryFn:async()=>{const I=localStorage.getItem("authToken"),ie={"Content-Type":"application/json"};I&&(ie.Authorization=`Bearer ${I}`);const we=await fetch(`/api/availability/free-teachers?date=${E}`,{headers:ie});if(!we.ok)throw new Error("Failed to fetch free teachers");return we.json()},enabled:P==="availability"&&m==="schedule"}),{data:dr=[],isLoading:Y}=Je({queryKey:["absent-teacher-alerts",E],queryFn:async()=>{const I=localStorage.getItem("authToken"),ie={"Content-Type":"application/json"};I&&(ie.Authorization=`Bearer ${I}`);const we=await fetch(`/api/substitutions/alerts?date=${E}`,{headers:ie});if(!we.ok)throw new Error("Failed to fetch alerts");return we.json()},enabled:m==="schedule"}),Ae=Te.filter(I=>I.periods.some(ie=>ie.isActive)),xe=Ct({mutationFn:async I=>(await Ne("POST","/api/teachers",{...I,schoolId:e==null?void 0:e.schoolId,availability:{monday:[],tuesday:[],wednesday:[],thursday:[],friday:[]},maxLoad:30})).json(),onSuccess:I=>(Ee.invalidateQueries({queryKey:["/api/teachers"]}),o||(i(!1),l(null),c(null),J.reset({name:"",email:"",contactNumber:"",schoolIdNumber:"",schoolId:(e==null?void 0:e.schoolId)||"",isActive:!0,classes:[],subjects:[],aadhar:"",gender:void 0,bloodGroup:"",designation:"",dateOfBirth:"",fatherHusbandName:"",address:"",category:"",religion:"",profilePictureUrl:""}),t({title:"Success",description:"Teacher added successfully"})),I),onError:I=>{t({title:"Error",description:I.message||"Failed to add teacher",variant:"destructive"})}}),Ke=Ct({mutationFn:async({id:I,data:ie})=>(await Ne("PUT",`/api/teachers/${I}`,ie)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/teachers"]}),u(null),l(null),c(null),de.reset({name:"",email:"",contactNumber:"",schoolIdNumber:"",schoolId:(e==null?void 0:e.schoolId)||"",isActive:!0,classes:[],subjects:[],aadhar:"",gender:void 0,bloodGroup:"",designation:"",dateOfBirth:"",fatherHusbandName:"",address:"",category:"",religion:"",profilePictureUrl:""}),t({title:"Success",description:"Teacher updated successfully"})},onError:I=>{t({title:"Error",description:I.message||"Failed to update teacher",variant:"destructive"})}}),z=Ct({mutationFn:async I=>{await Ne("DELETE",`/api/teachers/${I}`)},onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/teachers"]}),t({title:"Success",description:"Teacher deleted successfully"})},onError:I=>{t({title:"Error",description:I.message||"Failed to delete teacher",variant:"destructive"})}});Ct({mutationFn:async({teacherId:I,status:ie})=>(await Ne("POST","/api/teacher-attendance",{teacherId:I,schoolId:e==null?void 0:e.schoolId,attendanceDate:y,status:ie,isFullDay:!0})).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/teacher-attendance"]}),Ee.invalidateQueries({queryKey:["timetable-changes"]}),Ee.refetchQueries({queryKey:["timetable-changes"]}),t({title:"Success",description:"Attendance marked successfully"})},onError:I=>{t({title:"Error",description:I.message||"Failed to mark attendance",variant:"destructive"})}});const ce=Ct({mutationFn:async I=>(await Ne("POST","/api/teacher-attendance/bulk",I)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/teacher-attendance"]}),Ee.invalidateQueries({queryKey:["timetable-changes"]}),Ee.refetchQueries({queryKey:["timetable-changes"]}),x(!1),se.reset(),t({title:"Success",description:"Bulk attendance marked successfully"})},onError:I=>{t({title:"Error",description:I.message||"Failed to mark bulk attendance",variant:"destructive"})}}),Me=Ct({mutationFn:async I=>{const ie=localStorage.getItem("authToken"),we={"Content-Type":"application/json"};ie&&(we.Authorization=`Bearer ${ie}`);const Se=await fetch("/api/teachers/daily-periods",{method:"PUT",headers:we,body:JSON.stringify(I)});if(!Se.ok)throw new Error("Failed to update daily periods");return Se.json()},onSuccess:()=>{Ee.invalidateQueries({queryKey:["teachers"]}),Ee.invalidateQueries({queryKey:["teacher-workload-analytics"]}),ae(!1),H(!1),t({title:"Success",description:"Daily periods updated successfully"})},onError:I=>{t({title:"Error",description:I.message||"Failed to update daily periods",variant:"destructive"})}}),Et=I=>{if(I.size>5*1024*1024){t({title:"Error",description:"Image size must be less than 5MB",variant:"destructive"});return}if(!I.type.startsWith("image/")){t({title:"Error",description:"Please select a valid image file",variant:"destructive"});return}l(I);const ie=new FileReader;ie.onload=we=>{var Se;c((Se=we.target)==null?void 0:Se.result)},ie.readAsDataURL(I)},It=async(I,ie)=>{const we=new FormData;we.append("profilePicture",ie);const Se=localStorage.getItem("authToken"),yt=await fetch(`/api/teachers/${I}/upload-profile-picture`,{method:"POST",headers:{...Se?{Authorization:`Bearer ${Se}`}:{}},body:we});if(!yt.ok)throw new Error("Failed to upload profile picture");return(await yt.json()).profilePictureUrl},fn=()=>{l(null),c(null);const I=document.getElementById("profile-image-input");I&&(I.value="")},zr=async I=>{try{const ie=await xe.mutateAsync(I);if(o&&ie.id){try{const we=await It(ie.id,o);await Ke.mutateAsync({id:ie.id,data:{...I,profilePictureUrl:we}}),t({title:"Success",description:"Teacher and profile picture added successfully"})}catch(we){console.error("Profile picture upload failed:",we),t({title:"Warning",description:"Teacher created but profile picture upload failed",variant:"destructive"})}i(!1),fn(),J.reset({name:"",email:"",contactNumber:"",schoolIdNumber:"",schoolId:(e==null?void 0:e.schoolId)||"",isActive:!0,classes:[],subjects:[],aadhar:"",gender:void 0,bloodGroup:"",designation:"",dateOfBirth:"",fatherHusbandName:"",address:"",category:"",religion:"",profilePictureUrl:""})}}catch(ie){console.error("Error adding teacher:",ie)}},Jr=async I=>{if(d)try{if(o){const ie=await It(d.id,o);Ke.mutate({id:d.id,data:{...I,profilePictureUrl:ie}})}else Ke.mutate({id:d.id,data:I})}catch(ie){console.error("Profile picture upload failed:",ie),t({title:"Error",description:"Failed to upload profile picture",variant:"destructive"})}},di=I=>{z.mutate(I)},ui=()=>{try{const I=j.filter(st=>{let Hr=!0;if(w){const Ss=w.toLowerCase();Hr=!1,st.name.toLowerCase().includes(Ss)&&(Hr=!0),st.schoolIdNumber&&st.schoolIdNumber.toLowerCase().includes(Ss)&&(Hr=!0),(st.classes||[]).map(hs=>{const T=S.find(Q=>Q.id===hs);return T?T.section&&T.section.trim()!==""&&T.section!=="-"?`Class ${T.grade}-${T.section}`:`Class ${T.grade}`:null}).filter(Boolean).some(hs=>hs&&hs.toLowerCase().includes(Ss))&&(Hr=!0)}let ur=!0;return C!=="all"&&(ur=(st.classes||[]).includes(C)),Hr&&ur}),ie=I.map(st=>{const Hr=(st.subjects||[]).map(Ss=>{var hn;return(hn=M.find(hs=>hs.id===Ss))==null?void 0:hn.name}).filter(Boolean).join(", ")||"Not assigned",ur=(st.classes||[]).map(Ss=>{const hn=S.find(T=>T.id===Ss);return hn?hn.section&&hn.section.trim()!==""&&hn.section!=="-"?`Class ${hn.grade}-${hn.section}`:`Class ${hn.grade}`:null}).filter(Boolean).join(", ")||"Not assigned";return{"School ID":st.schoolIdNumber||"Not provided",Name:st.name,Designation:st.designation||"Not provided",Gender:st.gender||"Not provided","Date of Birth":st.dateOfBirth||"Not provided","Father/Husband Name":st.fatherHusbandName||"Not provided","Contact Number":st.contactNumber||"Not provided",Email:st.email||"Not provided",Address:st.address||"Not provided","Aadhaar Number":st.aadhar||"Not provided","Blood Group":st.bloodGroup||"Not provided",Category:st.category||"Not provided",Religion:st.religion||"Not provided","Classes Taught":ur,"Subjects Taught":Hr}}),we=Xa.book_new(),Se=Xa.json_to_sheet(ie),yt=Xa.decode_range(Se["!ref"]||"A1"),it=[];for(let st=yt.s.c;st<=yt.e.c;++st){let Hr=10;for(let ur=yt.s.r;ur<=yt.e.r;++ur){const Ss=Xa.encode_cell({r:ur,c:st}),hn=Se[Ss];if(hn&&hn.v){const hs=hn.v.toString().length;hs>Hr&&(Hr=hs)}}it.push({width:Math.min(Hr+2,50)})}Se["!cols"]=it,Xa.book_append_sheet(we,Se,"Teachers");let Dt="teachers_export";if(C!=="all"){const st=S.find(Hr=>Hr.id===C);st&&(Dt=`teachers_${st.section&&st.section.trim()!==""&&st.section!=="-"?`class_${st.grade}_${st.section}`:`class_${st.grade}`}`)}w&&(Dt+=`_search_${w.replace(/[^a-zA-Z0-9]/g,"_")}`),Dt+=`_${new Date().toISOString().split("T")[0]}.xlsx`,Xg(we,Dt),t({title:"Export Successful",description:`Exported ${I.length} teacher${I.length!==1?"s":""} to Excel`})}catch(I){console.error("Export failed:",I),t({title:"Export Failed",description:"Failed to export teacher data. Please try again.",variant:"destructive"})}},Xn=I=>{u(I),de.reset({name:I.name,email:I.email??"",contactNumber:I.contactNumber??"",schoolIdNumber:I.schoolIdNumber??"",schoolId:I.schoolId,isActive:I.isActive,classes:I.classes||[],subjects:I.subjects||[],aadhar:I.aadhar??"",gender:I.gender||void 0,bloodGroup:I.bloodGroup??"",designation:I.designation??"",dateOfBirth:I.dateOfBirth??"",fatherHusbandName:I.fatherHusbandName??"",address:I.address??"",category:I.category??"",religion:I.religion??"",profilePictureUrl:I.profilePictureUrl??""})},So=I=>{ce.mutate(I)},us=new Date(y).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase();return(fs=Z==null?void 0:Z.workingDays)!=null&&fs.includes(us),e!=null&&e.schoolId?s.jsxs("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:justify-between md:items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(yr,{className:"h-6 w-6 md:h-8 md:w-8"}),"Teachers"]}),s.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Manage teachers, timetables, and attendance"})]}),s.jsx(bv,{className:"w-full md:w-64"})]}),s.jsxs(Km,{value:m,onValueChange:p,className:"space-y-4",children:[s.jsxs(tf,{className:"grid w-full grid-cols-3 h-12 md:h-10",children:[s.jsxs(ni,{value:"teachers",className:"flex items-center gap-1 md:gap-2 px-1 md:px-3 text-xs md:text-sm",children:[s.jsx(wr,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Teachers"}),s.jsx("span",{className:"sm:hidden",children:"Staff"})]}),s.jsxs(ni,{value:"leave",className:"flex items-center gap-1 md:gap-2 px-1 md:px-3 text-xs md:text-sm",children:[s.jsx(dd,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Teachers on Leave"}),s.jsx("span",{className:"sm:hidden",children:"Leave"})]}),s.jsxs(ni,{value:"schedule",className:"flex items-center gap-1 md:gap-2 px-1 md:px-3 text-xs md:text-sm",children:[s.jsx(ns,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Teacher Schedule"}),s.jsx("span",{className:"sm:hidden",children:"Schedule"})]})]}),s.jsxs(si,{value:"teachers",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-4",children:[s.jsx("div",{className:"flex-1 min-w-0 sm:max-w-md",children:s.jsx(Fe,{placeholder:"Search teachers by name, school ID, or class taught...",value:w,onChange:I=>b(I.target.value),className:"w-full"})}),s.jsx("div",{className:"w-full sm:w-48",children:s.jsxs(Yt,{value:C,onValueChange:N,children:[s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Filter by class"})}),s.jsxs(zt,{children:[s.jsx($e,{value:"all",children:"All Classes"}),S.map(I=>{const we=I.section&&I.section.trim()!==""&&I.section!=="-"?`Class ${I.grade}-${I.section}`:`Class ${I.grade}`;return s.jsx($e,{value:I.id,children:we},I.id)})]})]})})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsxs(oe,{onClick:ui,variant:"outline",className:"flex-1 sm:flex-none",children:[s.jsx(xc,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(oe,{onClick:()=>i(!0),className:"flex-1 sm:flex-none",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Add Teacher"]})]})]}),s.jsx(qt,{open:a,onOpenChange:I=>{i(I),I||(l(null),c(null))},children:s.jsxs(er,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsxs(ar,{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5"}),"Create Teacher"]}),s.jsx(Or,{children:"Add a new teacher with complete information"})]}),s.jsx(ts,{...J,children:s.jsxs("form",{onSubmit:J.handleSubmit(zr),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx("div",{className:"relative w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center border overflow-hidden",children:A?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:A,alt:"Profile preview",className:"w-full h-full object-cover rounded-full"}),s.jsx("button",{type:"button",onClick:fn,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",title:"Remove image",children:""})]}):s.jsx(wr,{className:"h-12 w-12 text-gray-400"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:I=>{var we;const ie=(we=I.target.files)==null?void 0:we[0];ie&&Et(ie)},className:"hidden",id:"profile-image-input"}),s.jsx(oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{var I;return(I=document.getElementById("profile-image-input"))==null?void 0:I.click()},children:"Upload Image"}),s.jsx("span",{className:"text-sm text-gray-500",children:"or"}),s.jsx(oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{var I;return(I=document.getElementById("profile-image-input"))==null?void 0:I.click()},children:s.jsx(H7,{className:"h-4 w-4"})})]}),o&&s.jsxs("p",{className:"text-sm text-green-600",children:["Selected: ",o.name]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ue,{control:J.control,name:"name",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Name*"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter full name",...I})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"aadhar",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Aadhaar"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"12-digit Aadhaar number",...I})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"contactNumber",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Mobile Number*"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter mobile number",...I})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"gender",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Gender"}),s.jsxs(Yt,{onValueChange:I.onChange,defaultValue:I.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select..."})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"male",children:"Male"}),s.jsx($e,{value:"female",children:"Female"}),s.jsx($e,{value:"other",children:"Other"})]})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"bloodGroup",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Blood Group"}),s.jsxs(Yt,{onValueChange:I.onChange,defaultValue:I.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select..."})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"A+",children:"A+"}),s.jsx($e,{value:"A-",children:"A-"}),s.jsx($e,{value:"B+",children:"B+"}),s.jsx($e,{value:"B-",children:"B-"}),s.jsx($e,{value:"AB+",children:"AB+"}),s.jsx($e,{value:"AB-",children:"AB-"}),s.jsx($e,{value:"O+",children:"O+"}),s.jsx($e,{value:"O-",children:"O-"})]})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"designation",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Designation"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., Senior Teacher",...I})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"dateOfBirth",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Date of birth"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"date",...I})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"fatherHusbandName",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Father / Husband Name"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter father/husband name",...I})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"category",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Category"}),s.jsxs(Yt,{onValueChange:I.onChange,defaultValue:I.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select..."})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"general",children:"General"}),s.jsx($e,{value:"obc",children:"OBC"}),s.jsx($e,{value:"sc",children:"SC"}),s.jsx($e,{value:"st",children:"ST"}),s.jsx($e,{value:"ews",children:"EWS"})]})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"religion",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Religion"}),s.jsxs(Yt,{onValueChange:I.onChange,defaultValue:I.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select..."})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"hindu",children:"Hindu"}),s.jsx($e,{value:"muslim",children:"Muslim"}),s.jsx($e,{value:"christian",children:"Christian"}),s.jsx($e,{value:"sikh",children:"Sikh"}),s.jsx($e,{value:"buddhist",children:"Buddhist"}),s.jsx($e,{value:"jain",children:"Jain"}),s.jsx($e,{value:"other",children:"Other"})]})]}),s.jsx(Oe,{})]})})]}),s.jsx(Ue,{control:J.control,name:"address",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Address"}),s.jsx(Ie,{children:s.jsx(Co,{placeholder:"Enter complete address",className:"min-h-[80px]",...I})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"email",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email Address (Optional)"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",placeholder:"teacher@school.com",...I})}),s.jsx(Oe,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Teaching Assignments"}),s.jsx(Ue,{control:J.control,name:"classes",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Classes Taught"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",onValueChange:ie=>{ie&&!I.value.includes(ie)&&(I.onChange([...I.value,ie]),J.setValue("subjects",[]))},children:[s.jsx(Wt,{"data-testid":"select-add-classes",children:s.jsx(Jt,{placeholder:"Add classes..."})}),s.jsx(zt,{children:S.filter(ie=>!I.value.includes(ie.id)).sort((ie,we)=>{const Se=ie.section&&ie.section.trim()!==""&&ie.section!=="-"?`${ie.grade}-${ie.section}`:ie.grade,yt=we.section&&we.section.trim()!==""&&we.section!=="-"?`${we.grade}-${we.section}`:we.grade;return Se.localeCompare(yt,void 0,{numeric:!0,sensitivity:"base"})}).map(ie=>s.jsxs($e,{value:ie.id,children:["Class ",ie.section&&ie.section.trim()!==""&&ie.section!=="-"?`${ie.grade}-${ie.section}`:ie.grade]},ie.id))})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:I.value.sort((ie,we)=>{const Se=S.find(st=>st.id===ie),yt=S.find(st=>st.id===we);if(!Se||!yt)return 0;const it=Se.section&&Se.section.trim()!==""&&Se.section!=="-"?`${Se.grade}-${Se.section}`:Se.grade,Dt=yt.section&&yt.section.trim()!==""&&yt.section!=="-"?`${yt.grade}-${yt.section}`:yt.grade;return it.localeCompare(Dt,void 0,{numeric:!0,sensitivity:"base"})}).map(ie=>{const we=S.find(Se=>Se.id===ie);return we?s.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm",children:[s.jsxs("span",{children:["Class ",we.section&&we.section.trim()!==""&&we.section!=="-"?`${we.grade}-${we.section}`:we.grade]}),s.jsx("button",{type:"button",onClick:()=>{const Se=I.value.filter(st=>st!==ie);I.onChange(Se);const yt=J.getValues("subjects"),it=_.filter(st=>st.classId===ie).map(st=>st.subjectId),Dt=yt.filter(st=>!it.includes(st));J.setValue("subjects",Dt)},className:"ml-1 hover:bg-green-200 rounded-full w-4 h-4 flex items-center justify-center","data-testid":`remove-add-class-${ie}`,children:""})]},ie):null})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:J.control,name:"subjects",render:({field:I})=>{const ie=J.watch("classes"),we=D(ie||[]);return s.jsxs(ke,{children:[s.jsx(_e,{children:"Subjects Taught"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",disabled:!ie||ie.length===0,onValueChange:Se=>{Se&&!I.value.includes(Se)&&I.onChange([...I.value,Se])},children:[s.jsx(Wt,{"data-testid":"select-add-subjects",children:s.jsx(Jt,{placeholder:!ie||ie.length===0?"Select classes first...":"Add subjects..."})}),s.jsx(zt,{children:we.filter(Se=>!I.value.includes(Se.id)).map(Se=>s.jsx($e,{value:Se.id,children:Se.displayName},Se.id))})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:I.value.map(Se=>{const yt=we.find(it=>it.id===Se);return yt?s.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-sm",children:[s.jsx("span",{children:yt.displayName}),s.jsx("button",{type:"button",onClick:()=>{I.onChange(I.value.filter(it=>it!==Se))},className:"ml-1 hover:bg-blue-200 rounded-full w-4 h-4 flex items-center justify-center","data-testid":`remove-add-subject-${Se}`,children:""})]},Se):null})}),s.jsx(Oe,{})]})}})]}),s.jsx(An,{children:s.jsx(oe,{type:"submit",disabled:xe.isPending,"data-testid":"button-save-teacher",children:xe.isPending?"Adding...":"Add Teacher"})})]})})]})}),s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsx(rt,{children:"All Teachers"}),s.jsx(ys,{children:(()=>{const I=j.filter(ie=>{let we=!0;if(w){const yt=w.toLowerCase();we=!1,ie.name.toLowerCase().includes(yt)&&(we=!0),ie.schoolIdNumber&&ie.schoolIdNumber.toLowerCase().includes(yt)&&(we=!0),(ie.classes||[]).map(Dt=>{const st=S.find(ur=>ur.id===Dt);return st?st.section&&st.section.trim()!==""&&st.section!=="-"?`Class ${st.grade}-${st.section}`:`Class ${st.grade}`:null}).filter(Boolean).some(Dt=>Dt&&Dt.toLowerCase().includes(yt))&&(we=!0)}let Se=!0;return C!=="all"&&(Se=(ie.classes||[]).includes(C)),we&&Se});return`${I.length} teacher${I.length!==1?"s":""} ${C!=="all"||w?"found":"in your school"}`})()})]}),s.jsx(Pe,{children:k?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):j.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No teachers found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Get started by adding your first teacher"}),s.jsxs(oe,{onClick:()=>i(!0),"data-testid":"button-add-first-teacher",children:[s.jsx(ws,{className:"mr-2 h-4 w-4"}),"Add Teacher"]})]}):s.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:j.filter(I=>{let ie=!0;if(w){const Se=w.toLowerCase();ie=!1,I.name.toLowerCase().includes(Se)&&(ie=!0),I.schoolIdNumber&&I.schoolIdNumber.toLowerCase().includes(Se)&&(ie=!0),(I.classes||[]).map(it=>{const Dt=S.find(Hr=>Hr.id===it);return Dt?Dt.section&&Dt.section.trim()!==""&&Dt.section!=="-"?`Class ${Dt.grade}-${Dt.section}`:`Class ${Dt.grade}`:null}).filter(Boolean).some(it=>it&&it.toLowerCase().includes(Se))&&(ie=!0)}let we=!0;return C!=="all"&&(we=(I.classes||[]).includes(C)),ie&&we}).sort((I,ie)=>I.name.localeCompare(ie.name)).map(I=>((I.subjects||[]).map(ie=>M.find(we=>we.id===ie)).filter(Boolean).map(ie=>ie.name),(I.classes||[]).map(ie=>{const we=S.find(yt=>yt.id===ie);return we?we.section&&we.section.trim()!==""&&we.section!=="-"?`Class ${we.grade}-${we.section}`:`Class ${we.grade}`:null}).filter(Boolean).sort((ie,we)=>!ie||!we?0:ie.localeCompare(we,void 0,{numeric:!0,sensitivity:"base"})),s.jsxs(Qe,{className:"hover:shadow-md transition-shadow","data-testid":`teacher-card-${I.id}`,children:[s.jsx(qe,{className:"pb-2 pt-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center bg-primary",children:[I.profilePictureUrl?s.jsx("img",{src:I.profilePictureUrl,alt:I.name,className:"w-full h-full object-cover",onError:ie=>{var Se;const we=ie.target;we.style.display="none",(Se=we.nextElementSibling)==null||Se.classList.remove("hidden")}}):null,s.jsx(wr,{className:`h-4 w-4 text-primary-foreground ${I.profilePictureUrl?"hidden":""}`})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h3",{className:"font-semibold text-sm truncate cursor-pointer hover:text-primary transition-colors","data-testid":`teacher-name-${I.id}`,onClick:()=>n(`/teacher/${I.id}`),children:I.name})})]})}),s.jsxs(Pe,{className:"space-y-1 pt-0 pb-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ao,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),I.email?s.jsx("span",{className:"text-muted-foreground truncate","data-testid":`teacher-email-${I.id}`,children:I.email}):s.jsx("span",{className:"text-muted-foreground/60 italic truncate",children:"Email not updated"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(ei,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),I.contactNumber?s.jsx("span",{className:"text-muted-foreground truncate","data-testid":`teacher-contact-${I.id}`,children:I.contactNumber}):s.jsx("span",{className:"text-muted-foreground/60 italic truncate",children:"Contact not updated"})]}),s.jsxs("div",{className:"flex justify-end gap-1 pt-1",children:[s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>Xn(I),"data-testid":`button-edit-teacher-${I.id}`,className:"h-7 w-7 p-0",children:s.jsx(fA,{className:"h-3 w-3"})}),s.jsxs(Jo,{children:[s.jsx(Yg,{asChild:!0,children:s.jsx(oe,{variant:"outline",size:"sm","data-testid":`button-delete-teacher-${I.id}`,className:"h-7 w-7 p-0",children:s.jsx(yc,{className:"h-3 w-3"})})}),s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Delete Teacher"}),s.jsxs(go,{children:['Are you sure you want to delete "',I.name,'"? This action cannot be undone.']})]}),s.jsxs(An,{children:[s.jsx(vo,{children:"Cancel"}),s.jsx(xo,{onClick:()=>di(I.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`button-confirm-delete-teacher-${I.id}`,children:"Delete"})]})]})]})]})]})]},I.id)))})})]}),s.jsx(qt,{open:!!d,onOpenChange:I=>{I||(u(null),l(null),c(null))},children:s.jsxs(er,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsxs(ar,{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5"}),"Edit Teacher"]}),s.jsx(Or,{children:"Update teacher information with complete details"})]}),s.jsx(ts,{...de,children:s.jsxs("form",{onSubmit:de.handleSubmit(Jr),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx("div",{className:"relative w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center border overflow-hidden",children:A?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:A,alt:"Profile preview",className:"w-full h-full object-cover rounded-full"}),s.jsx("button",{type:"button",onClick:fn,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",title:"Remove image",children:""})]}):d!=null&&d.profilePictureUrl?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:d.profilePictureUrl,alt:"Current profile",className:"w-full h-full object-cover rounded-full"}),s.jsx("button",{type:"button",onClick:()=>{c(null)},className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-blue-600",title:"Change image",children:""})]}):s.jsx(wr,{className:"h-12 w-12 text-gray-400"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:I=>{var we;const ie=(we=I.target.files)==null?void 0:we[0];ie&&Et(ie)},className:"hidden",id:"edit-profile-image-input"}),s.jsx("label",{htmlFor:"edit-profile-image-input",className:"cursor-pointer bg-blue-50 text-blue-600 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors",children:d!=null&&d.profilePictureUrl&&!A?"Change Photo":"Choose Photo"}),s.jsx("span",{className:"text-xs text-gray-500 self-center",children:"Max 5MB, JPG/PNG"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ue,{control:de.control,name:"name",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Full Name *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter full name",...I,"data-testid":"input-edit-teacher-name"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"email",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email Address"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",placeholder:"teacher@school.com",...I,"data-testid":"input-edit-teacher-email"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"contactNumber",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Contact Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., +1234567890",...I,"data-testid":"input-edit-teacher-contact"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"schoolIdNumber",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Employee ID"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., T001",...I,"data-testid":"input-edit-teacher-school-id"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"aadhar",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Aadhaar Number"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., 1234 5678 9012",...I,"data-testid":"input-edit-teacher-aadhar"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"gender",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Gender"}),s.jsxs(Yt,{onValueChange:I.onChange,value:I.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-edit-teacher-gender",children:s.jsx(Jt,{placeholder:"Select gender"})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"male",children:"Male"}),s.jsx($e,{value:"female",children:"Female"}),s.jsx($e,{value:"other",children:"Other"})]})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"bloodGroup",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Blood Group"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., A+, B-, O+",...I,"data-testid":"input-edit-teacher-blood-group"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"designation",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Designation"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., Senior Teacher, HOD",...I,"data-testid":"input-edit-teacher-designation"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"dateOfBirth",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Date of Birth"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"date",...I,"data-testid":"input-edit-teacher-dob"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"fatherHusbandName",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Father/Husband Name"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter father or husband name",...I,"data-testid":"input-edit-teacher-father-husband"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"category",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Category"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., General, OBC, SC, ST",...I,"data-testid":"input-edit-teacher-category"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"religion",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Religion"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter religion",...I,"data-testid":"input-edit-teacher-religion"})}),s.jsx(Oe,{})]})})]}),s.jsx(Ue,{control:de.control,name:"address",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Address"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter complete address",...I,"data-testid":"input-edit-teacher-address"})}),s.jsx(Oe,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Teaching Assignments"}),s.jsx(Ue,{control:de.control,name:"classes",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Classes Taught"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",onValueChange:ie=>{ie&&!I.value.includes(ie)&&(I.onChange([...I.value,ie]),de.setValue("subjects",[]))},children:[s.jsx(Wt,{"data-testid":"select-edit-classes",children:s.jsx(Jt,{placeholder:"Add classes..."})}),s.jsx(zt,{children:S.filter(ie=>!I.value.includes(ie.id)).sort((ie,we)=>{const Se=ie.section&&ie.section.trim()!==""&&ie.section!=="-"?`${ie.grade}-${ie.section}`:ie.grade,yt=we.section&&we.section.trim()!==""&&we.section!=="-"?`${we.grade}-${we.section}`:we.grade;return Se.localeCompare(yt,void 0,{numeric:!0,sensitivity:"base"})}).map(ie=>s.jsxs($e,{value:ie.id,children:["Grade ",ie.section&&ie.section.trim()!==""&&ie.section!=="-"?`${ie.grade}-${ie.section}`:ie.grade]},ie.id))})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:S.length>0&&I.value.length>0?I.value.sort((ie,we)=>{const Se=S.find(st=>st.id===ie),yt=S.find(st=>st.id===we);if(!Se||!yt)return 0;const it=Se.section&&Se.section.trim()!==""&&Se.section!=="-"?`${Se.grade}-${Se.section}`:Se.grade,Dt=yt.section&&yt.section.trim()!==""&&yt.section!=="-"?`${yt.grade}-${yt.section}`:yt.grade;return it.localeCompare(Dt,void 0,{numeric:!0,sensitivity:"base"})}).map(ie=>{const we=S.find(Se=>Se.id===ie);return we?s.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm",children:[s.jsxs("span",{children:["Class ",we.section&&we.section.trim()!==""&&we.section!=="-"?`${we.grade}-${we.section}`:we.grade]}),s.jsx("button",{type:"button",onClick:()=>{const Se=I.value.filter(st=>st!==ie);I.onChange(Se);const yt=de.getValues("subjects"),it=_.filter(st=>st.classId===ie).map(st=>st.subjectId),Dt=yt.filter(st=>!it.includes(st));de.setValue("subjects",Dt)},className:"ml-1 hover:bg-green-200 rounded-full w-4 h-4 flex items-center justify-center","data-testid":`remove-edit-class-${ie}`,children:""})]},ie):null}):I.value.length>0&&S.length===0?s.jsx("div",{className:"text-sm text-gray-500",children:"Loading classes..."}):null}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:de.control,name:"subjects",render:({field:I})=>{const ie=de.watch("classes"),we=ie&&ie.length>0?D(ie):M.map(Se=>({...Se,displayName:Se.name}));return s.jsxs(ke,{children:[s.jsx(_e,{children:"Subjects Taught"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",disabled:!1,onValueChange:Se=>{Se&&!I.value.includes(Se)&&I.onChange([...I.value,Se])},children:[s.jsx(Wt,{"data-testid":"select-edit-subjects",children:s.jsx(Jt,{placeholder:"Add subjects..."})}),s.jsx(zt,{children:we.filter(Se=>!I.value.includes(Se.id)).map(Se=>s.jsx($e,{value:Se.id,children:Se.displayName},Se.id))})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:I.value.map(Se=>{const yt=we.find(it=>it.id===Se);return yt?s.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-sm",children:[s.jsx("span",{children:yt.displayName}),s.jsx("button",{type:"button",onClick:()=>{I.onChange(I.value.filter(it=>it!==Se))},className:"ml-1 hover:bg-blue-200 rounded-full w-4 h-4 flex items-center justify-center","data-testid":`remove-edit-subject-${Se}`,children:""})]},Se):null})}),s.jsx(Oe,{})]})}})]}),s.jsx(An,{children:s.jsx(oe,{type:"submit",disabled:Ke.isPending,"data-testid":"button-save-edit-teacher",children:Ke.isPending?"Updating...":"Update Teacher"})})]})})]})})]}),s.jsx(si,{value:"leave",className:"space-y-6",children:s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(dd,{className:"h-5 w-5"}),"Teachers Leave Management"]}),s.jsx(ys,{children:"View and manage teacher leave periods and attendance history"})]}),s.jsxs(qt,{open:h,onOpenChange:x,children:[s.jsx(so,{asChild:!0,children:s.jsxs(oe,{variant:"outline","data-testid":"button-bulk-attendance",children:[s.jsx(dd,{className:"mr-2 h-4 w-4"}),"Mark Leave Period"]})}),s.jsxs(er,{children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Mark Leave Period"}),s.jsx(Or,{children:"Mark a teacher as absent for multiple days (leave period)"})]}),s.jsx(ts,{...se,children:s.jsxs("form",{onSubmit:se.handleSubmit(So),className:"space-y-4",children:[s.jsx(Ue,{control:se.control,name:"teacherId",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Teacher"}),s.jsxs(Yt,{onValueChange:I.onChange,value:I.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-bulk-teacher",children:s.jsx(Jt,{placeholder:"Select a teacher"})})}),s.jsx(zt,{children:j.map(ie=>s.jsx($e,{value:ie.id,children:ie.name},ie.id))})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:se.control,name:"status",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Leave Type"}),s.jsxs(Yt,{onValueChange:I.onChange,value:I.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-leave-type",children:s.jsx(Jt,{placeholder:"Select leave type"})})}),s.jsxs(zt,{children:[s.jsx($e,{value:"absent",children:"Absent"}),s.jsx($e,{value:"on_leave",children:"On Leave"}),s.jsx($e,{value:"medical_leave",children:"Medical Leave"}),s.jsx($e,{value:"personal_leave",children:"Personal Leave"})]})]}),s.jsx(Oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:se.control,name:"startDate",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Start Date"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"date",...I,"data-testid":"input-start-date"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:se.control,name:"endDate",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"End Date"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"date",...I,"data-testid":"input-end-date"})}),s.jsx(Oe,{})]})})]}),s.jsx(Ue,{control:se.control,name:"reason",render:({field:I})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Reason (Optional)"}),s.jsx(Ie,{children:s.jsx(Co,{placeholder:"Enter reason for leave...",...I,"data-testid":"textarea-leave-reason"})}),s.jsx(Oe,{})]})}),s.jsx(An,{children:s.jsx(oe,{type:"submit",disabled:ce.isPending,"data-testid":"button-save-bulk-attendance",children:ce.isPending?"Marking...":"Mark Leave Period"})})]})})]})]})]})}),s.jsxs(Pe,{className:"space-y-6",children:[Ae.length>0&&s.jsxs(Qe,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950",children:[s.jsxs(qe,{children:[s.jsxs(rt,{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[s.jsx(dd,{className:"h-5 w-5"}),"Teachers Currently on Leave"]}),s.jsxs(ys,{className:"text-orange-600 dark:text-orange-300",children:[Ae.length," teacher",Ae.length!==1?"s":""," currently on leave"]})]}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:Ae.map(I=>s.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-orange-200 dark:border-orange-700",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:s.jsx(wr,{className:"h-5 w-5 text-white"})}),s.jsx("div",{children:s.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:I.teacherName})})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"space-y-2",children:I.periods.filter(ie=>ie.isActive).map((ie,we)=>s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"flex items-center gap-2 justify-end",children:s.jsx(ht,{variant:"outline",className:"border-orange-300 text-orange-700 dark:border-orange-600 dark:text-orange-300",children:ie.status.replace("_"," ").replace(/\b\w/g,Se=>Se.toUpperCase())})}),s.jsxs("div",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[Pf(ie.startDate,{month:"short",day:"numeric"})," - ",Pf(ie.endDate,{month:"short",day:"numeric"})]}),ie.reason&&s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 italic",children:ie.reason})]},we))})})]})},I.teacherId))})})]}),Te.length>0&&s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"}),"All Teachers Leave Records"]}),s.jsxs(ys,{children:["Complete history of all teacher leave periods (",Te.length," teacher",Te.length!==1?"s":""," with leave records)"]})]}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-4",children:Te.map(I=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(wr,{className:"h-4 w-4 text-white"})}),s.jsx("h4",{className:"font-semibold text-lg",children:I.teacherName})]}),s.jsx("div",{className:"grid gap-3",children:I.periods.map((ie,we)=>s.jsx("div",{className:`p-3 rounded-lg border-l-4 ${ie.isActive?"border-l-red-500 bg-red-50 dark:bg-red-950":"border-l-gray-300 bg-gray-50 dark:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ht,{variant:ie.isActive?"destructive":"secondary",className:"text-xs",children:ie.status.replace("_"," ").replace(/\b\w/g,Se=>Se.toUpperCase())}),ie.isActive&&s.jsx(ht,{variant:"outline",className:"text-xs bg-red-100 border-red-300 text-red-700",children:"Active"})]}),s.jsxs("div",{className:"text-sm font-medium",children:[Pf(ie.startDate,{weekday:"short",month:"short",day:"numeric",year:"numeric"})," - ",Pf(ie.endDate,{weekday:"short",month:"short",day:"numeric",year:"numeric"})]}),ie.reason&&s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:['"',ie.reason,'"']})]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(()=>{const Se=new Date(ie.startDate),yt=new Date(ie.endDate),it=Math.abs(yt.getTime()-Se.getTime()),Dt=Math.ceil(it/(1e3*60*60*24))+1;return`${Dt} day${Dt!==1?"s":""}`})()})]})},we))})]},I.teacherId))})})]}),Te.length===0&&s.jsx(Qe,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(dd,{className:"h-12 w-12 text-gray-400 mx-auto"}),s.jsx("h3",{className:"text-lg font-medium",children:"No Leave Records"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No teachers have any leave periods recorded yet. Start by marking teacher attendance to create leave records."})]})})})]})]})}),s.jsxs(si,{value:"schedule",className:"space-y-4",children:[s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"}),"Teacher Schedule Management"]}),s.jsx(ys,{children:"View teacher schedules, workload analytics, and availability tracking"})]}),s.jsxs(Pe,{children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs(oe,{variant:P==="schedule"?"default":"outline",onClick:()=>O("schedule"),className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4"}),"Schedule View"]}),s.jsxs(oe,{variant:P==="analytics"?"default":"outline",onClick:()=>O("analytics"),className:"flex items-center gap-2",children:[s.jsx(v1,{className:"h-4 w-4"}),"Workload Analytics"]}),s.jsxs(oe,{variant:P==="availability"?"default":"outline",onClick:()=>O("availability"),className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Teacher Availability"]})]}),P==="schedule"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs(Yt,{value:B,onValueChange:F,children:[s.jsx(Wt,{className:"w-64",children:s.jsx(Jt,{placeholder:"Select a teacher"})}),s.jsx(zt,{children:j.map(I=>{var we;const ie=(we=Vt==null?void 0:Vt.teachers)==null?void 0:we.find(Se=>Se.teacherId===I.id);return s.jsx($e,{value:I.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4"}),I.name,(ie==null?void 0:ie.isOverloaded)&&s.jsx(Ci,{className:"h-4 w-4 text-orange-500"})]})},I.id)})})]}),s.jsx(Fe,{type:"date",value:E,onChange:I=>U(I.target.value),className:"w-40"})]}),B&&s.jsxs(s.Fragment,{children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5"}),(Pa=j.find(I=>I.id===B))==null?void 0:Pa.name,((Oa=(ga=Vt==null?void 0:Vt.teachers)==null?void 0:ga.find(I=>I.teacherId===B))==null?void 0:Oa.isOverloaded)&&s.jsxs(ht,{variant:"destructive",className:"flex items-center gap-1",children:[s.jsx(Ci,{className:"h-3 w-3"}),"Overloaded"]})]})}),s.jsx(Pe,{children:(()=>{var ie;const I=j.find(we=>we.id===B);return I?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("p",{className:"font-medium",children:I.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Max Daily Periods"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:I.maxDailyPeriods}),s.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{q(I.maxDailyPeriods),ae(!0)},children:s.jsx(uA,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Subjects"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:((ie=I.subjects)==null?void 0:ie.map((we,Se)=>{const yt=M.find(it=>it.id===we);return s.jsx(ht,{variant:"secondary",children:yt?yt.name:we},Se)}))||[]})]})]}):null})()})]}),Nt&&Nt.length>0&&s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"}),"Weekly Schedule"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-center text-gray-600 py-8",children:"Schedule display implementation needed"})})]})]}),dr&&dr.length>0&&s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5 text-orange-500"}),"Absent Teacher Alerts (",dr.length,")"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:dr.map((I,ie)=>{var we,Se;return s.jsxs(bu,{children:[s.jsx(Ci,{className:"h-4 w-4"}),s.jsxs(Cu,{children:[s.jsx("strong",{children:(we=I.teacher)==null?void 0:we.name})," is ",(Se=I.attendance)==null?void 0:Se.status," today.",I.affectedClasses>0&&s.jsxs("span",{children:[" Affects ",I.affectedClasses," scheduled classes."]})]})]},ie)})})})]})]}),P==="analytics"&&Vt&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Qe,{children:s.jsx(Pe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Teachers"}),s.jsx("p",{className:"text-2xl font-bold",children:Vt.summary.totalTeachers})]})]})})}),s.jsx(Qe,{children:s.jsx(Pe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Overloaded Teachers"}),s.jsx("p",{className:"text-2xl font-bold",children:Vt.summary.overloadedTeachers})]})]})})}),s.jsx(Qe,{children:s.jsx(Pe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v1,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Weekly Periods"}),s.jsx("p",{className:"text-2xl font-bold",children:(kA=Vt.summary.avgWeeklyPeriods)==null?void 0:kA.toFixed(1)})]})]})})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsx(rt,{children:"Teacher Workload Details"})}),s.jsx(Pe,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border p-2 text-left",children:"Teacher"}),s.jsx("th",{className:"border p-2 text-center",children:"Weekly Periods"}),s.jsx("th",{className:"border p-2 text-center",children:"Avg Daily"}),s.jsx("th",{className:"border p-2 text-center",children:"Max Allowed"}),s.jsx("th",{className:"border p-2 text-center",children:"Status"})]})}),s.jsx("tbody",{children:(Fo=Vt.teachers)==null?void 0:Fo.map(I=>{var ie;return s.jsxs("tr",{className:I.isOverloaded?"bg-red-50":"",children:[s.jsx("td",{className:"border p-2",children:I.teacherName}),s.jsx("td",{className:"border p-2 text-center",children:I.weeklyPeriods}),s.jsx("td",{className:"border p-2 text-center",children:(ie=I.avgDailyPeriods)==null?void 0:ie.toFixed(1)}),s.jsx("td",{className:"border p-2 text-center",children:I.maxAllowedDaily}),s.jsx("td",{className:"border p-2 text-center",children:I.isOverloaded?s.jsx(ht,{variant:"destructive",children:"Overloaded"}):s.jsx(ht,{variant:"secondary",children:"Normal"})})]},I.teacherId)})})]})})})]})]}),P==="availability"&&s.jsx("div",{className:"space-y-6",children:s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsx(rt,{children:"Free Teachers Today"}),s.jsxs(ys,{children:["Teachers available for substitution on ",new Date(E).toLocaleDateString()]})]}),s.jsx(Pe,{children:s.jsx("div",{className:"text-center text-gray-600 py-8",children:"Free teachers display implementation needed"})})]})})]})]}),s.jsx(qt,{open:X,onOpenChange:ae,children:s.jsxs(er,{className:"sm:max-w-[425px]",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Configure Max Daily Periods"}),s.jsx(Or,{children:"Set the maximum number of periods a teacher can be assigned per day."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(_t,{htmlFor:"maxPeriods",className:"text-right",children:"Max Periods"}),s.jsx(Fe,{id:"maxPeriods",type:"number",min:"1",max:"10",value:he,onChange:I=>q(Number(I.target.value)),className:"col-span-3"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(va,{id:"applyToAll",checked:ne,onCheckedChange:I=>H(I)}),s.jsx(_t,{htmlFor:"applyToAll",className:"text-sm font-medium",children:"Apply to all teachers in school"})]}),ne&&s.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 p-2 rounded",children:" This will update the max daily periods for ALL teachers in your school."})]}),s.jsxs(An,{children:[s.jsx(oe,{variant:"outline",onClick:()=>ae(!1),children:"Cancel"}),s.jsx(oe,{onClick:()=>{Me.mutate({teacherId:ne?void 0:B,maxDailyPeriods:he,applyToAll:ne})},disabled:Me.isPending,children:Me.isPending?"Updating...":"Update"})]})]})})]})]})]}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(Qe,{children:s.jsx(Pe,{className:"pt-6",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"You need to be associated with a school to manage teachers."})})})})}function nhe({isOpen:e,onClose:t}){const[r,n]=v.useState(null),{toast:a}=On(),i=Mu(),o=Ct({mutationFn:async u=>{const f=new FormData;f.append("file",u);const m=localStorage.getItem("authToken"),p={};m&&(p.Authorization=`Bearer ${m}`);const h=await fetch("/api/upload/classes",{method:"POST",headers:p,body:f,credentials:"include"});if(!h.ok){const x=await h.json();throw new Error(x.message||"Upload failed")}return h.json()},onSuccess:u=>{a({title:"Upload Successful",description:u.message}),i.invalidateQueries({queryKey:["/api/classes"]}),i.invalidateQueries({queryKey:["/api/stats"]}),n(null),t()},onError:u=>{a({title:"Upload Failed",description:u.message,variant:"destructive"})}}),l=u=>{var m;const f=((m=u.target.files)==null?void 0:m[0])||null;n(f)},A=()=>{if(!r){a({title:"No File Selected",description:"Please select a CSV file first.",variant:"destructive"});return}o.mutate(r)},c=()=>{const f=[["grade","section","student_count","required_subjects","room"],["9","A","30","Mathematics;Science;English","Room 101"],["9","B","28","Mathematics;Science;English","Room 102"],["10","A","32","Mathematics;Science;English;History","Room 201"],["10","","25","Mathematics;Science;English;History","Room 202"]].map(x=>x.join(",")).join(`
`),m=new Blob([f],{type:"text/csv"}),p=window.URL.createObjectURL(m),h=document.createElement("a");h.href=p,h.download="classes_sample.csv",document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(p),a({title:"Sample Downloaded",description:"Sample CSV file downloaded successfully"})},d=()=>{n(null),t()};return s.jsx(qt,{open:e,onOpenChange:d,children:s.jsxs(er,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsxs(ar,{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-5 w-5"}),"Add multiple classes"]}),s.jsx(Or,{children:"Upload a CSV file to import multiple classes at once. Make sure your file follows the required format."})]}),s.jsxs("div",{className:"space-y-8 py-4",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(rg,{className:"h-4 w-4"}),"CSV Format Requirements"]}),s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsx("p",{className:"font-medium",children:"Required columns (in this exact order):"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 ml-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:"grade"}),s.jsx("span",{className:"text-muted-foreground",children:"- Class grade (e.g., 9, 10, 11, 12)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:"section"}),s.jsx("span",{className:"text-muted-foreground",children:"- Section name (e.g., A, B, C) or leave empty"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:"student_count"}),s.jsx("span",{className:"text-muted-foreground",children:"- Number of students (e.g., 30)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:"required_subjects"}),s.jsx("span",{className:"text-muted-foreground",children:"- Subjects separated by semicolons (e.g., Math;Science;English)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vc,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:"room"}),s.jsx("span",{className:"text-muted-foreground",children:"- Room number (e.g., Room 101) or leave empty"})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Important Notes:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Use semicolons (;) to separate multiple subjects"}),s.jsx("li",{children:" Leave section empty if class has no sections"}),s.jsx("li",{children:" Room field is optional - leave empty if not applicable"}),s.jsx("li",{children:" File size limit: 5MB maximum"}),s.jsx("li",{children:" Supported format: CSV (.csv) files only"})]})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs(oe,{variant:"outline",onClick:c,className:"flex items-center gap-2","data-testid":"button-download-sample",children:[s.jsx(xc,{className:"h-4 w-4"}),"Download Sample CSV"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(_t,{htmlFor:"class-file",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4"}),"Select CSV File"]}),s.jsx(Fe,{id:"class-file",type:"file",accept:".csv",onChange:l,className:"w-full border-0 bg-transparent p-0 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary file:text-primary-foreground hover:file:bg-primary/90","data-testid":"input-class-file"}),r&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",(r.size/1024).toFixed(1)," KB)"]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{variant:"outline",onClick:d,disabled:o.isPending,"data-testid":"button-cancel-import",children:"Cancel"}),s.jsx(oe,{onClick:A,disabled:!r||o.isPending,"data-testid":"button-upload-classes",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"h-4 w-4 mr-2"}),"Upload Classes"]})})]})]})]})]})})}const DS=Wn({grade:pt().min(1,"Class is required"),section:pt().optional().refine(e=>!e||!e.includes(","),"Section cannot contain commas. Use 'Add Sections to Class' for multiple sections."),room:pt().optional()});function she(){const[e,t]=v.useState(!1),[r,n]=v.useState(null),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[A,c]=v.useState(!1),[d,u]=v.useState(""),[f,m]=v.useState("A,B,C"),{toast:p}=On(),{data:h=[],isLoading:x,error:y}=Je({queryKey:["/api/classes"]}),g=es({resolver:rs(DS),defaultValues:{grade:"",section:"",room:""}}),w=es({resolver:rs(DS),defaultValues:{grade:"",section:"",room:""}}),[b,C]=v.useState(""),N=Ct({mutationFn:async q=>(await Ne("POST","/api/classes",q)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/classes"]}),t(!1),g.reset(),p({title:"Success",description:"Class created successfully"})},onError:q=>{p({title:"Error",description:q.message||"Failed to create class",variant:"destructive"})}}),B=Ct({mutationFn:async({id:q,data:ne})=>(await Ne("PUT",`/api/classes/${q}`,ne)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/classes"]}),n(null),w.reset(),p({title:"Success",description:"Class updated successfully"})},onError:q=>{p({title:"Error",description:q.message||"Failed to update class",variant:"destructive"})}}),F=Ct({mutationFn:async q=>{await Ne("DELETE",`/api/classes/${q}`)},onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/classes"]}),p({title:"Success",description:"Class and section deleted successfully"})},onError:q=>{p({title:"Error",description:q.message||"Failed to delete class",variant:"destructive"})}}),E=Ct({mutationFn:async()=>{const q=[];for(let H=1;H<=12;H++)q.push({grade:H.toString(),section:"",room:""});const ne=q.map(H=>Ne("POST","/api/classes",H).then(J=>J.json()));return Promise.all(ne)},onSuccess:q=>{Ee.invalidateQueries({queryKey:["/api/classes"]}),i(!1),p({title:"Success",description:`Successfully generated ${q.length} classes (Classes 1-12)`})},onError:q=>{p({title:"Error",description:q.message||"Failed to generate classes",variant:"destructive"})}}),U=Ct({mutationFn:async({grade:q,sections:ne})=>{const H=h.find(de=>de.grade===q&&!de.section),J=[];if(H&&ne.length>0){const de=ne[0];J.push(Ne("PUT",`/api/classes/${H.id}`,{grade:q,section:de,room:H.room||""}).then(se=>se.json())),ne.slice(1).forEach(se=>{J.push(Ne("POST","/api/classes",{grade:q,section:se,room:""}).then(D=>D.json()))})}else ne.forEach(de=>{J.push(Ne("POST","/api/classes",{grade:q,section:de,room:""}).then(se=>se.json()))});return Promise.all(J)},onSuccess:q=>{Ee.invalidateQueries({queryKey:["/api/classes"]}),l(!1),m("A,B,C"),u(""),p({title:"Success",description:`Successfully created ${q.length} sections for Class ${d}`})},onError:q=>{p({title:"Error",description:q.message||"Failed to create sections",variant:"destructive"})}}),P=()=>{if(!d.trim()){p({title:"Error",description:"Please enter a grade",variant:"destructive"});return}const q=f.split(",").map(ne=>ne.trim()).filter(ne=>ne.length>0);if(q.length===0){p({title:"Error",description:"Please enter at least one section",variant:"destructive"});return}U.mutate({grade:d,sections:q})},O=q=>{N.mutate(q)},X=q=>{if(r){if(B.mutate({id:r.id,data:q}),b.trim()){const ne=b.split(",").map(H=>H.trim()).filter(H=>H.length>0);ne.length>0&&setTimeout(()=>{U.mutate({grade:q.grade,sections:ne})},500)}C("")}},ae=q=>{F.mutate(q)},he=q=>{n(q),C(""),w.reset({grade:q.grade,section:q.section,room:q.room||""})};return y?s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(Qe,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("p",{className:"text-destructive",children:["Error loading classes: ",y.message]})})})}):s.jsxs("div",{className:"container mx-auto py-4 md:py-8 space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Classes"}),s.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Manage your school's classes and sections"})]}),s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:gap-2",children:[s.jsxs(ku,{children:[s.jsx(Iu,{asChild:!0,children:s.jsxs(oe,{"data-testid":"button-add-class-dropdown",className:"h-10 md:h-9",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Class"}),s.jsx("span",{className:"sm:hidden",children:"Add"}),s.jsx(wx,{className:"h-4 w-4 ml-2"})]})}),s.jsxs(Tc,{align:"end",children:[s.jsxs(Os,{onClick:()=>t(!0),"data-testid":"menu-add-single-class",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Add Single Class"]}),s.jsxs(Os,{onClick:()=>c(!0),"data-testid":"menu-bulk-import-classes",children:[s.jsx($l,{className:"h-4 w-4 mr-2"}),"Add multiple classes"]})]})]}),s.jsx(qt,{open:e,onOpenChange:t,children:s.jsxs(er,{children:[s.jsx(sr,{children:s.jsx(ar,{children:"Add New Class"})}),s.jsx(ts,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(O),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ue,{control:g.control,name:"grade",render:({field:q})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Class"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., 9, 10, 11, 12",...q,"data-testid":"input-grade"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:g.control,name:"section",render:({field:q})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Section (Optional)"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., A (single section only, or leave empty)",...q,"data-testid":"input-section"})}),s.jsx(Oe,{})]})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsx(Ue,{control:g.control,name:"room",render:({field:q})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Room (Optional)"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., Room 101",...q,"data-testid":"input-room"})}),s.jsx(Oe,{})]})})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel-add",children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:N.isPending,"data-testid":"button-submit-add",children:N.isPending?"Creating...":"Create Class"})]})]})})]})}),s.jsx(bv,{className:"w-full md:w-64"})]})]}),h.length>0&&s.jsx("div",{className:"sticky top-16 md:top-0 z-50 mb-6 bg-background/95 backdrop-blur-sm border-b",children:s.jsx("div",{className:"container mx-auto max-w-7xl px-4 md:px-6 py-3",children:s.jsxs("div",{className:"bg-muted/30 rounded-lg p-2 md:p-3",children:[s.jsx("h4",{className:"text-xs md:text-sm font-medium text-muted-foreground mb-2",children:"Quick Navigation"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 md:gap-2",children:Array.from(new Set(h.map(q=>q.grade))).sort((q,ne)=>parseInt(q)-parseInt(ne)).map(q=>s.jsxs(oe,{variant:"outline",size:"sm",className:"h-9 md:h-8 text-xs md:text-xs px-3 md:px-2 min-w-0",onClick:()=>{const ne=document.getElementById(`grade-${q}`);ne==null||ne.scrollIntoView({behavior:"smooth",block:"start"})},children:["Class ",q]},q))})]})})}),x?s.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((q,ne)=>s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsx(Kt,{className:"h-6 w-24"}),s.jsx(Kt,{className:"h-4 w-32"})]}),s.jsx(Pe,{children:s.jsx(Kt,{className:"h-16"})})]},ne))}):h.length===0?s.jsx(Qe,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Classes Found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Get started by adding your first class"}),s.jsxs(oe,{onClick:()=>t(!0),"data-testid":"button-add-first-class",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Add Your First Class"]})]})})}):s.jsx("div",{className:"space-y-6",children:Object.entries(h.sort((q,ne)=>parseInt(q.grade)-parseInt(ne.grade)).reduce((q,ne)=>{const H=ne.grade;return q[H]||(q[H]=[]),q[H].push(ne),q},{})).map(([q,ne])=>s.jsxs("div",{id:`grade-${q}`,children:[s.jsxs("h3",{className:"text-xl font-semibold mb-3 text-primary",children:["Class ",q]}),s.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:ne.sort((H,J)=>!H.section&&!J.section?0:H.section?J.section?H.section.localeCompare(J.section):1:-1).map(H=>s.jsxs(Qe,{className:"hover:shadow-md transition-all duration-200 border-l-4 border-l-primary group relative touch-manipulation",children:[s.jsx(qe,{className:"pb-1 pt-4 px-4 md:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(sc,{href:`/classes/${H.id}`,className:"flex-1 cursor-pointer",children:s.jsx(rt,{className:"text-base md:text-lg group-hover:text-primary transition-colors",children:H.section?`Class ${H.grade}${H.section}`:`Class ${H.grade}`})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(oe,{variant:"ghost",size:"sm",onClick:J=>{J.preventDefault(),J.stopPropagation(),he(H)},"data-testid":`button-edit-class-${H.id}`,children:s.jsx(fA,{className:"h-4 w-4"})}),s.jsxs(Jo,{children:[s.jsx(Yg,{asChild:!0,children:s.jsx(oe,{variant:"ghost",size:"sm","data-testid":`button-delete-class-${H.id}`,children:s.jsx(yc,{className:"h-4 w-4 text-destructive"})})}),s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Delete Class and Section"}),s.jsxs(go,{children:["Are you sure you want to delete ",H.section?`Class ${H.grade}${H.section}`:`Class ${H.grade}`,"? This action cannot be undone and will also remove all associated timetable entries."]})]}),s.jsxs(Zo,{children:[s.jsx(vo,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(xo,{onClick:()=>ae(H.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Yes, Delete"})]})]})]})]})]})}),s.jsxs(Pe,{className:"cursor-pointer pt-1 pb-2",onClick:()=>window.location.href=`/classes/${H.id}`,children:[H.section&&s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs(ht,{variant:"outline",className:"text-xs font-semibold bg-primary/10 text-primary border-primary",children:["Section ",H.section]})}),H.room&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vc,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:H.room})]})]})]},H.id))})]},q))}),s.jsx(qt,{open:!!r,onOpenChange:()=>n(null),children:s.jsxs(er,{children:[s.jsx(sr,{children:s.jsx(ar,{children:"Edit Class"})}),r&&s.jsx(ts,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(X),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ue,{control:w.control,name:"grade",render:({field:q})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Class"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., 9, 10, 11, 12",...q,"data-testid":"input-edit-grade"})}),s.jsx(Oe,{})]})}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"add-sections",children:"Add Sections"}),s.jsx(Fe,{id:"add-sections",placeholder:"e.g., A,B,C",value:b,onChange:q=>C(q.target.value),"data-testid":"input-add-sections"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter sections separated by commas (e.g., A,B,C)"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>n(null),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:B.isPending,"data-testid":"button-submit-edit",children:B.isPending?"Updating...":"Update Class"})]})]})})]})}),s.jsx(Jo,{open:a,onOpenChange:i,children:s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Generate Instant Classes"}),s.jsxs(go,{children:["This action will automatically generate classes from Class 1 to Class 12 for this school. Each class will have a default student count of 30. You can add sections to each class later.",s.jsx("br",{}),s.jsx("br",{}),"Are you sure you want to proceed?"]})]}),s.jsxs(Zo,{children:[s.jsx(vo,{"data-testid":"button-cancel-generate",children:"Cancel"}),s.jsx(xo,{onClick:()=>E.mutate(),disabled:E.isPending,"data-testid":"button-confirm-generate",children:E.isPending?"Generating...":"Confirm"})]})]})}),s.jsx(qt,{open:o,onOpenChange:l,children:s.jsxs(er,{children:[s.jsx(sr,{children:s.jsx(ar,{children:"Add Sections to Class"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"grade-select",children:"Class"}),s.jsxs(Yt,{value:d,onValueChange:u,children:[s.jsx(Wt,{"data-testid":"select-sections-grade",children:s.jsx(Jt,{placeholder:"Select a class..."})}),s.jsx(zt,{children:Array.from(new Set(h.map(q=>q.grade))).sort((q,ne)=>parseInt(q)-parseInt(ne)).map(q=>s.jsxs($e,{value:q,children:["Class ",q]},q))})]})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"sections-input",children:"Sections (comma separated)"}),s.jsx(Fe,{id:"sections-input",placeholder:"e.g., A,B,C or A,B,C,D",value:f,onChange:q=>m(q.target.value),"data-testid":"input-sections-list"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter sections separated by commas. Each will become a separate class (e.g., 1A, 1B, 1C)"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-sections",children:"Cancel"}),s.jsx(oe,{onClick:P,disabled:U.isPending,"data-testid":"button-create-sections",children:U.isPending?"Creating...":"Create Sections"})]})]})}),h.length<=7&&s.jsx(oe,{size:"sm",variant:"outline",className:"fixed bottom-4 right-4 bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-600 hover:border-yellow-700 shadow-lg",onClick:()=>i(!0),"data-testid":"button-generate-instant-classes",children:"Generate Instant Classes (till 12)"}),s.jsx(nhe,{isOpen:A,onClose:()=>c(!1)})]})}const ahe=Wn({teacherId:pt().min(1,"Teacher is required"),subjectIds:Al(pt()).min(1,"At least one subject is required")}),ihe=Wn({teacherId:pt().min(1,"Teacher is required"),role:Gu(["primary","co_class"],{required_error:"Role is required"}),privileges:Wn({attendance:na().default(!0),classFeedPosting:na().default(!0),parentCommunication:na().default(!0),leaveApproval:na().default(!0)}).default({attendance:!0,classFeedPosting:!0,parentCommunication:!0,leaveApproval:!0})}),ohe=Wn({name:pt().min(1,"Subject name is required").max(255,"Subject name too long"),weeklyFrequency:Mc().min(1,"Weekly frequency must be at least 1").max(8,"Weekly frequency cannot exceed 8 periods")}),lhe=Wn({name:pt().min(1,"Teacher name is required").max(255,"Teacher name too long"),email:pt().email("Invalid email format").optional().or(In("")),contactNumber:pt().min(1,"Contact number is required").max(20,"Contact number too long"),schoolIdNumber:pt().min(1,"School ID number is required").max(50,"School ID number too long"),schoolId:pt().min(1,"School ID is required"),isActive:na().default(!0),classes:Al(pt()).default([]),subjects:Al(pt()).default([])});function Ahe(){var ve,Ce,Ye,ft,ot,Qt,Rt;const[,e]=cU("/classes/:id"),{toast:t}=On(),{user:r}=Ns(),n=e==null?void 0:e.id,[a,i]=v.useState(!1),[o,l]=v.useState(!1),[A,c]=v.useState(!1),[d,u]=v.useState(null),[f,m]=v.useState("feed"),[p,h]=v.useState(null),x=v.useRef(null),y=v.useRef(null),g=v.useRef(null);v.useEffect(()=>{f==="config"&&(p!=null&&p.current)&&requestAnimationFrame(()=>{var R;(R=p.current)==null||R.scrollIntoView({behavior:"smooth",block:"start"}),h(null)})},[f,p]);const[w,b]=v.useState(!1),[C,N]=v.useState(null),[B,F]=v.useState(!1),[E,U]=v.useState(null),[P,O]=v.useState(!1),[X,ae]=v.useState([]),[he,q]=v.useState([]),[ne,H]=v.useState(!1),[J,de]=v.useState(!1),[se,D]=v.useState(null),[j,k]=v.useState(!1),[M,S]=v.useState(null),[_,Z]=v.useState(!1),[K,re]=v.useState([]),[ye,Te]=v.useState(0),[Nt,mt]=v.useState(!1),[Vt,$t]=v.useState(!0),He=5,Tt=es({resolver:rs(ahe),defaultValues:{teacherId:"",subjectIds:[]}}),dr=es({resolver:rs(ohe),defaultValues:{name:"",weeklyFrequency:4}}),Y=es({resolver:rs(Wn({weeklyFrequency:Mc().min(1,"Weekly frequency must be at least 1").max(8,"Weekly frequency cannot exceed 8 periods")})),defaultValues:{weeklyFrequency:1}}),Ae=es({resolver:rs(ihe),defaultValues:{teacherId:"",role:"co_class",privileges:{attendance:!0,classFeedPosting:!0,parentCommunication:!0,leaveApproval:!0}}}),xe=es({resolver:rs(Wn({privileges:Wn({attendance:na(),classFeedPosting:na(),parentCommunication:na(),leaveApproval:na()})})),defaultValues:{privileges:{attendance:!0,classFeedPosting:!0,parentCommunication:!0,leaveApproval:!0}}}),Ke=es({resolver:rs(lhe),defaultValues:{name:"",email:"",contactNumber:"",schoolIdNumber:"",schoolId:(r==null?void 0:r.schoolId)||"",isActive:!0,classes:[],subjects:[]}}),{data:z,isLoading:ce,error:Me}=Je({queryKey:["/api/classes",n],enabled:!!n});(()=>{const R=new Date,ue=new Date(R);ue.setDate(R.getDate()-R.getDay()+1);const Ze=new Date(ue);return Ze.setDate(ue.getDate()+5),{start:ue.toISOString().split("T")[0],end:Ze.toISOString().split("T")[0]}})();const{data:It=[],isLoading:fn}=Je({queryKey:["/api/timetable/detailed",n,"class"],queryFn:async()=>{const R=new URLSearchParams({classId:n||""});return(await Ne("GET",`/api/timetable/detailed?${R.toString()}`)).json()},enabled:!!n,staleTime:0}),{data:zr=[],isLoading:Jr}=Je({queryKey:["/api/teachers"]}),{data:di=[],isLoading:ui}=Je({queryKey:["/api/subjects"]}),{data:Xn=[],isLoading:So}=Je({queryKey:["/api/classes"]}),{data:us}=Je({queryKey:["/api/timetable-structure"],enabled:!!(r!=null&&r.schoolId)}),{data:fs=[],isLoading:Pa}=Je({queryKey:["/api/class-subject-assignments",n],queryFn:async()=>(await Ne("GET",`/api/class-subject-assignments?classId=${n}`)).json(),enabled:!!n}),{data:ga=[],isLoading:Oa}=Je({queryKey:["/api/classes",n,"teachers"],queryFn:async()=>(await Ne("GET",`/api/classes/${n}/teachers`)).json(),enabled:!!n}),{data:kA=[],isLoading:Fo}=Je({queryKey:["/api/students",n,"initial"],queryFn:async()=>{const ue=await(await Ne("GET",`/api/students?classId=${n}&offset=0&limit=${He}`)).json();return re(ue),$t(ue.length===He),Te(He),ue},enabled:!!n}),I=Ct({mutationFn:async R=>(await Ne("POST",`/api/classes/${n}/assign-teacher-multiple`,R)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/class-subject-assignments",n]}),i(!1),Tt.reset(),t({title:"Success",description:"Teacher assigned to subjects successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to assign teacher",variant:"destructive"})}}),ie=Ct({mutationFn:async R=>(await Ne("POST","/api/teachers",{...R,schoolId:r==null?void 0:r.schoolId,availability:{monday:[],tuesday:[],wednesday:[],thursday:[],friday:[]},maxLoad:30})).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/teachers"]}),Ee.invalidateQueries({queryKey:["/api/classes",n,"teachers"]}),Z(!1),Ke.reset({name:"",email:"",contactNumber:"",schoolIdNumber:"",schoolId:(r==null?void 0:r.schoolId)||"",isActive:!0,classes:[],subjects:[]}),t({title:"Success",description:"Teacher created successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to create teacher",variant:"destructive"})}}),we=Ct({mutationFn:async R=>(await Ne("POST",`/api/classes/${n}/create-assign-subject`,R)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/class-subject-assignments",n]}),Ee.invalidateQueries({queryKey:["/api/subjects"]}),l(!1),dr.reset(),t({title:"Success",description:"Subject created and assigned successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to create and assign subject",variant:"destructive"})}}),Se=Ct({mutationFn:async R=>(await Ne("PUT",`/api/class-subject-assignments/${d==null?void 0:d.id}`,R)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/class-subject-assignments"]}),c(!1),u(null),Y.reset(),t({title:"Success",description:"Subject periods updated successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to update subject periods",variant:"destructive"})}}),yt=Ct({mutationFn:async R=>await Ne("DELETE",`/api/classes/${n}/unassign-teacher/${R}`),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/class-subject-assignments",n]}),t({title:"Success",description:"Teacher assignment removed successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to remove teacher assignment",variant:"destructive"})}}),it=Ct({mutationFn:async R=>await Ne("DELETE",`/api/class-subject-assignments/${R}`),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/class-subject-assignments",n]}),t({title:"Success",description:"Subject assignment removed successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to remove subject assignment",variant:"destructive"})}});Ct({mutationFn:async()=>(await Ne("POST","/api/timetable/generate",{classId:n})).json(),onSuccess:R=>{R.success?(t({title:"Success",description:R.message}),Ee.invalidateQueries({predicate:ue=>{const Ze=ue.queryKey;return Ze[0]==="/api/timetable/detailed"||Ze[0]==="/api/timetable"}}),Ee.refetchQueries({predicate:ue=>ue.queryKey[0]==="/api/timetable/detailed"})):t({title:"Error",description:R.message,variant:"destructive"})},onError:R=>{t({title:"Error",description:R.message||"Failed to generate timetable",variant:"destructive"})}});const Dt=Ct({mutationFn:async R=>(await Ne("POST",`/api/classes/${n}/copy-subjects`,{targetClassIds:R})).json(),onSuccess:R=>{t({title:"Success",description:R.message}),O(!1),ae([]),Ee.invalidateQueries({queryKey:["/api/class-subject-assignments"]})},onError:R=>{t({title:"Error",description:R.message||"Failed to copy subjects",variant:"destructive"})}}),st=Ct({mutationFn:async R=>(await Ne("POST",`/api/classes/${n}/teachers`,R)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/classes",n,"teachers"]}),H(!1),Ae.reset(),t({title:"Success",description:"Class teacher assigned successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to assign class teacher",variant:"destructive"})}}),Hr=Ct({mutationFn:async R=>(await Ne("PUT",`/api/classes/${n}/teachers/${R.assignmentId}`,{privileges:R.privileges})).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/classes",n,"teachers"]}),k(!1),S(null),xe.reset(),t({title:"Success",description:"Privileges updated successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to update privileges",variant:"destructive"})}}),ur=Ct({mutationFn:async R=>await Ne("DELETE",`/api/classes/${n}/teachers/${R}`),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/classes",n,"teachers"]}),de(!1),D(null),t({title:"Success",description:"Class teacher assignment removed successfully"})},onError:R=>{t({title:"Error",description:R.message||"Failed to remove class teacher assignment",variant:"destructive"})}});v.useEffect(()=>{P&&z&&Ss()},[P,z]);const Ss=async()=>{try{const ue=await(await Ne("GET",`/api/classes/${n}/other-sections`)).json();q(ue)}catch(R){console.error("Error fetching available sections:",R),t({title:"Error",description:"Failed to fetch available sections.",variant:"destructive"})}},hn=async()=>{if(!(Nt||!Vt||!n)){mt(!0);try{const ue=await(await Ne("GET",`/api/students?classId=${n}&offset=${ye}&limit=${He}`)).json();re(Ze=>[...Ze,...ue]),Te(Ze=>Ze+He),$t(ue.length===He)}catch(R){console.error("Error loading more students:",R),t({title:"Error",description:"Failed to load more students.",variant:"destructive"})}finally{mt(!1)}}},hs=R=>{const{scrollTop:ue,scrollHeight:Ze,clientHeight:jt}=R.currentTarget;Ze-ue<=jt+50&&Vt&&!Nt&&hn()},T=()=>{m("config"),h(x)},V=()=>{m("config"),h(y)},Q=()=>{m("config"),h(g)},L=R=>{st.mutate(R)},G=R=>{D(R),de(!0)},W=()=>{se&&ur.mutate(se.id)},pe=R=>{S(R),xe.reset({privileges:R.privileges}),k(!0)},je=R=>{M&&Hr.mutate({assignmentId:M.id,privileges:R.privileges})};if(Me)return s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(Qe,{children:s.jsxs(Pe,{className:"pt-6",children:[s.jsxs("p",{className:"text-destructive",children:["Error loading class: ",Me.message]}),s.jsx(sc,{href:"/classes",children:s.jsxs(oe,{className:"mt-4",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Back to Classes"]})})]})})});if(!n)return s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(Qe,{children:s.jsxs(Pe,{className:"pt-6",children:[s.jsx("p",{className:"text-destructive",children:"Invalid class ID"}),s.jsx(sc,{href:"/classes",children:s.jsxs(oe,{className:"mt-4",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Back to Classes"]})})]})})});const fe=zr.filter(R=>fs.some(ue=>ue.assignedTeacherId===R.id)),ge=Array.from(new Set(It.map(R=>{var ue;return(ue=R.subject)==null?void 0:ue.name}).filter(Boolean))),me=fs,Ve=(us==null?void 0:us.workingDays)||["monday","tuesday","wednesday","thursday","friday"];us!=null&&us.timeSlots,(R=>["monday","tuesday","wednesday","thursday","friday","saturday"].filter(Ze=>R.includes(Ze)))(Ve),(()=>{const R=new Date,ue=R.getDay(),Ze=ue===0?-6:1-ue,jt=new Date(R);jt.setDate(R.getDate()+Ze);const Pt=new Date(jt);return Pt.setDate(jt.getDate()+5),{start:jt,end:Pt}})();const ze=R=>{I.mutate(R)},At=R=>{we.mutate(R)},Mt=R=>{ie.mutate(R)},Ur=R=>{const ue=new Map;return R.forEach(Ze=>{fs.filter(Pt=>Pt.classId===Ze).forEach(Pt=>{if(Pt.subject){const Zr=Pt.subject.id,Zt=Xn.find(Gi=>Gi.id===Ze),Cr=Zt?`${Pt.subject.name} (Class ${Zt.section&&Zt.section.trim()!==""&&Zt.section!=="-"?`${Zt.grade}-${Zt.section}`:Zt.grade})`:Pt.subject.name;ue.has(Zr)||ue.set(Zr,{id:Pt.subject.id,displayName:Cr,subject:Pt.subject})}})}),Array.from(ue.values())},Qr=R=>{u(R),Y.setValue("weeklyFrequency",R.weeklyFrequency),c(!0)},mn=R=>{Se.mutate(R)},Vi=R=>{N(R),b(!0)},$i=()=>{C&&(it.mutate(C.id),b(!1),N(null))},ee=R=>{U(R),F(!0)},be=()=>{E&&(yt.mutate(E.id),F(!1),U(null))};return s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx(sc,{href:"/classes",children:s.jsxs(oe,{variant:"outline",size:"sm","data-testid":"button-back-to-classes",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Back to Classes"]})}),s.jsxs("div",{className:"flex flex-col",children:[ce?s.jsx(Kt,{className:"h-7 w-48"}):s.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"class-name",children:z!=null&&z.section?`Class ${z.grade}${z.section}`:`Class ${z==null?void 0:z.grade}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete class overview with teachers and timetable"})]})]})}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Qe,{className:"h-fit cursor-pointer hover:shadow-md transition-all duration-200 hover:scale-105 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800",onClick:T,"data-testid":"card-students-overview",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Students"}),s.jsx(yr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[ce?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold text-blue-800 dark:text-blue-200","data-testid":"student-count",children:(z==null?void 0:z.studentCount)||0}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Total enrolled"})]})]}),s.jsxs(Qe,{className:"h-fit cursor-pointer hover:shadow-md transition-all duration-200 hover:scale-105 bg-gradient-to-br from-emerald-50 to-teal-100 dark:from-emerald-950/20 dark:to-teal-900/20 border-emerald-200 dark:border-emerald-800",onClick:V,"data-testid":"card-teachers-overview",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Teachers"}),s.jsx(ss,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[Jr?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold text-emerald-800 dark:text-emerald-200","data-testid":"teacher-count",children:fe.length}),s.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:"Assigned teachers"})]})]}),s.jsxs(Qe,{className:"h-fit cursor-pointer hover:shadow-md transition-all duration-200 hover:scale-105 bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-950/20 dark:to-violet-900/20 border-purple-200 dark:border-purple-800",onClick:Q,"data-testid":"card-subjects-overview",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Subjects"}),s.jsx(Pn,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[fn?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold text-purple-800 dark:text-purple-200","data-testid":"subject-count",children:ge.length}),s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Total subjects"})]})]}),s.jsxs(Qe,{className:"h-fit bg-gradient-to-br from-amber-50 to-orange-100 dark:from-amber-950/20 dark:to-orange-900/20 border-amber-200 dark:border-amber-800",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium text-amber-700 dark:text-amber-300",children:"Room"}),s.jsx(vc,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[ce?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold text-amber-800 dark:text-amber-200","data-testid":"class-room",children:(z==null?void 0:z.room)||"Not set"}),s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Class location"})]})]})]}),s.jsxs(Km,{value:f,onValueChange:m,className:"w-full",children:[s.jsxs(tf,{className:"grid w-full grid-cols-2",children:[s.jsxs(ni,{value:"feed",className:"flex items-center space-x-2",children:[s.jsx(FC,{className:"h-4 w-4"}),s.jsx("span",{children:"Class Feed"})]}),s.jsxs(ni,{value:"config",className:"flex items-center space-x-2",children:[s.jsx(uA,{className:"h-4 w-4"}),s.jsx("span",{children:"Class Config"})]})]}),s.jsxs(si,{value:"config",className:"space-y-6 mt-6",children:[s.jsxs(Qe,{ref:g,"data-testid":"section-subjects",children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(Pn,{className:"h-5 w-5"}),s.jsx("span",{children:"Assigned Subjects"})]}),s.jsx(qt,{open:o,onOpenChange:l,children:s.jsx(so,{asChild:!0,children:s.jsxs(oe,{variant:"outline",size:"sm","data-testid":"button-assign-subject",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Assign Subject"]})})})]})}),s.jsx(Pe,{children:Pa?s.jsx("div",{className:"flex gap-2 flex-wrap",children:Array.from({length:3}).map((R,ue)=>s.jsx(Kt,{className:"h-8 w-24"},ue))}):me.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pn,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No subjects assigned"}),s.jsx("p",{className:"text-muted-foreground",children:"This class doesn't have any subjects assigned yet."})]}):s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:me.map(R=>{var ue,Ze,jt;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>Qr(R),children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ht,{variant:"secondary",className:"text-sm px-2 py-1","data-testid":`assigned-subject-${R.id}`,children:[s.jsx("span",{style:{color:((ue=R.subject)==null?void 0:ue.color)||"#3B82F6"},children:((Ze=R.subject)==null?void 0:Ze.name)||"Unknown Subject"}),s.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",((jt=R.subject)==null?void 0:jt.code)||"N/A",")"]})]})}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[R.weeklyFrequency," periods/week"]})]}),s.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:Pt=>{Pt.stopPropagation(),Vi(R)},disabled:it.isPending,"data-testid":`button-remove-subject-${R.id}`,children:s.jsx(al,{className:"h-3 w-3"})})]},R.id)})})}),me.length>0&&s.jsx("div",{className:"px-6 pb-6",children:s.jsxs(oe,{variant:"outline",onClick:()=>O(!0),className:"w-full",children:[s.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Copy Subjects to other sections"]})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-5 w-5"}),s.jsx("span",{children:"Teachers Teaching This Class"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(qt,{open:_,onOpenChange:Z,children:s.jsx(so,{asChild:!0,children:s.jsxs(oe,{variant:"outline",size:"sm","data-testid":"button-add-teacher",title:"Add a new teacher to the school",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Add Teacher"]})})}),s.jsx(qt,{open:a,onOpenChange:i,children:s.jsx(so,{asChild:!0,children:s.jsxs(oe,{variant:"outline",size:"sm",disabled:me.length===0,"data-testid":"button-assign-teacher",title:me.length===0?"Please assign subjects to this class first":"Assign Teacher",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Assign Teacher"]})})})]})]})}),s.jsx(Pe,{children:Jr?s.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:Array.from({length:3}).map((R,ue)=>s.jsxs(Qe,{className:"p-3",children:[s.jsx(Kt,{className:"h-6 w-24 mb-2"}),s.jsx(Kt,{className:"h-4 w-32"})]},ue))}):fe.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No teachers assigned"}),s.jsx("p",{className:"text-muted-foreground",children:"This class doesn't have any teachers assigned yet."})]}):s.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:fe.map(R=>{const ue=fs.filter(Ze=>Ze.assignedTeacherId===R.id);return s.jsxs(Qe,{className:"hover:shadow-md transition-shadow","data-testid":`class-teacher-card-${R.id}`,children:[s.jsx(qe,{className:"pb-2 pt-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:s.jsx(wr,{className:"h-4 w-4 text-primary-foreground"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h3",{className:"font-semibold text-sm truncate","data-testid":`class-teacher-name-${R.id}`,children:R.name})})]})})}),s.jsxs(Pe,{className:"space-y-1 pt-0 pb-3",children:[R.email&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ao,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground truncate","data-testid":`class-teacher-email-${R.id}`,children:R.email})]}),R.schoolIdNumber&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(xu,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground","data-testid":`class-teacher-school-id-${R.id}`,children:R.schoolIdNumber})]}),ue.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:ue.map(Ze=>{var jt,Pt;return s.jsxs(ht,{variant:"secondary",className:"text-xs flex items-center gap-1","data-testid":`teacher-subject-${R.id}-${Ze.subjectId}`,children:[s.jsxs("span",{children:[(jt=Ze.subject)==null?void 0:jt.name," (",(Pt=Ze.subject)==null?void 0:Pt.code,")"]}),s.jsx("button",{onClick:()=>ee(Ze),disabled:yt.isPending,className:"hover:text-destructive transition-colors ml-1","data-testid":`button-remove-subject-${R.id}-${Ze.subjectId}`,children:s.jsx(al,{className:"h-3 w-3"})})]},Ze.id)})})]})]},R.id)})})})]}),s.jsxs(Qe,{ref:y,"data-testid":"section-teachers",children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"h-5 w-5"}),s.jsx("span",{children:"Class Teachers"})]}),s.jsx(qt,{open:ne,onOpenChange:H,children:s.jsx(so,{asChild:!0,children:s.jsxs(oe,{variant:"outline",size:"sm","data-testid":"button-assign-class-teacher",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Assign Class Teacher"]})})})]})}),s.jsx(Pe,{children:Oa?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:2}).map((R,ue)=>s.jsxs(Qe,{className:"p-3",children:[s.jsx(Kt,{className:"h-6 w-24 mb-2"}),s.jsx(Kt,{className:"h-4 w-32"})]},ue))}):ga.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ss,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No class teachers assigned"}),s.jsx("p",{className:"text-muted-foreground",children:"This class doesn't have any class teachers assigned yet."})]}):s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[...ga].sort((R,ue)=>(ue.isPrimary?1:0)-(R.isPrimary?1:0)).map(R=>s.jsxs(Qe,{className:`hover:shadow-md transition-shadow ${R.isPrimary?"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800":""}`,"data-testid":`class-teacher-assignment-${R.id}`,children:[s.jsx(qe,{className:"pb-2 pt-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R.isPrimary?"bg-primary":"bg-secondary"}`,children:s.jsx(ss,{className:`h-4 w-4 ${R.isPrimary?"text-primary-foreground":"text-secondary-foreground"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-sm truncate","data-testid":`class-teacher-name-${R.id}`,children:R.teacherName}),s.jsx(ht,{variant:R.isPrimary?"default":"secondary",className:"text-xs mt-1","data-testid":`class-teacher-role-${R.id}`,children:R.isPrimary?"Primary Class Teacher":"Co-Class Teacher"})]})]}),s.jsxs(ku,{children:[s.jsx(Iu,{asChild:!0,children:s.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:s.jsx(uA,{className:"h-3 w-3"})})}),s.jsxs(Tc,{align:"end",children:[s.jsx(Os,{onClick:()=>pe(R),children:"Edit Privileges"}),s.jsx(Os,{onClick:()=>G(R),className:"text-destructive",children:"Remove Teacher"})]})]})]})}),s.jsxs(Pe,{className:"space-y-1 pt-0 pb-3",children:[R.teacherEmail&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ao,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground truncate","data-testid":`class-teacher-email-${R.id}`,children:R.teacherEmail})]}),s.jsxs("div",{className:"pt-2 border-t border-muted",children:[s.jsx("p",{className:"text-xs font-medium mb-1",children:"Privileges:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.privileges.attendance&&s.jsx(ht,{variant:"outline",className:"text-xs",children:"Attendance"}),R.privileges.classFeedPosting&&s.jsx(ht,{variant:"outline",className:"text-xs",children:"Class Feed"}),R.privileges.parentCommunication&&s.jsx(ht,{variant:"outline",className:"text-xs",children:"Parent Comm."}),R.privileges.leaveApproval&&s.jsx(ht,{variant:"outline",className:"text-xs",children:"Leave Approval"})]})]})]})]},R.id))})})]}),s.jsxs(Qe,{ref:x,"data-testid":"section-students",children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(yr,{className:"h-5 w-5"}),s.jsx("span",{children:"Students"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[K.length," ",K.length===1?"student":"students"," loaded"]})]})}),s.jsx(Pe,{children:Fo?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:5}).map((R,ue)=>s.jsxs(Qe,{className:"p-3",children:[s.jsx(Kt,{className:"h-6 w-24 mb-2"}),s.jsx(Kt,{className:"h-4 w-32 mb-1"}),s.jsx(Kt,{className:"h-4 w-28"})]},ue))}):K.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No students found"}),s.jsx("p",{className:"text-muted-foreground",children:"This class doesn't have any students enrolled yet."})]}):s.jsxs("div",{className:"max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",onScroll:hs,children:[s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3 pr-2",children:K.map(R=>s.jsxs(Qe,{className:"hover:shadow-md transition-shadow","data-testid":`student-card-${R.id}`,children:[s.jsx(qe,{className:"pb-2 pt-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(ss,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"font-semibold text-sm truncate","data-testid":`student-name-${R.id}`,children:[R.firstName," ",R.lastName]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[R.rollNumber&&s.jsxs(ht,{variant:"outline",className:"text-xs",children:["Roll: ",R.rollNumber]}),s.jsx(ht,{variant:R.status==="active"?"default":"secondary",className:"text-xs","data-testid":`student-status-${R.id}`,children:R.status})]})]})]})}),s.jsxs(Pe,{className:"space-y-1 pt-0 pb-3",children:[R.admissionNumber&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(xu,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground","data-testid":`student-admission-${R.id}`,children:R.admissionNumber})]}),R.email&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ao,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground truncate","data-testid":`student-email-${R.id}`,children:R.email})]}),R.contactNumber&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(ei,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground","data-testid":`student-contact-${R.id}`,children:R.contactNumber})]}),R.guardianName&&s.jsxs("div",{className:"text-xs text-muted-foreground pt-1 border-t border-muted",children:[s.jsxs("p",{className:"font-medium",children:["Guardian: ",R.guardianName]}),R.guardianContact&&s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(ei,{className:"h-3 w-3"}),R.guardianContact]})]})]})]},R.id))}),Nt&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[s.jsx(la,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:"Loading more students..."})]})}),!Vt&&K.length>He&&s.jsx("div",{className:"text-center py-3 text-xs text-muted-foreground border-t border-muted mt-3",children:"All students loaded"})]})})]}),s.jsx(qt,{open:a,onOpenChange:i,children:s.jsxs(er,{className:"sm:max-w-[500px]",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Assign Teacher to Class"}),s.jsx(Or,{children:me.length===0?"Please assign subjects to this class first before assigning teachers":"Select a teacher and one or more subjects to assign to this class"})]}),s.jsx(ts,{...Tt,children:s.jsxs("form",{onSubmit:Tt.handleSubmit(ze),className:"space-y-4",children:[s.jsx(Ue,{control:Tt.control,name:"teacherId",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Teacher"}),s.jsxs(Yt,{onValueChange:ue=>{R.onChange(ue),Tt.setValue("subjectIds",[])},value:R.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-teacher",children:s.jsx(Jt,{placeholder:"Select a teacher"})})}),s.jsx(zt,{children:(()=>{const ue=zr.filter(Ze=>{const jt=me.map(Pt=>Pt.subjectId);return Ze.subjects&&Ze.subjects.some(Pt=>jt.includes(Pt))});return ue.length===0?s.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[s.jsx("p",{className:"text-sm",children:"No qualified teachers available"}),s.jsx("p",{className:"text-xs mt-1",children:"Teachers must be assigned to at least one subject that this class studies"})]}):ue.map(Ze=>s.jsxs($e,{value:Ze.id,children:[Ze.name," (",Ze.email,")"]},Ze.id))})()})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Tt.control,name:"subjectIds",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Subjects"}),s.jsx(Ie,{children:s.jsx("div",{className:"space-y-2",children:(()=>{const ue=Tt.watch("teacherId");if(!ue)return s.jsx("div",{className:"p-4 text-center text-muted-foreground border border-dashed rounded-lg",children:s.jsx("p",{className:"text-sm",children:"Please select a teacher first"})});const Ze=zr.find(Zt=>Zt.id===ue);if(!Ze||!Ze.subjects)return s.jsx("div",{className:"p-4 text-center text-muted-foreground border border-dashed rounded-lg",children:s.jsx("p",{className:"text-sm",children:"Selected teacher has no subjects assigned"})});const jt=me.filter(Zt=>Ze.subjects.includes(Zt.subjectId)&&Zt.assignedTeacherId!==ue);if(jt.length===0)return s.jsx("div",{className:"p-4 text-center text-muted-foreground border border-dashed rounded-lg",children:s.jsx("p",{className:"text-sm",children:"This teacher cannot teach any subjects assigned to this class"})});const Pt=R.value||[],Zr=jt.filter(Zt=>Pt.includes(Zt.subjectId));return s.jsxs("div",{className:"space-y-3",children:[Zr.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Selected Subjects:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Zr.map(Zt=>s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-md text-sm border",children:[s.jsx("span",{children:Zt.subject.name}),s.jsx("button",{type:"button",onClick:()=>{const Cr=R.value||[];R.onChange(Cr.filter(Gi=>Gi!==Zt.subjectId))},className:"ml-1 hover:bg-primary/20 rounded-full p-0.5 transition-colors",title:`Remove ${Zt.subject.name}`,children:s.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Zt.subjectId))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:Zr.length>0?"Add More Subjects:":"Select Subjects:"}),s.jsxs(Yt,{value:"",onValueChange:Zt=>{const Cr=R.value||[];Cr.includes(Zt)?R.onChange(Cr.filter(pl=>pl!==Zt)):R.onChange([...Cr,Zt])},children:[s.jsx(Wt,{className:"w-full",children:s.jsx(Jt,{placeholder:"Choose subjects to assign..."})}),s.jsx(zt,{children:jt.map(Zt=>{const Cr=Pt.includes(Zt.subjectId);return s.jsx($e,{value:Zt.subjectId,className:"cursor-pointer",disabled:Cr,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("span",{className:Cr?"text-muted-foreground":"",children:[Zt.subject.name," (",Zt.subject.code,")",Cr&&" - Already selected"]}),Cr&&s.jsx("svg",{className:"h-4 w-4 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})},Zt.subjectId)})})]})]})]})})()})}),s.jsx(Oe,{})]})}),s.jsx(An,{children:s.jsx(oe,{type:"submit",disabled:I.isPending||me.length===0,"data-testid":"button-submit-teacher-assignment",children:I.isPending?"Assigning...":"Assign Teacher"})})]})})]})}),s.jsx(qt,{open:_,onOpenChange:Z,children:s.jsxs(er,{className:"sm:max-w-[500px] max-h-[calc(100vh-4rem)] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Add New Teacher"}),s.jsx(Or,{children:"Add a new teacher to your school"})]}),s.jsx(ts,{...Ke,children:s.jsxs("form",{onSubmit:Ke.handleSubmit(Mt),className:"space-y-4",children:[s.jsx(Ue,{control:Ke.control,name:"name",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Teacher Name"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., John Smith",...R,"data-testid":"input-teacher-name"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Ke.control,name:"email",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Email Address"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"email",placeholder:"teacher@school.com",...R,"data-testid":"input-teacher-email"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Ke.control,name:"contactNumber",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Contact Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., +1234567890",...R,"data-testid":"input-teacher-contact"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Ke.control,name:"schoolIdNumber",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"School ID Number *"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"e.g., T001",...R,"data-testid":"input-teacher-school-id"})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Ke.control,name:"classes",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Classes Taught *"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",onValueChange:ue=>{ue&&!R.value.includes(ue)&&(R.onChange([...R.value,ue]),Ke.setValue("subjects",[]))},children:[s.jsx(Wt,{"data-testid":"select-add-classes",children:s.jsx(Jt,{placeholder:"Add classes..."})}),s.jsx(zt,{children:Xn.filter(ue=>!R.value.includes(ue.id)).sort((ue,Ze)=>{const jt=ue.section&&ue.section.trim()!==""&&ue.section!=="-"?`${ue.grade}-${ue.section}`:ue.grade,Pt=Ze.section&&Ze.section.trim()!==""&&Ze.section!=="-"?`${Ze.grade}-${Ze.section}`:Ze.grade;return jt.localeCompare(Pt,void 0,{numeric:!0,sensitivity:"base"})}).map(ue=>s.jsxs($e,{value:ue.id,children:["Class ",ue.section&&ue.section.trim()!==""&&ue.section!=="-"?`${ue.grade}-${ue.section}`:ue.grade]},ue.id))})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:R.value.sort((ue,Ze)=>{const jt=Xn.find(Cr=>Cr.id===ue),Pt=Xn.find(Cr=>Cr.id===Ze);if(!jt||!Pt)return 0;const Zr=jt.section&&jt.section.trim()!==""&&jt.section!=="-"?`${jt.grade}-${jt.section}`:jt.grade,Zt=Pt.section&&Pt.section.trim()!==""&&Pt.section!=="-"?`${Pt.grade}-${Pt.section}`:Pt.grade;return Zr.localeCompare(Zt,void 0,{numeric:!0,sensitivity:"base"})}).map(ue=>{const Ze=Xn.find(jt=>jt.id===ue);return Ze?s.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm",children:[s.jsxs("span",{children:["Class ",Ze.section&&Ze.section.trim()!==""&&Ze.section!=="-"?`${Ze.grade}-${Ze.section}`:Ze.grade]}),s.jsx("button",{type:"button",onClick:()=>{const jt=R.value.filter(Cr=>Cr!==ue);R.onChange(jt);const Pt=Ke.getValues("subjects"),Zr=fs.filter(Cr=>Cr.classId===ue).map(Cr=>Cr.subjectId),Zt=Pt.filter(Cr=>!Zr.includes(Cr));Ke.setValue("subjects",Zt)},className:"ml-1 hover:bg-green-200 rounded-full w-4 h-4 flex items-center justify-center","data-testid":`remove-add-class-${ue}`,children:""})]},ue):null})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Ke.control,name:"subjects",render:({field:R})=>{const ue=Ke.watch("classes"),Ze=Ur(ue||[]);return s.jsxs(ke,{children:[s.jsx(_e,{children:"Subjects Taught *"}),s.jsx(Ie,{children:s.jsxs(Yt,{value:"",disabled:!ue||ue.length===0,onValueChange:jt=>{jt&&!R.value.includes(jt)&&R.onChange([...R.value,jt])},children:[s.jsx(Wt,{"data-testid":"select-add-subjects",children:s.jsx(Jt,{placeholder:!ue||ue.length===0?"Select classes first...":"Add subjects..."})}),s.jsx(zt,{children:Ze.filter(jt=>!R.value.includes(jt.id)).map(jt=>s.jsx($e,{value:jt.id,children:jt.displayName},jt.id))})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:R.value.map(jt=>{const Pt=Ze.find(Zr=>Zr.id===jt);return Pt?s.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-sm",children:[s.jsx("span",{children:Pt.displayName}),s.jsx("button",{type:"button",onClick:()=>{R.onChange(R.value.filter(Zr=>Zr!==jt))},className:"ml-1 hover:bg-blue-200 rounded-full w-4 h-4 flex items-center justify-center","data-testid":`remove-add-subject-${jt}`,children:""})]},jt):null})}),s.jsx(Oe,{})]})}}),s.jsx(An,{children:s.jsx(oe,{type:"submit",disabled:ie.isPending,"data-testid":"button-save-teacher",children:ie.isPending?"Adding...":"Add Teacher"})})]})})]})}),s.jsx(qt,{open:o,onOpenChange:l,children:s.jsxs(er,{className:"sm:max-w-[500px]",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Create and Assign Subject"}),s.jsx(Or,{children:"Create a new subject and assign it to this class"})]}),s.jsx(ts,{...dr,children:s.jsxs("form",{onSubmit:dr.handleSubmit(At),className:"space-y-4",children:[s.jsx(Ue,{control:dr.control,name:"name",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Subject Name"}),s.jsx(Ie,{children:s.jsx(Fe,{placeholder:"Enter subject name (e.g., Mathematics)",...R})}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:dr.control,name:"weeklyFrequency",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Periods in a week"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"number",min:"1",max:"8",placeholder:"Number of periods per week",...R,onChange:ue=>R.onChange(parseInt(ue.target.value)||1),"data-testid":"input-weekly-frequency"})}),s.jsx(Oe,{})]})}),s.jsx(An,{children:s.jsx(oe,{type:"submit",disabled:we.isPending,"data-testid":"button-submit-subject-assignment",children:we.isPending?"Creating...":"Create & Assign Subject"})})]})})]})}),s.jsx(qt,{open:A,onOpenChange:c,children:s.jsxs(er,{children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Edit Subject Periods"}),s.jsxs(Or,{children:["Modify the weekly frequency for ",(ve=d==null?void 0:d.subject)==null?void 0:ve.name," (",(Ce=d==null?void 0:d.subject)==null?void 0:Ce.code,")"]})]}),s.jsx(ts,{...Y,children:s.jsxs("form",{onSubmit:Y.handleSubmit(mn),className:"space-y-4",children:[s.jsx(Ue,{control:Y.control,name:"weeklyFrequency",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Weekly Frequency (Periods per week)"}),s.jsx(Ie,{children:s.jsx(Fe,{type:"number",min:"1",max:"8",placeholder:"Enter number of periods per week",...R,onChange:ue=>R.onChange(parseInt(ue.target.value)||1),"data-testid":"input-edit-weekly-frequency"})}),s.jsx(Oe,{})]})}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>{c(!1),u(null),Y.reset()},children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:Se.isPending,"data-testid":"button-update-subject",children:Se.isPending?"Updating...":"Update Periods"})]})]})})]})}),s.jsx(Jo,{open:w,onOpenChange:b,children:s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Remove Subject Assignment"}),s.jsxs(go,{children:["Are you sure you want to remove ",(Ye=C==null?void 0:C.subject)==null?void 0:Ye.name," (",(ft=C==null?void 0:C.subject)==null?void 0:ft.code,") from this class? This action cannot be undone and will remove all related timetable entries."]})]}),s.jsxs(Zo,{children:[s.jsx(vo,{onClick:()=>{b(!1),N(null)},children:"Cancel"}),s.jsx(xo,{onClick:$i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:it.isPending,"data-testid":"button-confirm-delete-subject",children:it.isPending?"Removing...":"Remove Subject"})]})]})}),s.jsx(Jo,{open:B,onOpenChange:F,children:s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Remove Teacher Assignment"}),s.jsxs(go,{children:["Are you sure you want to remove ",(ot=E==null?void 0:E.teacher)==null?void 0:ot.name," from teaching ",(Qt=E==null?void 0:E.subject)==null?void 0:Qt.name," (",(Rt=E==null?void 0:E.subject)==null?void 0:Rt.code,") for this class? This action cannot be undone and will remove all related timetable entries."]})]}),s.jsxs(Zo,{children:[s.jsx(vo,{onClick:()=>{F(!1),U(null)},children:"Cancel"}),s.jsx(xo,{onClick:be,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:yt.isPending,"data-testid":"button-confirm-delete-teacher",children:yt.isPending?"Removing...":"Remove Teacher"})]})]})}),s.jsx(qt,{open:P,onOpenChange:O,children:s.jsxs(er,{children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Copy Subjects to other sections"}),s.jsxs(Or,{children:["Select the sections you want to copy all assigned subjects to. This will copy ",me.length," subjects to the selected sections."]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-3 max-h-60 overflow-y-auto",children:[he.map(R=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(va,{id:R.id,checked:X.includes(R.id),onCheckedChange:ue=>{ae(ue?[...X,R.id]:X.filter(Ze=>Ze!==R.id))}}),s.jsxs("label",{htmlFor:R.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:["Class ",R.grade," ",R.section,s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",R.studentCount," students)"]})]})]},R.id)),he.length===0&&s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No other sections available for this grade."})]})}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>{O(!1),ae([])},children:"Cancel"}),s.jsx(oe,{type:"button",disabled:X.length===0||Dt.isPending,onClick:()=>{Dt.mutate(X)},children:Dt.isPending?"Copying...":`Copy to ${X.length} section${X.length!==1?"s":""}`})]})]})}),s.jsx(qt,{open:ne,onOpenChange:H,children:s.jsxs(er,{className:"sm:max-w-[500px]",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Assign Class Teacher"}),s.jsx(Or,{children:"Select a teacher and configure their role and privileges for this class."})]}),s.jsx(ts,{...Ae,children:s.jsxs("form",{onSubmit:Ae.handleSubmit(L),className:"space-y-4",children:[s.jsx(Ue,{control:Ae.control,name:"teacherId",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Teacher"}),s.jsxs(Yt,{onValueChange:R.onChange,value:R.value,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-class-teacher",children:s.jsx(Jt,{placeholder:"Select a teacher"})})}),s.jsx(zt,{children:zr.filter(ue=>!ga.some(Ze=>Ze.teacherId===ue.id)).map(ue=>s.jsxs($e,{value:ue.id,children:[ue.name," (",ue.email,")"]},ue.id))})]}),s.jsx(Oe,{})]})}),s.jsx(Ue,{control:Ae.control,name:"role",render:({field:R})=>s.jsxs(ke,{children:[s.jsx(_e,{children:"Role"}),s.jsxs(Yt,{onValueChange:R.onChange,value:R.value,disabled:Oa,children:[s.jsx(Ie,{children:s.jsx(Wt,{"data-testid":"select-class-teacher-role",children:s.jsx(Jt,{placeholder:Oa?"Loading...":"Select role"})})}),s.jsxs(zt,{children:[!ga.some(ue=>ue.isPrimary&&ue.isActive)&&s.jsx($e,{value:"primary",children:"Primary Class Teacher"}),s.jsx($e,{value:"co_class",children:"Co-Class Teacher"})]})]}),ga.some(ue=>ue.isPrimary&&ue.isActive)&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Primary teacher already assigned to this class"}),s.jsx(Oe,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(_e,{children:"Privileges"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Ue,{control:Ae.control,name:"privileges.attendance",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-privilege-attendance"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Attendance Management"})})]})}),s.jsx(Ue,{control:Ae.control,name:"privileges.classFeedPosting",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-privilege-class-feed"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Class Feed Posting"})})]})}),s.jsx(Ue,{control:Ae.control,name:"privileges.parentCommunication",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-privilege-parent-comm"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Parent Communication"})})]})}),s.jsx(Ue,{control:Ae.control,name:"privileges.leaveApproval",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-privilege-leave-approval"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Leave Approval"})})]})})]})]}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>{H(!1),Ae.reset()},children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:st.isPending,"data-testid":"button-submit-class-teacher",children:st.isPending?"Assigning...":"Assign Class Teacher"})]})]})})]})}),s.jsx(qt,{open:j,onOpenChange:k,children:s.jsxs(er,{className:"sm:max-w-[500px]",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Edit Privileges"}),s.jsxs(Or,{children:["Configure privileges for ",M==null?void 0:M.teacherName]})]}),s.jsx(ts,{...xe,children:s.jsxs("form",{onSubmit:xe.handleSubmit(je),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(_e,{children:"Privileges"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Ue,{control:xe.control,name:"privileges.attendance",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-edit-privilege-attendance"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Attendance Management"})})]})}),s.jsx(Ue,{control:xe.control,name:"privileges.classFeedPosting",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-edit-privilege-class-feed"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Class Feed Posting"})})]})}),s.jsx(Ue,{control:xe.control,name:"privileges.parentCommunication",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-edit-privilege-parent-comm"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Parent Communication"})})]})}),s.jsx(Ue,{control:xe.control,name:"privileges.leaveApproval",render:({field:R})=>s.jsxs(ke,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ie,{children:s.jsx(va,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"checkbox-edit-privilege-leave-approval"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(_e,{className:"text-sm font-normal",children:"Leave Approval"})})]})})]})]}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>{k(!1),S(null),xe.reset()},children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:Hr.isPending,"data-testid":"button-update-privileges",children:Hr.isPending?"Updating...":"Update Privileges"})]})]})})]})}),s.jsx(Jo,{open:J,onOpenChange:de,children:s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Remove Class Teacher Assignment"}),s.jsxs(go,{children:["Are you sure you want to remove ",se==null?void 0:se.teacherName," as a class teacher for this class? This action cannot be undone."]})]}),s.jsxs(Zo,{children:[s.jsx(vo,{onClick:()=>{de(!1),D(null)},children:"Cancel"}),s.jsx(xo,{onClick:W,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:ur.isPending,"data-testid":"button-confirm-delete-class-teacher",children:ur.isPending?"Removing...":"Remove Teacher"})]})]})})]}),s.jsx(si,{value:"feed",className:"space-y-6 mt-6",children:s.jsx(_B,{feedScope:"class",classId:n,showPostForm:(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="teacher"})})]})]})}function che(){return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Pn,{className:"h-8 w-8"}),"Subjects"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage subjects for your school"})]}),s.jsx(bv,{className:"w-64"})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsx(rt,{children:"Subjects Management"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Subjects functionality will be available soon."})})]})]})}var Bv="Switch",[dhe,ape]=Ws(Bv),[uhe,fhe]=dhe(Bv),x6=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:c,form:d,...u}=e,[f,m]=v.useState(null),p=cr(t,w=>m(w)),h=v.useRef(!1),x=f?d||!!f.closest("form"):!0,[y,g]=Qi({prop:a,defaultProp:i??!1,onChange:c,caller:Bv});return s.jsxs(uhe,{scope:r,checked:y,disabled:l,children:[s.jsx(kt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":b6(y),"data-disabled":l?"":void 0,disabled:l,value:A,...u,ref:p,onClick:nt(e.onClick,w=>{g(b=>!b),x&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})}),x&&s.jsx(w6,{control:f,bubbles:!h.current,name:n,value:A,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});x6.displayName=Bv;var v6="SwitchThumb",y6=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=fhe(v6,r);return s.jsx(kt.span,{"data-state":b6(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});y6.displayName=v6;var hhe="SwitchBubbleInput",w6=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=v.useRef(null),l=cr(o,i),A=lB(r),c=PC(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(A!==r&&m){const p=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(p)}},[A,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});w6.displayName=hhe;function b6(e){return e?"checked":"unchecked"}var C6=x6,mhe=y6;const Am=v.forwardRef(({className:e,...t},r)=>s.jsx(C6,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(mhe,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Am.displayName=C6.displayName;function phe(){const{toast:e}=On(),[t,r]=v.useState(!1),[n,a]=v.useState(null),[i,o]=v.useState(!1),[l,A]=v.useState({name:"",address:"",contactPhone:"",adminName:"",adminEmail:"",adminPassword:""}),{data:c=[],isLoading:d}=Je({queryKey:["/api/schools"],queryFn:async()=>await(await Ne("GET","/api/schools")).json()}),u=Ct({mutationFn:async C=>await(await Ne("POST","/api/schools",C)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/schools"]}),r(!1),p(),e({title:"Success",description:"School created successfully!"})},onError:C=>{e({title:"Error",description:C.message||"Failed to create school",variant:"destructive"})}}),f=Ct({mutationFn:async({id:C,...N})=>await(await Ne("PUT",`/api/schools/${C}`,N)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/schools"]}),a(null),p(),e({title:"Success",description:"School updated successfully!"})},onError:C=>{e({title:"Error",description:C.message||"Failed to update school",variant:"destructive"})}}),m=Ct({mutationFn:async({id:C,isActive:N})=>{const B=await Ne("PATCH",`/api/schools/${C}/status`,{isActive:N});if(!B.ok){const E=await B.text();throw new Error(`Failed to update school status: ${B.status} - ${E}`)}const F=B.headers.get("content-type");if(!F||!F.includes("application/json")){const E=await B.text();throw new Error(`Server returned non-JSON response: ${E.substring(0,200)}`)}return await B.json()},onMutate:async({id:C,isActive:N})=>{await Ee.cancelQueries({queryKey:["/api/schools"]});const B=Ee.getQueryData(["/api/schools"]);return Ee.setQueryData(["/api/schools"],F=>F&&F.map(E=>E.id===C?{...E,isActive:N}:E)),{previousSchools:B}},onError:(C,N,B)=>{B!=null&&B.previousSchools&&Ee.setQueryData(["/api/schools"],B.previousSchools),e({title:"Error",description:C.message||"Failed to update school status",variant:"destructive"})},onSuccess:(C,N)=>{e({title:"Success",description:`School ${N.isActive?"activated":"deactivated"} successfully!`})},onSettled:()=>{Ee.invalidateQueries({queryKey:["/api/schools"]})}}),p=()=>{A({name:"",address:"",contactPhone:"",adminName:"",adminEmail:"",adminPassword:""})},h=()=>{a(null),p(),r(!0)},x=C=>{a(C),A({name:C.name,address:C.address,contactPhone:C.contactPhone,adminName:C.adminName,adminEmail:C.adminEmail||"",adminPassword:""}),r(!0)},y=()=>{const C=[];/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.adminEmail)||C.push("Please enter a valid admin email address"),!n&&l.adminPassword.length<6&&C.push("Admin password must be at least 6 characters");const B=/^\d{10}$/;return l.contactPhone&&!B.test(l.contactPhone.replace(/\D/g,""))&&C.push("Phone number must be exactly 10 digits"),C},g=C=>{C.preventDefault();const N=y();if(N.length>0){e({title:"Validation Error",description:N.join(", "),variant:"destructive"});return}n?f.mutate({...l,id:n.id}):u.mutate(l)},w=()=>{r(!1),a(null),p()},b=C=>{m.mutate({id:C.id,isActive:!C.isActive})};return d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(la,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(ic,{className:"h-8 w-8"}),"Schools Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage schools and their administrators across the platform"})]}),s.jsxs(oe,{onClick:h,"data-testid":"button-add-school",children:[s.jsx(ws,{className:"mr-2 h-4 w-4"}),"Add School"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Total Schools"}),s.jsx(ic,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active educational institutions"})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Active Schools"}),s.jsx(yr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.filter(C=>C.isActive).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently operational"})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Recent Activity"}),s.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.filter(C=>{const N=new Date(C.createdAt),B=new Date;return B.setDate(B.getDate()-7),N>B}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Schools added this week"})]})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsx(rt,{children:"Schools Directory"}),s.jsx(ys,{children:"Complete list of all schools in the system"})]}),s.jsx(Pe,{children:c.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ic,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No schools yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Get started by adding your first school to the platform"}),s.jsxs(oe,{onClick:h,children:[s.jsx(ws,{className:"mr-2 h-4 w-4"}),"Add Your First School"]})]}):s.jsxs(av,{children:[s.jsx(iv,{children:s.jsxs(Sc,{children:[s.jsx(ea,{children:"School Name"}),s.jsx(ea,{children:"Admin"}),s.jsx(ea,{children:"Contact"}),s.jsx(ea,{children:"Status"}),s.jsx(ea,{children:"Created"}),s.jsx(ea,{className:"text-right",children:"Actions"})]})}),s.jsx(ov,{children:c.map(C=>s.jsxs(Sc,{"data-testid":`row-school-${C.id}`,children:[s.jsx(ta,{className:"font-medium",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-base",children:C.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.address})]})}),s.jsx(ta,{children:s.jsx("p",{className:"font-medium",children:C.adminName})}),s.jsx(ta,{children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsx("p",{className:"font-medium",children:C.adminEmail||"No admin email"}),s.jsx("p",{className:"text-muted-foreground flex items-center",children:C.contactPhone?s.jsxs("span",{children:[" ",C.contactPhone]}):s.jsx("span",{className:"italic",children:"No phone number"})})]})}),s.jsx(ta,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Am,{checked:C.isActive,onCheckedChange:()=>b(C),disabled:m.isPending,"data-testid":`switch-status-${C.id}`}),s.jsx(ht,{variant:C.isActive?"default":"secondary",className:C.isActive?"bg-green-500":"bg-red-500",children:C.isActive?"Active":"Inactive"})]})}),s.jsx(ta,{children:new Date(C.createdAt).toLocaleDateString()}),s.jsx(ta,{className:"text-right",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>x(C),"data-testid":`button-edit-${C.id}`,children:s.jsx(fA,{className:"h-4 w-4"})})})})]},C.id))})]})})]}),s.jsx(qt,{open:t,onOpenChange:w,children:s.jsxs(er,{className:"sm:max-w-[600px]",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:n?"Edit School":"Add New School"}),s.jsx(Or,{children:n?"Update the school information below":"Fill in the details to add a new school to the platform"})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"name",children:"School Name *"}),s.jsx(Fe,{id:"name",value:l.name,onChange:C=>A(N=>({...N,name:C.target.value})),placeholder:"Enter school name",required:!0,"data-testid":"input-school-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"adminName",children:"Admin Name *"}),s.jsx(Fe,{id:"adminName",value:l.adminName,onChange:C=>A(N=>({...N,adminName:C.target.value})),placeholder:"Enter admin's name",required:!0,"data-testid":"input-admin-name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"address",children:"Address *"}),s.jsx(Fe,{id:"address",value:l.address,onChange:C=>A(N=>({...N,address:C.target.value})),placeholder:"Enter school address",required:!0,"data-testid":"input-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"contactPhone",children:"Contact Phone"}),s.jsx(Fe,{id:"contactPhone",value:l.contactPhone,onChange:C=>{const N=C.target.value.replace(/\D/g,"").slice(0,10);A(B=>({...B,contactPhone:N}))},placeholder:"Enter 10-digit phone number",maxLength:10,pattern:"\\d{10}",title:"Please enter exactly 10 digits","data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h4",{className:"font-semibold mb-3 text-sm text-muted-foreground",children:"ADMIN LOGIN CREDENTIALS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"adminEmail",children:"Admin Email *"}),s.jsx(Fe,{id:"adminEmail",type:"email",value:l.adminEmail,onChange:C=>A(N=>({...N,adminEmail:C.target.value})),placeholder:"admin@school.com",required:!0,"data-testid":"input-admin-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"adminPassword",children:"Admin Password *"}),s.jsx(Fe,{id:"adminPassword",type:"password",value:l.adminPassword,onChange:C=>A(N=>({...N,adminPassword:C.target.value})),placeholder:n?"Enter new password to update":"Enter password (min 6 chars)",required:!n,minLength:6,"data-testid":"input-admin-password"})]})]}),n?s.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium mb-2",children:" Current Admin Login Credentials"}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[s.jsx("strong",{children:"Email:"})," ",l.adminEmail||"No admin email set"]}),l.adminEmail&&s.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{navigator.clipboard.writeText(l.adminEmail),o(!0),setTimeout(()=>o(!1),2e3)},"data-testid":"button-copy-email",children:i?s.jsx(gu,{className:"h-3 w-3 text-green-600"}):s.jsx(VA,{className:"h-3 w-3"})})]}),s.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mb-2",children:[s.jsx("strong",{children:"Password:"})," ",l.adminPassword?"":""]}),s.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 p-2 rounded border border-amber-200 dark:border-amber-800 mb-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:" Security Note:"})," Passwords are encrypted and cannot be displayed."]}),s.jsx("p",{children:"If admin forgot password, enter a new password in the field above to reset it."})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Share the email and new password with the school admin for login access."})]}):s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"The admin will use these credentials to login and manage their school's timetables."})]}),s.jsxs(An,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:u.isPending||f.isPending,"data-testid":"button-save-school",children:u.isPending||f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(la,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Updating...":"Creating..."]}):n?"Update School":"Create School"})]})]})]})})]})}function ghe(){var g;const{user:e}=Ns(),{toast:t}=On(),{theme:r,setTheme:n}=ZQ(),a=Mu(),[i,o]=v.useState(!1),[l,A]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,d]=v.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||""}),u=Ct({mutationFn:async w=>await(await Ne("PUT","/api/auth/password",w)).json(),onSuccess:()=>{t({title:"Success",description:"Password changed successfully"}),A({currentPassword:"",newPassword:"",confirmPassword:""}),o(!1)},onError:w=>{t({title:"Error",description:w.message||"Failed to change password",variant:"destructive"})}}),{data:f,isLoading:m,refetch:p}=Je({queryKey:["teacher-replacements",e==null?void 0:e.schoolId],queryFn:async()=>{const w=(e==null?void 0:e.role)==="super_admin"?"/api/teachers/replacements":`/api/teachers/replacements/school/${e==null?void 0:e.schoolId}`;return await(await Ne("GET",w)).json()},enabled:(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"}),h=async w=>{if(w.preventDefault(),!l.currentPassword){t({title:"Error",description:"Current password is required",variant:"destructive"});return}if(!l.newPassword){t({title:"Error",description:"New password is required",variant:"destructive"});return}if(l.newPassword!==l.confirmPassword){t({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(l.newPassword.length<8){t({title:"Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}u.mutate({currentPassword:l.currentPassword,newPassword:l.newPassword})},x=Ct({mutationFn:async w=>await(await Ne("PUT","/api/auth/profile",w)).json(),onSuccess:w=>{a.setQueryData(["/api/auth/user"],w),t({title:"Success",description:"Profile updated successfully"})},onError:w=>{t({title:"Error",description:w.message||"Failed to update profile",variant:"destructive"})}}),y=async w=>{if(w.preventDefault(),!c.firstName.trim()){t({title:"Error",description:"First name is required",variant:"destructive"});return}if(!c.email.trim()){t({title:"Error",description:"Email is required",variant:"destructive"});return}x.mutate(c)};return s.jsxs("div",{children:[s.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bx,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account and system preferences"})]})]})}),s.jsx("div",{className:"p-6 overflow-y-auto h-full",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-5 w-5"}),s.jsx("span",{children:"Profile Information"})]})}),s.jsx(Pe,{children:(e==null?void 0:e.role)==="student"?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Student Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'Your complete profile information is now available in the dedicated "My Profile" section.'}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Navigate to "My Profile" from the sidebar to view your personal information, contact details, and academic records.'})]}):s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"firstName",children:"First Name"}),s.jsx(Fe,{id:"firstName",value:c.firstName,onChange:w=>d({...c,firstName:w.target.value}),"data-testid":"input-first-name"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Fe,{id:"lastName",value:c.lastName,onChange:w=>d({...c,lastName:w.target.value}),"data-testid":"input-last-name"})]})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"email",children:"Email Address"}),s.jsx(Fe,{id:"email",type:"email",value:c.email,onChange:w=>d({...c,email:w.target.value}),"data-testid":"input-email"})]}),s.jsx(oe,{type:"submit",disabled:x.isPending,"data-testid":"button-update-profile",children:x.isPending?"Updating...":"Update Profile"})]})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(Sh,{className:"h-5 w-5"}),s.jsx("span",{children:"Security"})]})}),s.jsx(Pe,{children:i?s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(Fe,{id:"currentPassword",type:"password",value:l.currentPassword,onChange:w=>A({...l,currentPassword:w.target.value}),"data-testid":"input-current-password"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"newPassword",children:"New Password"}),s.jsx(Fe,{id:"newPassword",type:"password",value:l.newPassword,onChange:w=>A({...l,newPassword:w.target.value}),"data-testid":"input-new-password"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(Fe,{id:"confirmPassword",type:"password",value:l.confirmPassword,onChange:w=>A({...l,confirmPassword:w.target.value}),"data-testid":"input-confirm-password"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(oe,{type:"submit",disabled:u.isPending,"data-testid":"button-save-password",children:u.isPending?"Changing...":"Save Password"}),s.jsx(oe,{type:"button",variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-password",children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Password"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last changed: ",e!=null&&e.passwordChangedAt?new Date(e.passwordChangedAt).toLocaleString():"Never (use this to set a new password)"]})]}),s.jsx(oe,{onClick:()=>o(!0),"data-testid":"button-change-password",children:"Change Password"})]})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(X7,{className:"h-5 w-5"}),s.jsx("span",{children:"System Information"})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{className:"text-sm font-medium",children:"Role"}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:(g=e==null?void 0:e.role)==null?void 0:g.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx(_t,{className:"text-sm font-medium",children:"Account Created"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown"})]}),s.jsxs("div",{children:[s.jsx(_t,{className:"text-sm font-medium",children:"Last Updated"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e!=null&&e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"Unknown"})]}),s.jsxs("div",{children:[s.jsx(_t,{className:"text-sm font-medium",children:"User ID"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:e==null?void 0:e.id})]})]})})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(lQ,{className:"h-5 w-5"}),s.jsx("span",{children:"Application Preferences"})]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Choose your preferred theme"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(oe,{variant:r==="light"?"default":"outline",size:"sm",onClick:()=>n("light"),"data-testid":"button-theme-light",children:"Light"}),s.jsx(oe,{variant:r==="dark"?"default":"outline",size:"sm",onClick:()=>n("dark"),"data-testid":"button-theme-dark",children:"Dark"}),s.jsx(oe,{variant:r==="system"?"default":"outline",size:"sm",onClick:()=>n("system"),"data-testid":"button-theme-system",children:"System"})]})]}),s.jsx(Uc,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Manage your notification preferences"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Email notifications for new school registrations"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm",children:"System alerts and maintenance notifications"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Weekly activity reports"})]})]})]})]})})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin")&&s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vu,{className:"h-5 w-5"}),s.jsx("span",{children:"Teacher Replacements History"})]}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>p(),className:"flex items-center space-x-2",children:[s.jsx(Fl,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]})]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[m?s.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Loading replacement history..."}):!f||f.length===0?s.jsxs("div",{className:"text-center text-muted-foreground py-8 border-2 border-dashed rounded-lg",children:[s.jsx(vu,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),s.jsx("p",{children:"No teacher replacements found"}),s.jsx("p",{className:"text-sm",children:"Teacher replacement history will appear here"})]}):s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.map(w=>{var b,C,N;return s.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/30 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:((b=w.originalTeacher)==null?void 0:b.name)||"Unknown Teacher"}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-medium text-blue-600",children:((C=w.replacementTeacher)==null?void 0:C.name)||"Unknown Teacher"}),s.jsx(ht,{variant:w.status==="completed"?"default":"secondary",className:w.status==="completed"?"bg-green-100 text-green-800":"",children:w.status})]}),w.reason&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Reason:"})," ",w.reason]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",new Date(w.replacementDate).toLocaleDateString("en-IN")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Performed by:"})," ",((N=w.replacedByUser)==null?void 0:N.email)||"System"]}),w.affectedTimetableEntries&&s.jsxs("p",{children:[s.jsx("strong",{children:"Affected classes:"})," ",w.affectedTimetableEntries," assignments updated"]})]}),w.conflictDetails&&w.conflictDetails.length>0&&s.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[s.jsx("p",{className:"text-yellow-800 font-medium",children:"Conflicts detected:"}),s.jsx("p",{className:"text-yellow-700",children:w.conflictDetails})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground text-right",children:w.completedAt?s.jsxs("span",{children:["Completed: ",new Date(w.completedAt).toLocaleString("en-IN")]}):s.jsxs("span",{children:["Created: ",new Date(w.createdAt).toLocaleString("en-IN")]})})]})},w.id)})}),s.jsx(Uc,{}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"About Teacher Replacements:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Teacher replacements automatically transfer all timetable assignments"}),s.jsx("li",{children:" Conflicts are checked before replacement to prevent scheduling issues"}),s.jsx("li",{children:" All replacement activities are logged for audit purposes"}),s.jsx("li",{children:' Original teacher status is updated to "Left School" after replacement'})]})]})]})})]})]})})]})}var Ht=function(){return Ht=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ht.apply(this,arguments)};function xhe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function B6(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Vm(e){return e.mode==="multiple"}function $m(e){return e.mode==="range"}function jv(e){return e.mode==="single"}var vhe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function yhe(e,t){return Yr(e,"LLLL y",t)}function whe(e,t){return Yr(e,"d",t)}function bhe(e,t){return Yr(e,"LLLL",t)}function Che(e){return"".concat(e)}function Bhe(e,t){return Yr(e,"cccccc",t)}function jhe(e,t){return Yr(e,"yyyy",t)}var Nhe=Object.freeze({__proto__:null,formatCaption:yhe,formatDay:whe,formatMonthCaption:bhe,formatWeekNumber:Che,formatWeekdayName:Bhe,formatYearCaption:jhe}),Ehe=function(e,t,r){return Yr(e,"do MMMM (EEEE)",r)},She=function(){return"Month: "},Fhe=function(){return"Go to next month"},The=function(){return"Go to previous month"},_he=function(e,t){return Yr(e,"cccc",t)},khe=function(e){return"Week n. ".concat(e)},Ihe=function(){return"Year: "},Uhe=Object.freeze({__proto__:null,labelDay:Ehe,labelMonthDropdown:She,labelNext:Fhe,labelPrevious:The,labelWeekNumber:khe,labelWeekday:_he,labelYearDropdown:Ihe});function Qhe(){var e="buttons",t=vhe,r=bB,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Nhe,labels:Uhe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Dhe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ls(n):t&&(i=new Date(t,0,1)),a?o=Im(a):r&&(o=new Date(r,11,31)),{fromDate:i?Fu(i):void 0,toDate:o?Fu(o):void 0}}var j6=v.createContext(void 0);function Phe(e){var t,r=e.initialProps,n=Qhe(),a=Dhe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var A;(jv(r)||Vm(r)||$m(r))&&(A=r.onSelect);var c=Ht(Ht(Ht({},n),r),{captionLayout:l,classNames:Ht(Ht({},n.classNames),r.classNames),components:Ht({},r.components),formatters:Ht(Ht({},n.formatters),r.formatters),fromDate:i,labels:Ht(Ht({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ht(Ht({},n.modifiers),r.modifiers),modifiersClassNames:Ht(Ht({},n.modifiersClassNames),r.modifiersClassNames),onSelect:A,styles:Ht(Ht({},n.styles),r.styles),toDate:o});return s.jsx(j6.Provider,{value:c,children:e.children})}function Mr(){var e=v.useContext(j6);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function N6(e){var t=Mr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Ohe(e){return s.jsx("svg",Ht({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function E6(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,A=e.style,c=Mr(),d=(r=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Ohe;return s.jsxs("div",{className:l,style:A,children:[s.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Rhe(e){var t,r=Mr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,A=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var u=[];if(nse(n,a))for(var f=Ls(n),m=n.getMonth();m<=a.getMonth();m++)u.push(Vy(f,m));else for(var f=Ls(new Date),m=0;m<=11;m++)u.push(Vy(f,m));var p=function(x){var y=Number(x.target.value),g=Vy(Ls(e.displayMonth),y);e.onChange(g)},h=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:E6;return s.jsx(h,{name:"months","aria-label":d(),className:A.dropdown_month,style:i.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:u.map(function(x){return s.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function Lhe(e){var t,r=e.displayMonth,n=Mr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,A=n.classNames,c=n.components,d=n.formatters.formatYearCaption,u=n.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),p=i.getFullYear(),h=m;h<=p;h++)f.push(HE(XR(new Date),h));var x=function(g){var w=HE(Ls(r),Number(g.target.value));e.onChange(w)},y=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:E6;return s.jsx(y,{name:"years","aria-label":u(),className:A.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:o}),children:f.map(function(g){return s.jsx("option",{value:g.getFullYear(),children:d(g,{locale:o})},g.getFullYear())})})}function Mhe(e,t){var r=v.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Hhe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,A=l===void 0?1:l;if(i&&_u(i,a)<0){var c=-1*(A-1);a=Ri(i,c)}return o&&_u(a,o)<0&&(a=o),Ls(a)}function Khe(){var e=Mr(),t=Hhe(e),r=Mhe(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var A=Ls(o);a(A),(l=e.onMonthChange)===null||l===void 0||l.call(e,A)}};return[n,i]}function Vhe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ls(e),i=Ls(Ri(a,n)),o=_u(i,a),l=[],A=0;A<o;A++){var c=Ri(a,A);l.push(c)}return r&&(l=l.reverse()),l}function $he(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ls(e);if(!r)return Ri(l,o);var A=_u(r,e);if(!(A<i))return Ri(l,o)}}function Ghe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ls(e);if(!r)return Ri(l,-o);var A=_u(l,r);if(!(A<=0))return Ri(l,-o)}}var S6=v.createContext(void 0);function Whe(e){var t=Mr(),r=Khe(),n=r[0],a=r[1],i=Vhe(n,t),o=$he(n,t),l=Ghe(n,t),A=function(u){return i.some(function(f){return CB(u,f)})},c=function(u,f){A(u)||(f&&rL(u,f)?a(Ri(u,1+t.numberOfMonths*-1)):a(u))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:c,previousMonth:l,nextMonth:o,isDateDisplayed:A};return s.jsx(S6.Provider,{value:d,children:e.children})}function Gm(){var e=v.useContext(S6);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function PS(e){var t,r=Mr(),n=r.classNames,a=r.styles,i=r.components,o=Gm().goToMonth,l=function(d){o(Ri(d,e.displayIndex?-e.displayIndex:0))},A=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:N6,c=s.jsx(A,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:c}),s.jsx(Rhe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Lhe,{onChange:l,displayMonth:e.displayMonth})]})}function zhe(e){return s.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Xhe(e){return s.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Jg=v.forwardRef(function(e,t){var r=Mr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Ht(Ht({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Ht({},e,{ref:t,type:"button",className:o,style:l}))});function qhe(e){var t,r,n=Mr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,A=n.labels,c=A.labelPrevious,d=A.labelNext,u=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=c(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:i}),h=[o.nav_button,o.nav_button_next].join(" "),x=(t=u==null?void 0:u.IconRight)!==null&&t!==void 0?t:Xhe,y=(r=u==null?void 0:u.IconLeft)!==null&&r!==void 0?r:zhe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Jg,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Jg,{name:"next-month","aria-label":p,className:h,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function OS(e){var t=Mr().numberOfMonths,r=Gm(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(p){return CB(e.displayMonth,p)}),A=l===0,c=l===o.length-1,d=t>1&&(A||!c),u=t>1&&(c||!A),f=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(qhe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:u,nextMonth:a,previousMonth:n,onPreviousClick:f,onNextClick:m})}function Yhe(e){var t,r=Mr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,A=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:N6,c;return a?c=s.jsx(A,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?c=s.jsx(PS,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?c=s.jsxs(s.Fragment,{children:[s.jsx(PS,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(OS,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=s.jsxs(s.Fragment,{children:[s.jsx(A,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(OS,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:c})}function Jhe(e){var t=Mr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Zhe(e,t,r){for(var n=r?Fc(new Date):Li(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Qs(n,i);a.push(o)}return a}function eme(){var e=Mr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,A=e.labels.labelWeekday,c=Zhe(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),c.map(function(d,u){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":A(d,{locale:a}),children:l(d,{locale:a})},u)})]})}function tme(){var e,t=Mr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:eme;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function rme(e){var t=Mr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var ej=v.createContext(void 0);function nme(e){if(!Vm(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(ej.Provider,{value:t,children:e.children})}return s.jsx(sme,{initialProps:e.initialProps,children:e.children})}function sme(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(c,d,u){var f,m;(f=t.onDayClick)===null||f===void 0||f.call(t,c,d,u);var p=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var h=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!h){var x=n?B6([],n):[];if(d.selected){var y=x.findIndex(function(g){return sa(c,g)});x.splice(y,1)}else x.push(c);(m=t.onSelect)===null||m===void 0||m.call(t,x,c,d,u)}}},l={disabled:[]};n&&l.disabled.push(function(c){var d=i&&n.length>i-1,u=n.some(function(f){return sa(f,c)});return!!(d&&!u)});var A={selected:n,onDayClick:o,modifiers:l};return s.jsx(ej.Provider,{value:A,children:r})}function tj(){var e=v.useContext(ej);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function ame(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?sa(a,e)&&sa(n,e)?void 0:sa(a,e)?{from:a,to:void 0}:sa(n,e)?void 0:db(n,e)?{from:e,to:a}:{from:n,to:e}:a?db(e,a)?{from:a,to:e}:{from:e,to:a}:n?rL(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var rj=v.createContext(void 0);function ime(e){if(!$m(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(rj.Provider,{value:t,children:e.children})}return s.jsx(ome,{initialProps:e.initialProps,children:e.children})}function ome(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,A=t.max,c=function(m,p,h){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,m,p,h);var g=ame(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,g,m,p,h)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],sa(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Ky(i,l-1),before:Qs(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Qs(i,l-1)}),!i&&o&&d.disabled.push({after:Ky(o,l-1),before:Qs(o,l-1)})),A){if(i&&!o&&(d.disabled.push({before:Qs(i,-A+1)}),d.disabled.push({after:Qs(i,A-1)})),i&&o){var u=io(o,i)+1,f=A-u;d.disabled.push({before:Ky(i,f)}),d.disabled.push({after:Qs(o,f)})}!i&&o&&(d.disabled.push({before:Qs(o,-A+1)}),d.disabled.push({after:Qs(o,A-1)}))}return s.jsx(rj.Provider,{value:{selected:n,onDayClick:c,modifiers:d},children:r})}function nj(){var e=v.useContext(rj);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ep(e){return Array.isArray(e)?B6([],e):e!==void 0?[e]:[]}function lme(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Ep(a)}),t}var Mi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Mi||(Mi={}));var Ame=Mi.Selected,Uo=Mi.Disabled,cme=Mi.Hidden,dme=Mi.Today,rw=Mi.RangeEnd,nw=Mi.RangeMiddle,sw=Mi.RangeStart,ume=Mi.Outside;function fme(e,t,r){var n,a=(n={},n[Ame]=Ep(e.selected),n[Uo]=Ep(e.disabled),n[cme]=Ep(e.hidden),n[dme]=[e.today],n[rw]=[],n[nw]=[],n[sw]=[],n[ume]=[],n);return e.fromDate&&a[Uo].push({before:e.fromDate}),e.toDate&&a[Uo].push({after:e.toDate}),Vm(e)?a[Uo]=a[Uo].concat(t.modifiers[Uo]):$m(e)&&(a[Uo]=a[Uo].concat(r.modifiers[Uo]),a[sw]=r.modifiers[sw],a[nw]=r.modifiers[nw],a[rw]=r.modifiers[rw]),a}var F6=v.createContext(void 0);function hme(e){var t=Mr(),r=tj(),n=nj(),a=fme(t,r,n),i=lme(t.modifiers),o=Ht(Ht({},a),i);return s.jsx(F6.Provider,{value:o,children:e.children})}function T6(){var e=v.useContext(F6);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function mme(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function pme(e){return!!(e&&typeof e=="object"&&"from"in e)}function gme(e){return!!(e&&typeof e=="object"&&"after"in e)}function xme(e){return!!(e&&typeof e=="object"&&"before"in e)}function vme(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function yme(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=io(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=io(e,n)>=0&&io(a,e)>=0;return o}return a?sa(a,e):n?sa(n,e):!1}function wme(e){return wB(e)}function bme(e){return Array.isArray(e)&&e.every(wB)}function Cme(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(wme(r))return sa(e,r);if(bme(r))return r.includes(e);if(pme(r))return yme(e,r);if(vme(r))return r.dayOfWeek.includes(e.getDay());if(mme(r)){var n=io(r.before,e),a=io(r.after,e),i=n>0,o=a<0,l=db(r.before,r.after);return l?o&&i:i||o}return gme(r)?io(e,r.after)>0:xme(r)?io(r.before,e)>0:typeof r=="function"?r(e):!1})}function sj(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Cme(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!CB(e,r)&&(a.outside=!0),a}function Bme(e,t){for(var r=Ls(e[0]),n=Im(e[e.length-1]),a,i,o=r;o<=n;){var l=sj(o,t),A=!l.disabled&&!l.hidden;if(!A){o=Qs(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Qs(o,1)}return i||a}var jme=365;function _6(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,A=a.weekStartsOn,c=a.fromDate,d=a.toDate,u=a.locale,f={day:Qs,week:cb,month:Ri,year:$re,startOfWeek:function(x){return a.ISOWeek?Fc(x):Li(x,{locale:u,weekStartsOn:A})},endOfWeek:function(x){return a.ISOWeek?qR(x):lv(x,{locale:u,weekStartsOn:A})}},m=f[r](e,n==="after"?1:-1);n==="before"&&c?m=Gre([c,m]):n==="after"&&d&&(m=Wre([d,m]));var p=!0;if(i){var h=sj(m,i);p=!h.disabled&&!h.hidden}return p?m:l.count>jme?l.lastFocused:_6(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Ht(Ht({},l),{count:l.count+1})})}var k6=v.createContext(void 0);function Nme(e){var t=Gm(),r=T6(),n=v.useState(),a=n[0],i=n[1],o=v.useState(),l=o[0],A=o[1],c=Bme(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:c,u=function(){A(a),i(void 0)},f=function(x){i(x)},m=Mr(),p=function(x,y){if(a){var g=_6(a,{moveBy:x,direction:y,context:m,modifiers:r});sa(a,g)||(t.goToDate(g,a),f(g))}},h={focusedDay:a,focusTarget:d,blur:u,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return s.jsx(k6.Provider,{value:h,children:e.children})}function aj(){var e=v.useContext(k6);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Eme(e,t){var r=T6(),n=sj(e,r,t);return n}var ij=v.createContext(void 0);function Sme(e){if(!jv(e.initialProps)){var t={selected:void 0};return s.jsx(ij.Provider,{value:t,children:e.children})}return s.jsx(Fme,{initialProps:e.initialProps,children:e.children})}function Fme(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var A,c,d;if((A=t.onDayClick)===null||A===void 0||A.call(t,i,o,l),o.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(ij.Provider,{value:a,children:r})}function I6(){var e=v.useContext(ij);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Tme(e,t){var r=Mr(),n=I6(),a=tj(),i=nj(),o=aj(),l=o.focusDayAfter,A=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,u=o.blur,f=o.focus,m=o.focusMonthBefore,p=o.focusMonthAfter,h=o.focusYearBefore,x=o.focusYearAfter,y=o.focusStartOfWeek,g=o.focusEndOfWeek,w=function(ne){var H,J,de,se;jv(r)?(H=n.onDayClick)===null||H===void 0||H.call(n,e,t,ne):Vm(r)?(J=a.onDayClick)===null||J===void 0||J.call(a,e,t,ne):$m(r)?(de=i.onDayClick)===null||de===void 0||de.call(i,e,t,ne):(se=r.onDayClick)===null||se===void 0||se.call(r,e,t,ne)},b=function(ne){var H;f(e),(H=r.onDayFocus)===null||H===void 0||H.call(r,e,t,ne)},C=function(ne){var H;u(),(H=r.onDayBlur)===null||H===void 0||H.call(r,e,t,ne)},N=function(ne){var H;(H=r.onDayMouseEnter)===null||H===void 0||H.call(r,e,t,ne)},B=function(ne){var H;(H=r.onDayMouseLeave)===null||H===void 0||H.call(r,e,t,ne)},F=function(ne){var H;(H=r.onDayPointerEnter)===null||H===void 0||H.call(r,e,t,ne)},E=function(ne){var H;(H=r.onDayPointerLeave)===null||H===void 0||H.call(r,e,t,ne)},U=function(ne){var H;(H=r.onDayTouchCancel)===null||H===void 0||H.call(r,e,t,ne)},P=function(ne){var H;(H=r.onDayTouchEnd)===null||H===void 0||H.call(r,e,t,ne)},O=function(ne){var H;(H=r.onDayTouchMove)===null||H===void 0||H.call(r,e,t,ne)},X=function(ne){var H;(H=r.onDayTouchStart)===null||H===void 0||H.call(r,e,t,ne)},ae=function(ne){var H;(H=r.onDayKeyUp)===null||H===void 0||H.call(r,e,t,ne)},he=function(ne){var H;switch(ne.key){case"ArrowLeft":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?l():A();break;case"ArrowRight":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?A():l();break;case"ArrowDown":ne.preventDefault(),ne.stopPropagation(),c();break;case"ArrowUp":ne.preventDefault(),ne.stopPropagation(),d();break;case"PageUp":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?h():m();break;case"PageDown":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?x():p();break;case"Home":ne.preventDefault(),ne.stopPropagation(),y();break;case"End":ne.preventDefault(),ne.stopPropagation(),g();break}(H=r.onDayKeyDown)===null||H===void 0||H.call(r,e,t,ne)},q={onClick:w,onFocus:b,onBlur:C,onKeyDown:he,onKeyUp:ae,onMouseEnter:N,onMouseLeave:B,onPointerEnter:F,onPointerLeave:E,onTouchCancel:U,onTouchEnd:P,onTouchMove:O,onTouchStart:X};return q}function _me(){var e=Mr(),t=I6(),r=tj(),n=nj(),a=jv(e)?t.selected:Vm(e)?r.selected:$m(e)?n.selected:void 0;return a}function kme(e){return Object.values(Mi).includes(e)}function Ime(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(kme(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Ume(e,t){var r=Ht({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ht(Ht({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Qme(e,t,r){var n,a,i,o=Mr(),l=aj(),A=Eme(e,t),c=Tme(e,A),d=_me(),u=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var N;A.outside||l.focusedDay&&u&&sa(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,u,A.outside]);var f=Ime(o,A).join(" "),m=Ume(o,A),p=!!(A.outside&&!o.showOutsideDays||A.hidden),h=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:rme,x=s.jsx(h,{date:e,displayMonth:t,activeModifiers:A}),y={style:m,className:f,children:x,role:"gridcell"},g=l.focusTarget&&sa(l.focusTarget,e)&&!A.outside,w=l.focusedDay&&sa(l.focusedDay,e),b=Ht(Ht(Ht({},y),(n={disabled:A.disabled,role:"gridcell"},n["aria-selected"]=A.selected,n.tabIndex=w||g?0:-1,n)),c),C={isButton:u,isHidden:p,activeModifiers:A,selectedDays:d,buttonProps:b,divProps:y};return C}function Dme(e){var t=v.useRef(null),r=Qme(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Jg,Ht({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ht({},r.divProps))}function Pme(e){var t=e.number,r=e.dates,n=Mr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,A=n.labels.labelWeekNumber,c=n.formatters.formatWeekNumber,d=c(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var u=A(Number(t),{locale:l}),f=function(m){a(t,r,m)};return s.jsx(Jg,{name:"week-number","aria-label":u,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function Ome(e){var t,r,n=Mr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,A=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Dme,c=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Pme,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(c,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(u){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(A,{displayMonth:e.displayMonth,date:u})},ese(u))})]})}function RS(e,t,r){for(var n=r!=null&&r.ISOWeek?qR(t):lv(t,r),a=r!=null&&r.ISOWeek?Fc(e):Li(e,r),i=io(n,a),o=[],l=0;l<=i;l++)o.push(Qs(a,l));var A=o.reduce(function(c,d){var u=r!=null&&r.ISOWeek?YR(d):ZR(d,r),f=c.find(function(m){return m.weekNumber===u});return f?(f.dates.push(d),c):(c.push({weekNumber:u,dates:[d]}),c)},[]);return A}function Rme(e,t){var r=RS(Ls(e),Im(e),t);if(t!=null&&t.useFixedWeeks){var n=rse(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=cb(i,6-n),l=RS(cb(i,1),o,t);r.push.apply(r,l)}}return r}function Lme(e){var t,r,n,a=Mr(),i=a.locale,o=a.classNames,l=a.styles,A=a.hideHead,c=a.fixedWeeks,d=a.components,u=a.weekStartsOn,f=a.firstWeekContainsDate,m=a.ISOWeek,p=Rme(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:m,locale:i,weekStartsOn:u,firstWeekContainsDate:f}),h=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:tme,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Ome,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Jhe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!A&&s.jsx(h,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(g){return s.jsx(x,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function Mme(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Hme=Mme()?v.useLayoutEffect:v.useEffect,aw=!1,Kme=0;function LS(){return"react-day-picker-".concat(++Kme)}function Vme(e){var t,r=e??(aw?LS():null),n=v.useState(r),a=n[0],i=n[1];return Hme(function(){a===null&&i(LS())},[]),v.useEffect(function(){aw===!1&&(aw=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function $me(e){var t,r,n=Mr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,A=Gm().displayMonths,c=Vme(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,u=[i.month],f=o.month,m=e.displayIndex===0,p=e.displayIndex===A.length-1,h=!m&&!p;a==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(u.push(i.caption_start),f=Ht(Ht({},f),o.caption_start)),p&&(u.push(i.caption_end),f=Ht(Ht({},f),o.caption_end)),h&&(u.push(i.caption_between),f=Ht(Ht({},f),o.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Yhe;return s.jsxs("div",{className:u.join(" "),style:f,children:[s.jsx(x,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Lme,{id:d,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function Gme(e){var t=Mr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function Wme(e){var t,r,n=e.initialProps,a=Mr(),i=aj(),o=Gm(),l=v.useState(!1),A=l[0],c=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(A||(i.focus(i.focusTarget),c(!0)))},[a.initialFocus,A,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var u=Ht(Ht({},a.styles.root),a.style),f=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,h){var x;return Ht(Ht({},p),(x={},x[h]=n[h],x))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Gme;return s.jsx("div",Ht({className:d.join(" "),style:u,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:s.jsx(m,{children:o.displayMonths.map(function(p,h){return s.jsx($me,{displayIndex:h,displayMonth:p},h)})})}))}function zme(e){var t=e.children,r=xhe(e,["children"]);return s.jsx(Phe,{initialProps:r,children:s.jsx(Whe,{children:s.jsx(Sme,{initialProps:r,children:s.jsx(nme,{initialProps:r,children:s.jsx(ime,{initialProps:r,children:s.jsx(hme,{children:s.jsx(Nme,{children:t})})})})})})})}function Xme(e){return s.jsx(zme,Ht({},e,{children:s.jsx(Wme,{initialProps:e})}))}function U6({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Xme,{showOutsideDays:r,className:De("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:De(Uh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:De(Uh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(sQ,{className:De("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(SC,{className:De("h-4 w-4",a),...i})},...n})}U6.displayName="Calendar";var Nv="Popover",[Q6,ipe]=Ws(Nv,[EA]),Wm=EA(),[qme,_A]=Q6(Nv),D6=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Wm(t),A=v.useRef(null),[c,d]=v.useState(!1),[u,f]=Qi({prop:n,defaultProp:a??!1,onChange:i,caller:Nv});return s.jsx(Ex,{...l,children:s.jsx(qme,{scope:t,contentId:ti(),triggerRef:A,open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:c,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:r})})};D6.displayName=Nv;var P6="PopoverAnchor",Yme=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_A(P6,r),i=Wm(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(wm,{...i,...n,ref:t})});Yme.displayName=P6;var O6="PopoverTrigger",R6=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_A(O6,r),i=Wm(r),o=cr(t,a.triggerRef),l=s.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":V6(a.open),...n,ref:o,onClick:nt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(wm,{asChild:!0,...i,children:l})});R6.displayName=O6;var oj="PopoverPortal",[Jme,Zme]=Q6(oj,{forceMount:void 0}),L6=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=_A(oj,t);return s.jsx(Jme,{scope:t,forceMount:r,children:s.jsx(pa,{present:r||i.open,children:s.jsx(Hu,{asChild:!0,container:a,children:n})})})};L6.displayName=oj;var Qu="PopoverContent",M6=v.forwardRef((e,t)=>{const r=Zme(Qu,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=_A(Qu,e.__scopePopover);return s.jsx(pa,{present:n||i.open,children:i.modal?s.jsx(t0e,{...a,ref:t}):s.jsx(r0e,{...a,ref:t})})});M6.displayName=Qu;var e0e=dA("PopoverContent.RemoveScroll"),t0e=v.forwardRef((e,t)=>{const r=_A(Qu,e.__scopePopover),n=v.useRef(null),a=cr(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return Qx(o)},[]),s.jsx(Cm,{as:e0e,allowPinchZoom:!0,children:s.jsx(H6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,A=l.button===0&&l.ctrlKey===!0,c=l.button===2||A;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:nt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),r0e=v.forwardRef((e,t)=>{const r=_A(Qu,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(H6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var A,c;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),H6=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:A,onFocusOutside:c,onInteractOutside:d,...u}=e,f=_A(Qu,r),m=Wm(r);return Ix(),s.jsx(bm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:A,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Sx,{"data-state":V6(f.open),role:"dialog",id:f.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),K6="PopoverClose",n0e=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_A(K6,r);return s.jsx(kt.button,{type:"button",...n,ref:t,onClick:nt(e.onClick,()=>a.onOpenChange(!1))})});n0e.displayName=K6;var s0e="PopoverArrow",a0e=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Wm(r);return s.jsx(Fx,{...a,...n,ref:t})});a0e.displayName=s0e;function V6(e){return e?"open":"closed"}var i0e=D6,o0e=R6,l0e=L6,$6=M6;const A0e=i0e,c0e=o0e,G6=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(l0e,{children:s.jsx($6,{ref:a,align:t,sideOffset:r,className:De("z-50 w-[calc(100vw-2rem)] max-w-xs max-h-[min(60vh,24rem)] rounded-md border bg-popover p-3 text-popover-foreground shadow-md outline-none overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin] sm:w-72 sm:p-4",e),...n})}));G6.displayName=$6.displayName;function d0e(){var J,de;const[,e]=Da(),[t,r]=cU("/teacher/:id"),[n,a]=v.useState(new Date),[i,o]=v.useState(!1),[l,A]=v.useState(!1),[c,d]=v.useState(""),[u,f]=v.useState(!1),[m,p]=v.useState(""),h=r==null?void 0:r.id;if(!t||!h)return e("/teachers"),null;const{data:x,isLoading:y}=Je({queryKey:["/api/teachers",h],queryFn:async()=>(await Ne("GET",`/api/teachers/${h}`)).json()}),{data:g=[]}=Je({queryKey:["/api/classes"],queryFn:async()=>(await Ne("GET","/api/classes")).json()}),{data:w=[]}=Je({queryKey:["/api/subjects"],queryFn:async()=>(await Ne("GET","/api/subjects")).json()}),{data:b=[]}=Je({queryKey:["/api/teachers",h,"schedule"],queryFn:async()=>(await Ne("GET",`/api/teachers/${h}/schedule`)).json(),enabled:!!h}),{data:C=[]}=Je({queryKey:["/api/teacher-attendance",h,Yr(n,"yyyy-MM")],queryFn:async()=>{const se=Yr(Ls(n),"yyyy-MM-dd"),D=Yr(Im(n),"yyyy-MM-dd");return(await Ne("GET",`/api/teacher-attendance?teacherId=${h}&startDate=${se}&endDate=${D}`)).json()},enabled:!!h}),{data:N=[],refetch:B}=Je({queryKey:["/api/teachers/available-for-replacement",h],queryFn:async()=>(await Ne("GET",`/api/teachers/available-for-replacement/${h}`)).json(),enabled:!!h&&l}),F=((J=x==null?void 0:x.classes)==null?void 0:J.map(se=>g.find(D=>D.id===se)).filter(Boolean))||[],E=((de=x==null?void 0:x.subjects)==null?void 0:de.map(se=>w.find(D=>D.id===se)).filter(Boolean))||[],U=C.filter(se=>se.status==="present").length,P=C.filter(se=>se.status==="absent").length,O=C.filter(se=>se.status!=="present"&&se.status!=="absent").length,X=C.length,ae=X>0?Math.round(U/X*100):100,he=b.reduce((se,D)=>(se[D.day]||(se[D.day]=[]),se[D.day].push(D),se),{}),q=se=>{switch(se){case"present":return s.jsx(ht,{variant:"default",className:"bg-green-100 text-green-800",children:"Present"});case"absent":return s.jsx(ht,{variant:"destructive",children:"Absent"});case"sick_leave":return s.jsx(ht,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"Sick Leave"});case"personal_leave":return s.jsx(ht,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Personal Leave"});case"medical_leave":return s.jsx(ht,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:"Medical Leave"});default:return s.jsx(ht,{variant:"outline",children:se})}},ne=async()=>{if(!(!c||!h)){f(!0),p("");try{const se=await Ne("POST","/api/teachers/replace",{originalTeacherId:h,replacementTeacherId:c,reason:"Teacher replacement through profile"});if(!se.ok){const j=await se.json();if(j.conflicts&&j.conflicts.length>0){p(`Warning: ${j.conflicts.length} scheduling conflicts detected.`);return}throw new Error(j.message||"Failed to replace teacher")}const D=await se.json();A(!1),d(""),window.location.reload()}catch(se){console.error("Error replacing teacher:",se),p(se instanceof Error?se.message:"Failed to replace teacher")}finally{f(!1)}}},H=se=>se.status==="left_school"?s.jsx(ht,{variant:"destructive",className:"ml-2",children:"Left School"}):se.status==="on_leave"?s.jsx(ht,{variant:"secondary",className:"ml-2",children:"On Leave"}):se.isActive?s.jsx(ht,{variant:"default",className:"ml-2 bg-green-100 text-green-800",children:"Active"}):s.jsx(ht,{variant:"outline",className:"ml-2",children:"Inactive"});return y?s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(Kt,{className:"h-8 w-64"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(Kt,{className:"h-64"}),s.jsx(Kt,{className:"h-64"}),s.jsx(Kt,{className:"h-64"})]})]}):x?s.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>e("/teachers"),className:"h-11 w-11 p-0 hover:bg-gray-100","aria-label":"Back to Teachers",children:s.jsx(ac,{className:"h-5 w-5","aria-hidden":"true"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"relative",children:x.profilePictureUrl?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x.profilePictureUrl,alt:`${x.name}'s profile`,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200",onError:se=>{se.target.style.display="none";const D=se.currentTarget.nextElementSibling;D&&(D.style.display="flex")}}),s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 border-2 border-gray-200 flex items-center justify-center absolute top-0 left-0",style:{display:"none"},children:s.jsx(wr,{className:"w-8 h-8 text-gray-400"})})]}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 border-2 border-gray-200 flex items-center justify-center",children:s.jsx(wr,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:x.name}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Teacher Profile & Details"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[H(x),s.jsxs(qt,{open:l,onOpenChange:A,children:[s.jsx(so,{asChild:!0,children:s.jsxs(oe,{variant:"destructive",size:"sm",className:"flex items-center space-x-2",onClick:()=>{d(""),p(""),B()},children:[s.jsx(vu,{className:"h-4 w-4"}),s.jsx("span",{children:"Replace Teacher"})]})}),s.jsxs(er,{className:"sm:max-w-md",children:[s.jsxs(sr,{children:[s.jsxs(ar,{className:"flex items-center space-x-2",children:[s.jsx(vu,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{children:"Replace Teacher"})]}),s.jsxs(Or,{children:["Select a replacement teacher for ",x.name,". This will transfer all their timetable assignments."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Replacement Teacher"}),s.jsxs(Yt,{value:c,onValueChange:d,children:[s.jsx(Wt,{className:"w-full",children:s.jsx(Jt,{placeholder:"Select a replacement teacher"})}),s.jsx(zt,{children:N.map(se=>s.jsx($e,{value:se.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:se.name}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",se.email,")"]})]})},se.id))})]})]}),m&&s.jsxs(bu,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(Ci,{className:"h-4 w-4 text-yellow-600"}),s.jsx(Cu,{className:"text-yellow-800",children:m})]}),s.jsxs("div",{className:"flex space-x-2 justify-end",children:[s.jsx(oe,{variant:"outline",onClick:()=>{A(!1),d(""),p("")},children:"Cancel"}),s.jsx(oe,{onClick:ne,disabled:!c||u,className:"bg-red-600 hover:bg-red-700",children:u?"Replacing...":"Replace Teacher"})]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-5 w-5"}),s.jsx("span",{children:"Personal Information"})]})}),s.jsxs(Pe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ao,{className:"h-4 w-4 text-muted-foreground mt-0.5","aria-hidden":"true"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground break-words",children:x.email})]})]}),x.contactNumber&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ei,{className:"h-4 w-4 text-muted-foreground mt-0.5","aria-hidden":"true"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Contact Number"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.contactNumber})]})]}),x.schoolIdNumber&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(xu,{className:"h-4 w-4 text-muted-foreground mt-0.5","aria-hidden":"true"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"School ID"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.schoolIdNumber})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ei,{className:"h-4 w-4 text-muted-foreground mt-0.5","aria-hidden":"true"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Max Daily Periods"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.maxDailyPeriods," periods/day"]})]})]})]})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(v1,{className:"h-5 w-5"}),s.jsx("span",{children:"Attendance Summary"})]})}),s.jsxs(Pe,{children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[ae,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Attendance Rate"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-center mb-1",children:s.jsx(G7,{className:"h-4 w-4 text-green-600"})}),s.jsx("div",{className:"text-lg font-semibold text-green-600",children:U}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Present"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-center mb-1",children:s.jsx(aQ,{className:"h-4 w-4 text-red-600"})}),s.jsx("div",{className:"text-lg font-semibold text-red-600",children:P}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Absent"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-center mb-1",children:s.jsx(dd,{className:"h-4 w-4 text-orange-600"})}),s.jsx("div",{className:"text-lg font-semibold text-orange-600",children:O}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On Leave"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(yr,{className:"h-5 w-5"}),s.jsx("span",{children:"Classes Taught"})]})}),s.jsx(Pe,{children:F.length>0?s.jsx("div",{className:"space-y-3",children:F.map(se=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["Class ",se==null?void 0:se.grade,se==null?void 0:se.section]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[se==null?void 0:se.studentCount," students"]})]}),s.jsx(ht,{variant:"outline",children:"Active"})]},se==null?void 0:se.id))}):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No classes assigned"})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(Pn,{className:"h-5 w-5"}),s.jsx("span",{children:"Subjects Taught"})]})}),s.jsx(Pe,{children:E.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.map(se=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:se==null?void 0:se.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Code: ",se==null?void 0:se.code]})]}),s.jsx(ht,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Subject"})]},se==null?void 0:se.id))}):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No subjects assigned"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(ns,{className:"h-5 w-5"}),s.jsx("span",{children:"Weekly Schedule"})]})}),s.jsx(Pe,{children:Object.keys(he).length>0?s.jsx("div",{className:"space-y-3",children:["monday","tuesday","wednesday","thursday","friday","saturday"].map(se=>{var D;return s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm capitalize mb-2",children:se}),s.jsx("div",{className:"space-y-1",children:((D=he[se])==null?void 0:D.map(j=>{var k;return s.jsxs("div",{className:"text-xs p-2 bg-muted/30 rounded flex justify-between",children:[s.jsxs("span",{children:["Period ",j.period]}),s.jsx("span",{children:((k=j.subject)==null?void 0:k.name)||"Subject"})]},j.id)}))||s.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"No classes"})})]},se)})}):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No schedule available"})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nQ,{className:"h-5 w-5"}),s.jsx("span",{children:"Attendance History"})]}),s.jsxs(A0e,{open:i,onOpenChange:o,children:[s.jsx(c0e,{asChild:!0,children:s.jsxs(oe,{variant:"outline",size:"sm",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),Yr(n,"MMM yyyy")]})}),s.jsx(G6,{className:"w-auto p-0",align:"end",children:s.jsx(U6,{mode:"single",selected:n,onSelect:se=>{se&&(a(se),o(!1))},disabled:se=>se>new Date})})]})]})}),s.jsx(Pe,{children:C.length>0?s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:C.sort((se,D)=>new Date(D.date).getTime()-new Date(se.date).getTime()).map(se=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:Pf(se.date,{month:"short",day:"numeric"})}),se.reason&&s.jsx("div",{className:"text-xs text-muted-foreground",children:se.reason})]}),q(se.status)]},se.id))}):s.jsxs("p",{className:"text-sm text-muted-foreground text-center py-4",children:["No attendance records for ",Yr(n,"MMMM yyyy")]})})]})]})]})]}):s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Teacher Not Found"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"The requested teacher profile could not be found."}),s.jsxs(oe,{onClick:()=>e("/teachers"),className:"mt-4",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Back to Teachers"]})]})})}const MS=["Dashboard","Academic","Administration","Reports","Communication","System"],u0e=["fas fa-tachometer-alt","fas fa-calendar-alt","fas fa-chalkboard-teacher","fas fa-users","fas fa-book","fas fa-cog","fas fa-chart-bar","fas fa-envelope","fas fa-file-alt","fas fa-graduation-cap"];function f0e(){const{toast:e}=On(),[t,r]=v.useState(!1),[n,a]=v.useState(null),[i,o]=v.useState(""),[l,A]=v.useState("admin"),[c,d]=v.useState({name:"",displayName:"",description:"",routePath:"",category:"",icon:"",sortOrder:0}),{data:u=[],isLoading:f}=Je({queryKey:["/api/system-modules"],queryFn:async()=>await(await Ne("GET","/api/system-modules")).json()}),{data:m=[]}=Je({queryKey:["/api/schools"],queryFn:async()=>await(await Ne("GET","/api/schools")).json()}),{data:p=[]}=Je({queryKey:["/api/role-permissions",i,l],queryFn:async()=>{const B=new URLSearchParams;return i&&B.append("schoolId",i),l&&B.append("role",l),await(await Ne("GET",`/api/role-permissions?${B}`)).json()},enabled:!!i&&!!l}),h=Ct({mutationFn:async B=>await(await Ne("POST","/api/system-modules",B)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/system-modules"]}),r(!1),d({name:"",displayName:"",description:"",routePath:"",category:"",icon:"",sortOrder:0}),e({title:"Success",description:"System module created successfully"})},onError:()=>{e({title:"Error",description:"Failed to create system module",variant:"destructive"})}}),x=Ct({mutationFn:async({id:B,...F})=>await(await Ne("PUT",`/api/system-modules/${B}`,F)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/system-modules"]}),a(null),e({title:"Success",description:"System module updated successfully"})}}),y=Ct({mutationFn:async({id:B,isActive:F})=>await(await Ne("PUT",`/api/system-modules/${B}`,{isActive:F})).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/system-modules"]}),e({title:"Success",description:"Module status updated successfully"})}}),g=Ct({mutationFn:async({schoolId:B,role:F,moduleId:E,permissions:U})=>{const P=p.find(O=>O.schoolId===B&&O.role===F&&O.moduleId===E);return P?await(await Ne("PUT",`/api/role-permissions/${P.id}`,{permissions:U,isActive:!0})).json():await(await Ne("POST","/api/role-permissions",{schoolId:B,role:F,moduleId:E,permissions:U,isActive:!0})).json()},onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/role-permissions"]}),e({title:"Success",description:"Permissions updated successfully"})}}),w=()=>{h.mutate(c)},b=()=>{n&&x.mutate({id:n.id,...c})},C=B=>{a(B),d({name:B.name,displayName:B.displayName,description:B.description,routePath:B.routePath,category:B.category,icon:B.icon,sortOrder:B.sortOrder})},N=(B,F,E)=>{if(!i||!l)return;const U=p.find(X=>X.schoolId===i&&X.role===l&&X.moduleId===B),O={...(U==null?void 0:U.permissions)||{read:!1,write:!1,delete:!1,export:!1},[F]:E};g.mutate({schoolId:i,role:l,moduleId:B,permissions:O})};return f?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"flex items-center justify-center min-h-64",children:s.jsx(la,{className:"h-8 w-8 animate-spin"})})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(uA,{className:"h-8 w-8"}),"System Module Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure system modules and role permissions"})]}),s.jsxs(qt,{open:t,onOpenChange:r,children:[s.jsx(so,{asChild:!0,children:s.jsxs(oe,{children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Add Module"]})}),s.jsxs(er,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Create System Module"}),s.jsx(Or,{children:"Add a new module to the system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"name",children:"Module Name"}),s.jsx(Fe,{id:"name",value:c.name,onChange:B=>d(F=>({...F,name:B.target.value})),placeholder:"e.g., user_management"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"displayName",children:"Display Name"}),s.jsx(Fe,{id:"displayName",value:c.displayName,onChange:B=>d(F=>({...F,displayName:B.target.value})),placeholder:"e.g., User Management"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"description",children:"Description"}),s.jsx(Co,{id:"description",value:c.description,onChange:B=>d(F=>({...F,description:B.target.value})),placeholder:"Module description"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"routePath",children:"Route Path"}),s.jsx(Fe,{id:"routePath",value:c.routePath,onChange:B=>d(F=>({...F,routePath:B.target.value})),placeholder:"/users"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"category",children:"Category"}),s.jsxs(Yt,{value:c.category,onValueChange:B=>d(F=>({...F,category:B})),children:[s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select category"})}),s.jsx(zt,{children:MS.map(B=>s.jsx($e,{value:B,children:B},B))})]})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"icon",children:"Icon"}),s.jsxs(Yt,{value:c.icon,onValueChange:B=>d(F=>({...F,icon:B})),children:[s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select icon"})}),s.jsx(zt,{children:u0e.map(B=>s.jsx($e,{value:B,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("i",{className:B}),B]})},B))})]})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Fe,{id:"sortOrder",type:"number",value:c.sortOrder,onChange:B=>d(F=>({...F,sortOrder:parseInt(B.target.value)||0}))})]})]}),s.jsxs(An,{children:[s.jsx(oe,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsxs(oe,{onClick:w,disabled:h.isPending,children:[h.isPending&&s.jsx(la,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Module"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-5 w-5"}),"System Modules"]}),s.jsx(ys,{children:"Manage available system modules and their configuration"})]}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:u.map(B=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("i",{className:B.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:B.displayName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:B.category})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Am,{checked:B.isActive,onCheckedChange:F=>y.mutate({id:B.id,isActive:F})}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>C(B),children:s.jsx(fA,{className:"h-4 w-4"})})]})]},B.id))})})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(bx,{className:"h-5 w-5"}),"Role Permissions"]}),s.jsx(ys,{children:"Configure what each role can access per school"})]}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"School"}),s.jsxs(Yt,{value:i,onValueChange:o,children:[s.jsx(Wt,{children:s.jsx(Jt,{placeholder:"Select school"})}),s.jsx(zt,{children:m.map(B=>s.jsx($e,{value:B.id,children:B.name},B.id))})]})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Role"}),s.jsxs(Yt,{value:l,onValueChange:A,children:[s.jsx(Wt,{children:s.jsx(Jt,{})}),s.jsxs(zt,{children:[s.jsx($e,{value:"admin",children:"School Admin"}),s.jsx($e,{value:"teacher",children:"Teacher"}),s.jsx($e,{value:"student",children:"Student"}),s.jsx($e,{value:"parent",children:"Parent"})]})]})]})]}),i&&l&&s.jsx("div",{className:"space-y-3",children:u.filter(B=>B.isActive).map(B=>{const F=p.find(E=>E.moduleId===B.id&&E.schoolId===i&&E.role===l);return s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-medium mb-2",children:B.displayName}),s.jsx("div",{className:"grid grid-cols-4 gap-2 text-sm",children:["read","write","delete","export"].map(E=>{var U;return s.jsxs("label",{className:"flex items-center gap-1",children:[s.jsx(va,{checked:((U=F==null?void 0:F.permissions)==null?void 0:U[E])||!1,onCheckedChange:P=>N(B.id,E,P)}),s.jsx("span",{className:"capitalize",children:E})]},E)})})]},B.id)})})]})})]})]}),s.jsx(qt,{open:!!n,onOpenChange:()=>a(null),children:s.jsxs(er,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Edit System Module"}),s.jsx(Or,{children:"Update module configuration"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"edit-displayName",children:"Display Name"}),s.jsx(Fe,{id:"edit-displayName",value:c.displayName,onChange:B=>d(F=>({...F,displayName:B.target.value}))})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"edit-description",children:"Description"}),s.jsx(Co,{id:"edit-description",value:c.description,onChange:B=>d(F=>({...F,description:B.target.value}))})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"edit-category",children:"Category"}),s.jsxs(Yt,{value:c.category,onValueChange:B=>d(F=>({...F,category:B})),children:[s.jsx(Wt,{children:s.jsx(Jt,{})}),s.jsx(zt,{children:MS.map(B=>s.jsx($e,{value:B,children:B},B))})]})]})]}),s.jsxs(An,{children:[s.jsx(oe,{variant:"outline",onClick:()=>a(null),children:"Cancel"}),s.jsxs(oe,{onClick:b,disabled:x.isPending,children:[x.isPending&&s.jsx(la,{className:"h-4 w-4 mr-2 animate-spin"}),"Update Module"]})]})]})})]})}function h0e(){const{toast:e}=On(),[t,r]=v.useState(!1),[n,a]=v.useState(null),[i,o]=v.useState(!1),[l,A]=v.useState({name:"",address:"",contactPhone:"",adminName:"",adminEmail:"",adminPassword:""}),{data:c,isLoading:d}=Je({queryKey:["/api/admin/dashboard-stats"],queryFn:async()=>await(await Ne("GET","/api/admin/dashboard-stats")).json()}),{data:u=[],isLoading:f}=Je({queryKey:["/api/schools"],queryFn:async()=>await(await Ne("GET","/api/schools")).json()}),m=Ct({mutationFn:async b=>await(await Ne("POST","/api/schools",b)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/schools"]}),Ee.invalidateQueries({queryKey:["/api/admin/dashboard-stats"]}),r(!1),A({name:"",address:"",contactPhone:"",adminName:"",adminEmail:"",adminPassword:""}),e({title:"Success",description:"School created successfully"})},onError:()=>{e({title:"Error",description:"Failed to create school",variant:"destructive"})}}),p=Ct({mutationFn:async({id:b,...C})=>await(await Ne("PUT",`/api/schools/${b}`,C)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/schools"]}),a(null),e({title:"Success",description:"School updated successfully"})}}),h=Ct({mutationFn:async({id:b,isActive:C})=>await(await Ne("PATCH",`/api/schools/${b}/status`,{isActive:C})).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/schools"]}),Ee.invalidateQueries({queryKey:["/api/admin/dashboard-stats"]}),e({title:"Success",description:"School status updated successfully"})}}),x=()=>{m.mutate(l)},y=()=>{n&&p.mutate({id:n.id,...l})},g=b=>{a(b),A({name:b.name,address:b.address,contactPhone:b.contactPhone,adminName:b.adminName,adminEmail:b.adminEmail||"",adminPassword:""})},w=b=>{navigator.clipboard.writeText(b),o(!0),setTimeout(()=>o(!1),2e3),e({title:"Copied",description:"Email copied to clipboard"})};return d||f?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"flex items-center justify-center min-h-64",children:s.jsx(la,{className:"h-8 w-8 animate-spin"})})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(ic,{className:"h-8 w-8"}),"Advanced School Administration"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage schools and system-wide operations"})]}),s.jsxs(qt,{open:t,onOpenChange:r,children:[s.jsx(so,{asChild:!0,children:s.jsxs(oe,{children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Add School"]})}),s.jsxs(er,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Create New School"}),s.jsx(Or,{children:"Add a new school to the system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"name",children:"School Name"}),s.jsx(Fe,{id:"name",value:l.name,onChange:b=>A(C=>({...C,name:b.target.value})),placeholder:"e.g., Delhi Public School"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"address",children:"Address"}),s.jsx(Fe,{id:"address",value:l.address,onChange:b=>A(C=>({...C,address:b.target.value})),placeholder:"School address"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"phone",children:"Contact Phone"}),s.jsx(Fe,{id:"phone",value:l.contactPhone,onChange:b=>A(C=>({...C,contactPhone:b.target.value})),placeholder:"+91 123 456 7890"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"adminName",children:"Admin Name"}),s.jsx(Fe,{id:"adminName",value:l.adminName,onChange:b=>A(C=>({...C,adminName:b.target.value})),placeholder:"School administrator name"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"adminEmail",children:"Admin Email"}),s.jsx(Fe,{id:"adminEmail",type:"email",value:l.adminEmail,onChange:b=>A(C=>({...C,adminEmail:b.target.value})),placeholder:"admin@school.com"})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"adminPassword",children:"Admin Password"}),s.jsx(Fe,{id:"adminPassword",type:"password",value:l.adminPassword,onChange:b=>A(C=>({...C,adminPassword:b.target.value})),placeholder:"Secure password"})]})]}),s.jsxs(An,{children:[s.jsx(oe,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsxs(oe,{onClick:x,disabled:m.isPending,children:[m.isPending&&s.jsx(la,{className:"h-4 w-4 mr-2 animate-spin"}),"Create School"]})]})]})]})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Total Schools"}),s.jsx(ic,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.totalSchools}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.activeSchools," active, ",c.inactiveSchools," inactive"]})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Total Teachers"}),s.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.schoolTeacherCounts.reduce((b,C)=>b+C.activeTeachers,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all active schools"})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(rt,{className:"text-sm font-medium",children:"System Status"}),s.jsx(K7,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Operational"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All systems running"})]})]})]}),s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"h-5 w-5"}),"Schools Management"]}),s.jsx(ys,{children:"Manage all schools in the system"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs(av,{children:[s.jsx(iv,{children:s.jsxs(Sc,{children:[s.jsx(ea,{children:"School Name"}),s.jsx(ea,{children:"Admin"}),s.jsx(ea,{children:"Contact"}),s.jsx(ea,{children:"Status"}),s.jsx(ea,{children:"Created"}),s.jsx(ea,{children:"Actions"})]})}),s.jsx(ov,{children:u.map(b=>s.jsxs(Sc,{children:[s.jsx(ta,{className:"font-medium",children:b.name}),s.jsx(ta,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:b.adminName}),b.adminEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{children:b.adminEmail}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>w(b.adminEmail),children:i?s.jsx(gu,{className:"h-3 w-3"}):s.jsx(VA,{className:"h-3 w-3"})})]})]})}),s.jsx(ta,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:b.contactPhone}),s.jsx("div",{className:"text-muted-foreground",children:b.address})]})}),s.jsx(ta,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ht,{variant:b.isActive?"default":"secondary",children:b.isActive?"Active":"Inactive"}),s.jsx(Am,{checked:b.isActive,onCheckedChange:C=>h.mutate({id:b.id,isActive:C})})]})}),s.jsx(ta,{children:Yr(new Date(b.createdAt),"MMM dd, yyyy")}),s.jsx(ta,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>g(b),children:s.jsx(fA,{className:"h-4 w-4"})}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>window.open(`/?schoolId=${b.id}`,"_blank"),children:s.jsx(x1,{className:"h-4 w-4"})})]})})]},b.id))})]})}),s.jsx("div",{className:"md:hidden space-y-4",children:u.map(b=>s.jsx(Qe,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-base",children:b.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.address})]}),s.jsx(ht,{variant:b.isActive?"default":"secondary",children:b.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y1,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:b.adminName})]}),b.adminEmail&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:b.adminEmail}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>w(b.adminEmail),className:"h-6 w-6 p-0",children:i?s.jsx(gu,{className:"h-3 w-3"}):s.jsx(VA,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-sm",children:b.contactPhone})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",Yr(new Date(b.createdAt),"MMM dd, yyyy")]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Am,{checked:b.isActive,onCheckedChange:C=>h.mutate({id:b.id,isActive:C})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>g(b),children:[s.jsx(fA,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.open(`/?schoolId=${b.id}`,"_blank"),children:[s.jsx(x1,{className:"h-4 w-4 mr-1"}),"View"]})]})]})]})},b.id))})]})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(y1,{className:"h-5 w-5"}),"Recent Admin Activity"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:c.schoolAdminLogins.slice(0,5).map((b,C)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:b.schoolName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:b.adminName})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:b.lastLogin?Yr(new Date(b.lastLogin),"MMM dd, HH:mm"):"Never"})]},C))})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5"}),"Teacher Distribution"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:c.schoolTeacherCounts.slice(0,5).map((b,C)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium",children:b.schoolName}),s.jsxs(ht,{variant:"outline",children:[b.activeTeachers," teachers"]})]},C))})})]})]}),s.jsx(qt,{open:!!n,onOpenChange:()=>a(null),children:s.jsxs(er,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(ar,{children:"Edit School"}),s.jsx(Or,{children:"Update school information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"edit-name",children:"School Name"}),s.jsx(Fe,{id:"edit-name",value:l.name,onChange:b=>A(C=>({...C,name:b.target.value}))})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"edit-address",children:"Address"}),s.jsx(Fe,{id:"edit-address",value:l.address,onChange:b=>A(C=>({...C,address:b.target.value}))})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"edit-phone",children:"Contact Phone"}),s.jsx(Fe,{id:"edit-phone",value:l.contactPhone,onChange:b=>A(C=>({...C,contactPhone:b.target.value}))})]}),s.jsxs("div",{children:[s.jsx(_t,{htmlFor:"edit-adminName",children:"Admin Name"}),s.jsx(Fe,{id:"edit-adminName",value:l.adminName,onChange:b=>A(C=>({...C,adminName:b.target.value}))})]})]}),s.jsxs(An,{children:[s.jsx(oe,{variant:"outline",onClick:()=>a(null),children:"Cancel"}),s.jsxs(oe,{onClick:y,disabled:p.isPending,children:[p.isPending&&s.jsx(la,{className:"h-4 w-4 mr-2 animate-spin"}),"Update School"]})]})]})})]})}function m0e(){var n,a;const{user:e}=Ns(),{data:t,isLoading:r}=Je({queryKey:["student-details",e==null?void 0:e.studentId],queryFn:async()=>await(await Ne("GET",`/api/students/${e==null?void 0:e.studentId}`)).json(),enabled:(e==null?void 0:e.role)==="student"&&!!(e!=null&&e.studentId)});return(e==null?void 0:e.role)!=="student"?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-muted-foreground",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This page is only available to students."})]})}):s.jsxs("div",{children:[s.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ss,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"View your personal information and academic details"})]})]})}),s.jsx("div",{className:"p-6 overflow-y-auto h-full bg-gray-50 dark:bg-gray-900 min-h-screen",children:s.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:r?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Qe,{className:"overflow-hidden",children:s.jsx(Pe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"h-20 w-20 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-32"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-24"})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:4}).map((i,o)=>s.jsx(Qe,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 bg-gray-100 rounded"}),s.jsx("div",{className:"h-8 bg-gray-100 rounded"})]})]})},o))})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qe,{className:"border shadow-sm bg-white dark:bg-gray-800",children:s.jsx(Pe,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[s.jsx(Jh,{className:"h-20 w-20 border-2 border-gray-200 dark:border-gray-600",children:s.jsxs(Zh,{className:"text-xl font-bold bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",children:[(n=t==null?void 0:t.firstName)==null?void 0:n[0],(a=t==null?void 0:t.lastName)==null?void 0:a[0]]})}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsxs("h1",{className:"text-2xl font-bold mb-3 text-gray-900 dark:text-gray-100","data-testid":"text-full-name",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(AQ,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Adm No."}),s.jsx("span",{className:"font-mono text-sm font-semibold","data-testid":"text-admission-number",children:(t==null?void 0:t.admissionNumber)||"Not provided"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(co,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm","data-testid":"text-class",children:t!=null&&t.class?`Class ${t.class.grade} ${t.class.section}`:"Not assigned"})]}),s.jsx(ht,{variant:(t==null?void 0:t.status)==="active"?"default":"secondary",className:"capitalize",children:(t==null?void 0:t.status)||"Unknown"})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Qe,{className:"border shadow-sm bg-white dark:bg-gray-800",children:[s.jsx(qe,{className:"pb-3",children:s.jsxs(rt,{className:"flex items-center space-x-2 text-gray-900 dark:text-gray-100",children:[s.jsx(ss,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx("span",{children:"Academic Details"})]})}),s.jsx(Pe,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xu,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Roll Number"})]}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100","data-testid":"text-roll-number",children:(t==null?void 0:t.rollNumber)||"Not assigned"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(co,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Class"})]}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100","data-testid":"text-class-detail",children:t!=null&&t.class?`${t.class.grade} ${t.class.section}`:"Not assigned"})]})]})})]}),s.jsxs(Qe,{className:"border shadow-sm bg-white dark:bg-gray-800",children:[s.jsx(qe,{className:"pb-3",children:s.jsxs(rt,{className:"flex items-center space-x-2 text-gray-900 dark:text-gray-100",children:[s.jsx(wr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx("span",{children:"Personal Details"})]})}),s.jsx(Pe,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Date of Birth"})]}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100","data-testid":"text-dob",children:t!=null&&t.dateOfBirth?new Date(t.dateOfBirth).toLocaleDateString():"Not provided"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Gender"})]}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize","data-testid":"text-gender",children:(t==null?void 0:t.gender)||"Not provided"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(HN,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Blood Group"})]}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100","data-testid":"text-blood-group",children:(t==null?void 0:t.bloodGroup)||"Not provided"})]})]})})]}),s.jsxs(Qe,{className:"border shadow-sm bg-white dark:bg-gray-800",children:[s.jsx(qe,{className:"pb-3",children:s.jsxs(rt,{className:"flex items-center space-x-2 text-gray-900 dark:text-gray-100",children:[s.jsx(ei,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx("span",{children:"Contact Information"})]})}),s.jsx(Pe,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ao,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Email Address"})]}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-mono ml-6","data-testid":"text-email",children:(t==null?void 0:t.email)||"Not provided"})]}),s.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ei,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Contact Number"})]}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-mono ml-6","data-testid":"text-contact",children:(t==null?void 0:t.contactNumber)||"Not provided"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ei,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Emergency Contact"})]}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-mono ml-6","data-testid":"text-emergency-contact",children:(t==null?void 0:t.emergencyContact)||"Not provided"})]})]})})]}),s.jsxs(Qe,{className:"border shadow-sm bg-white dark:bg-gray-800",children:[s.jsx(qe,{className:"pb-3",children:s.jsxs(rt,{className:"flex items-center space-x-2 text-gray-900 dark:text-gray-100",children:[s.jsx(vc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx("span",{children:"Address & Guardian"})]})}),s.jsxs(Pe,{className:"pt-0",children:[(t==null?void 0:t.address)&&s.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(vc,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Home Address"})]}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 ml-6","data-testid":"text-address",children:t.address})]}),((t==null?void 0:t.guardianName)||(t==null?void 0:t.guardianContact))&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(yr,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Guardian Information"})]}),(t==null?void 0:t.guardianName)&&s.jsxs("div",{className:"ml-6 pb-2 border-b border-gray-100 dark:border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Guardian Name"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100","data-testid":"text-guardian-name",children:t.guardianName})]}),(t==null?void 0:t.guardianRelation)&&s.jsxs("div",{className:"ml-6 pb-2 border-b border-gray-100 dark:border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Relation"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 capitalize","data-testid":"text-guardian-relation",children:t.guardianRelation})]}),(t==null?void 0:t.guardianContact)&&s.jsxs("div",{className:"ml-6",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Contact"}),s.jsx("p",{className:"text-sm font-mono font-semibold text-gray-900 dark:text-gray-100","data-testid":"text-guardian-contact",children:t.guardianContact})]})]})]})]})]}),(t==null?void 0:t.medicalInfo)&&s.jsxs(Qe,{className:"border shadow-sm bg-white dark:bg-gray-800",children:[s.jsx(qe,{className:"pb-3",children:s.jsxs(rt,{className:"flex items-center space-x-2 text-gray-900 dark:text-gray-100",children:[s.jsx(HN,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),s.jsx("span",{children:"Medical Information"})]})}),s.jsx(Pe,{className:"pt-0",children:s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-800 dark:text-red-200","data-testid":"text-medical-info",children:t.medicalInfo})})})]}),s.jsx(Qe,{className:"border shadow-sm bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-800 rounded-full flex-shrink-0",children:s.jsx(wr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1 text-sm",children:"Profile Management"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-200",children:"Your profile information is managed by your school administration. If you need to update any details, please contact your school office."})]})]})})})]})})})]})}function p0e(){var h,x,y,g,w,b,C,N,B,F,E,U;const{user:e}=Ns(),{data:t,isLoading:r}=Je({queryKey:["student-details",e==null?void 0:e.studentId],queryFn:async()=>await(await Ne("GET",`/api/students/${e==null?void 0:e.studentId}`)).json(),enabled:(e==null?void 0:e.role)==="student"&&!!(e!=null&&e.studentId)}),{data:n,isLoading:a}=Je({queryKey:["/api/classes",(h=t==null?void 0:t.class)==null?void 0:h.id],enabled:!!((x=t==null?void 0:t.class)!=null&&x.id)}),{data:i,isLoading:o}=Je({queryKey:["class-students",(y=t==null?void 0:t.class)==null?void 0:y.id],queryFn:async()=>{var O;return await(await Ne("GET",`/api/classes/${(O=t==null?void 0:t.class)==null?void 0:O.id}/students`)).json()},enabled:!!((g=t==null?void 0:t.class)!=null&&g.id)}),{data:l=[],isLoading:A}=Je({queryKey:["/api/class-subject-assignments",(w=t==null?void 0:t.class)==null?void 0:w.id],queryFn:async()=>{var O;return(await Ne("GET",`/api/class-subject-assignments?classId=${(O=t==null?void 0:t.class)==null?void 0:O.id}`)).json()},enabled:!!((b=t==null?void 0:t.class)!=null&&b.id)}),{data:c=[],isLoading:d}=Je({queryKey:["/api/classes",(C=t==null?void 0:t.class)==null?void 0:C.id,"teachers"],queryFn:async()=>{var O;return(await Ne("GET",`/api/classes/${(O=t==null?void 0:t.class)==null?void 0:O.id}/teachers`)).json()},enabled:!!((N=t==null?void 0:t.class)!=null&&N.id)}),{data:u=[],isLoading:f}=Je({queryKey:["/api/timetable/detailed",(B=t==null?void 0:t.class)==null?void 0:B.id,"class"],queryFn:async()=>{var X;const P=new URLSearchParams({classId:((X=t==null?void 0:t.class)==null?void 0:X.id)||""});return(await Ne("GET",`/api/timetable/detailed?${P.toString()}`)).json()},enabled:!!((F=t==null?void 0:t.class)!=null&&F.id),staleTime:0});if((e==null?void 0:e.role)!=="student")return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-muted-foreground",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This page is only available to students."})]})});const m=l.filter(P=>P.assignedTeacher).map(P=>P.assignedTeacher).filter((P,O,X)=>P&&X.findIndex(ae=>(ae==null?void 0:ae.id)===P.id)===O),p=Array.from(new Set(u.map(P=>{var O;return(O=P.subject)==null?void 0:O.name}).filter(Boolean)));return s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"flex items-center space-x-6",children:s.jsxs("div",{className:"flex flex-col",children:[r?s.jsx(Kt,{className:"h-7 w-48"}):s.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"class-name",children:t!=null&&t.class?`Class ${t.class.grade} ${t.class.section}`:"My Class"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your class overview, classmates, and timetable"})]})})}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Qe,{className:"h-fit",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Students"}),s.jsx(yr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[o?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold","data-testid":"student-count",children:(i==null?void 0:i.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total classmates"})]})]}),s.jsxs(Qe,{className:"h-fit",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Teachers"}),s.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[A?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold","data-testid":"teacher-count",children:m.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Teaching subjects"})]})]}),s.jsxs(Qe,{className:"h-fit",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Subjects"}),s.jsx(Pn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[f?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold","data-testid":"subject-count",children:p.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total subjects"})]})]}),s.jsxs(Qe,{className:"h-fit",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-4 pt-3",children:[s.jsx(rt,{className:"text-sm font-medium",children:"Room"}),s.jsx(vc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{className:"px-4 pb-3 pt-1",children:[a?s.jsx(Kt,{className:"h-6 w-12"}):s.jsx("div",{className:"text-xl font-bold","data-testid":"class-room",children:(n==null?void 0:n.room)||((E=t==null?void 0:t.class)==null?void 0:E.room)||"Not set"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Class location"})]})]})]}),s.jsxs(Km,{defaultValue:"feed",className:"w-full",children:[s.jsxs(tf,{className:"grid w-full grid-cols-2",children:[s.jsxs(ni,{value:"feed",className:"flex items-center space-x-2",children:[s.jsx(FC,{className:"h-4 w-4"}),s.jsx("span",{children:"Class Feed"})]}),s.jsxs(ni,{value:"info",className:"flex items-center space-x-2",children:[s.jsx(co,{className:"h-4 w-4"}),s.jsx("span",{children:"Class Info"})]})]}),s.jsx(si,{value:"feed",className:"space-y-6 mt-6",children:s.jsx(_B,{feedScope:"class",classId:(U=t==null?void 0:t.class)==null?void 0:U.id})}),s.jsxs(si,{value:"info",className:"space-y-6 mt-6",children:[s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(Th,{className:"h-5 w-5"}),s.jsx("span",{children:"My Classmates"})]})}),s.jsx(Pe,{children:o?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((P,O)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Kt,{className:"h-8 w-8 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Kt,{className:"h-4 w-24 mb-1"}),s.jsx(Kt,{className:"h-3 w-16"})]})]},O))}):(i==null?void 0:i.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yr,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No classmates found"})]}):s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:i==null?void 0:i.map(P=>{var O,X;return s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${P.id===(e==null?void 0:e.studentId)?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,"data-testid":`student-${P.id}`,children:[s.jsx(Jh,{className:"h-8 w-8 border border-gray-200 dark:border-gray-600",children:s.jsxs(Zh,{className:"text-xs font-bold bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[(O=P.firstName)==null?void 0:O[0],(X=P.lastName)==null?void 0:X[0]]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100","data-testid":`text-student-name-${P.id}`,children:[P.firstName," ",P.lastName,P.id===(e==null?void 0:e.studentId)&&s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-normal ml-1",children:"(You)"})]}),s.jsx(ht,{variant:P.status==="active"?"default":"secondary",className:"text-xs",children:P.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(AQ,{className:"h-3 w-3"}),s.jsxs("span",{children:["Roll: ",P.rollNumber||"N/A"]})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{children:["Adm: ",P.admissionNumber||"N/A"]})})]})]})]},P.id)})})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(Pn,{className:"h-5 w-5"}),s.jsx("span",{children:"Class Subjects"})]})}),s.jsx(Pe,{children:A?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((P,O)=>s.jsx(Kt,{className:"h-16 w-full"},O))}):l.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pn,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No subjects assigned"}),s.jsx("p",{className:"text-muted-foreground",children:"This class doesn't have any subjects assigned yet."})]}):s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:l.map(P=>{var O,X,ae;return s.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsxs(ht,{variant:"secondary",className:"text-sm px-2 py-1","data-testid":`subject-${P.id}`,children:[s.jsx("span",{style:{color:((O=P.subject)==null?void 0:O.color)||"#3B82F6"},children:((X=P.subject)==null?void 0:X.name)||"Unknown Subject"}),s.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",((ae=P.subject)==null?void 0:ae.code)||"N/A",")"]})]})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Ei,{className:"h-3 w-3"}),P.weeklyFrequency," periods/week"]}),P.assignedTeacher&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(wr,{className:"h-3 w-3"}),P.assignedTeacher.name]})]})]})},P.id)})})})]}),s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"h-5 w-5"}),s.jsx("span",{children:"Class Teachers"})]})}),s.jsx(Pe,{children:d?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:2}).map((P,O)=>s.jsx(Kt,{className:"h-20 w-full"},O))}):c.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ss,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No class teachers assigned"}),s.jsx("p",{className:"text-muted-foreground",children:"This class doesn't have any class teachers assigned yet."})]}):s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:c.map(P=>s.jsx("div",{className:"p-4 border rounded-lg bg-muted/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Jh,{className:"h-10 w-10",children:s.jsx(Zh,{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",children:P.teacherName.split(" ").map(O=>O[0]).join("")})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm",children:P.teacherName}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx(ht,{variant:P.role==="primary"?"default":"secondary",className:"text-xs",children:P.role==="primary"?"Primary Teacher":"Co-Class Teacher"})}),P.teacherEmail&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[s.jsx(Ao,{className:"h-3 w-3"}),P.teacherEmail]})]})]})},P.id))})})]})]})]})]})}function g0e(){const{user:e}=Ns(),[t,r]=v.useState(Yr(new Date,"yyyy-MM-dd")),[n,a]=v.useState(""),[i,o]=v.useState("teachers"),[l,A]=v.useState(null),[c,d]=v.useState(""),[u,f]=v.useState(""),m=j=>!j||j.length===0?"None assigned":j.map(M=>{const S=y.find(_=>_.id===M);return S?`Class ${S.grade}${S.section?"-"+S.section:""}`:M}).join(", "),p=j=>!j||j.length===0?"None assigned":j.map(M=>{const S=w.find(_=>_.id===M);return S?S.name:M}).join(", "),{data:h=[],isLoading:x}=Je({queryKey:["/api/teachers"],enabled:(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"}),{data:y=[],isLoading:g}=Je({queryKey:["/api/classes"],enabled:(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"}),{data:w=[],isLoading:b}=Je({queryKey:["/api/subjects"],enabled:(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"}),{data:C=[],isLoading:N,error:B}=Je({queryKey:["/api/students",n],queryFn:async()=>{const j=localStorage.getItem("authToken"),k={};j&&(k.Authorization=`Bearer ${j}`);const M=await fetch(`/api/students?classId=${n}`,{headers:k,credentials:"include"});if(!M.ok)throw new Error(`Failed to fetch students: ${M.status}`);const S=await M.json();return Array.isArray(S)?S:[]},enabled:!!n&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin")}),{data:F=[],isLoading:E}=Je({queryKey:["/api/teacher-attendance",t],queryFn:async()=>{const j=localStorage.getItem("authToken"),k={};j&&(k.Authorization=`Bearer ${j}`);const M=await fetch(`/api/teacher-attendance?date=${t}`,{headers:k,credentials:"include"});if(!M.ok)throw new Error(`Failed to fetch teacher attendance: ${M.status}`);return M.json()},enabled:(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"}),{data:U=[],isLoading:P,error:O}=Je({queryKey:["/api/student-attendance",n,t],queryFn:async()=>{const j=localStorage.getItem("authToken"),k={};j&&(k.Authorization=`Bearer ${j}`);const M=await fetch(`/api/student-attendance?classId=${n}&date=${t}`,{headers:k,credentials:"include"});if(!M.ok)throw new Error(`Failed to fetch student attendance: ${M.status}`);const S=await M.json();return Array.isArray(S)?S:[]},enabled:!!n&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin")}),X=Ct({mutationFn:async j=>{const k=localStorage.getItem("authToken"),M={"Content-Type":"application/json"};k&&(M.Authorization=`Bearer ${k}`);const S=await fetch("/api/teacher-attendance",{method:"POST",headers:M,credentials:"include",body:JSON.stringify({teacherId:j.teacherId,attendanceDate:t,status:j.status,reason:j.reason})});if(!S.ok){const _=await S.json().catch(()=>({}));throw new Error(_.message||"Failed to mark teacher attendance")}return S.json()},onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/teacher-attendance"]}),Do({title:"Success",description:"Teacher attendance marked successfully"})},onError:j=>{Do({title:"Error",description:j.message||"Failed to mark teacher attendance",variant:"destructive"}),console.error("Error marking teacher attendance:",j)}}),ae=Ct({mutationFn:async j=>{const k=localStorage.getItem("authToken"),M={"Content-Type":"application/json"};k&&(M.Authorization=`Bearer ${k}`);const S=await fetch("/api/student-attendance",{method:"POST",headers:M,credentials:"include",body:JSON.stringify({studentId:j.studentId,classId:n,attendanceDate:t,status:j.status,reason:j.reason})});if(!S.ok){const _=await S.json().catch(()=>({}));throw new Error(_.message||"Failed to mark student attendance")}return S.json()},onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/student-attendance"]}),Do({title:"Success",description:"Student attendance marked successfully"})},onError:j=>{Do({title:"Error",description:j.message||"Failed to mark student attendance",variant:"destructive"}),console.error("Error marking student attendance:",j)}}),he=Ct({mutationFn:async()=>{const j=localStorage.getItem("authToken"),k={"Content-Type":"application/json"};j&&(k.Authorization=`Bearer ${j}`);const M=await fetch("/api/teacher-attendance/mark-all-present",{method:"POST",headers:k,credentials:"include",body:JSON.stringify({date:t})});if(!M.ok){const S=await M.json().catch(()=>({}));throw new Error(S.message||"Failed to mark all teachers present")}return M.json()},onSuccess:j=>{Ee.invalidateQueries({queryKey:["/api/teacher-attendance"]}),Do({title:"Success",description:`${j.message}. Created: ${j.createdCount}, Skipped existing: ${j.skippedExistingCount}`})},onError:j=>{Do({title:"Error",description:j.message||"Failed to mark all teachers present",variant:"destructive"}),console.error("Error marking all teachers present:",j)}}),q=Ct({mutationFn:async()=>{const j=localStorage.getItem("authToken"),k={"Content-Type":"application/json"};j&&(k.Authorization=`Bearer ${j}`);const M=await fetch("/api/student-attendance/mark-all-present",{method:"POST",headers:k,credentials:"include",body:JSON.stringify({date:t,classId:n})});if(!M.ok){const S=await M.json().catch(()=>({}));throw new Error(S.message||"Failed to mark all students present")}return M.json()},onSuccess:j=>{Ee.invalidateQueries({queryKey:["/api/student-attendance"]}),Do({title:"Success",description:`${j.message}. Created: ${j.createdCount}, Skipped existing: ${j.skippedExistingCount}`})},onError:j=>{Do({title:"Error",description:j.message||"Failed to mark all students present",variant:"destructive"}),console.error("Error marking all students present:",j)}}),ne=(j,k)=>{X.mutate({teacherId:j,status:k})},H=(j,k)=>{ae.mutate({studentId:j,status:k})},J=j=>{switch(j){case"present":return s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-green-50 dark:bg-green-950 rounded-full border border-green-200 dark:border-green-800",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 dark:text-green-300",children:"Present"})]});case"absent":return s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-red-50 dark:bg-red-950 rounded-full border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-sm text-red-700 dark:text-red-300",children:"Absent"})]});case"late":return s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-yellow-50 dark:bg-yellow-950 rounded-full border border-yellow-200 dark:border-yellow-800",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Late"})]});default:return s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-gray-50 dark:bg-gray-950 rounded-full border border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Not Marked"})]})}},de=(j,k)=>{if(Array.isArray(k))return k.find(M=>M.teacherId===j||M.studentId===j)},se=h.filter(j=>{const k=c.toLowerCase(),M=j.name||`${j.firstName||""} ${j.lastName||""}`,S=m(j.classes).toLowerCase();return M.toLowerCase().includes(k)||j.employeeId&&j.employeeId.toLowerCase().includes(k)||j.schoolIdNumber&&j.schoolIdNumber.toLowerCase().includes(k)||S.includes(k)}),D=C.filter(j=>{const k=u.toLowerCase();return`${j.firstName} ${j.lastName}`.toLowerCase().includes(k)||j.admissionNumber.toLowerCase().includes(k)||j.rollNumber&&j.rollNumber.toLowerCase().includes(k)});return(e==null?void 0:e.role)!=="admin"&&(e==null?void 0:e.role)!=="super_admin"?s.jsx("div",{className:"p-6",children:s.jsx(Qe,{children:s.jsx(Pe,{className:"p-6",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"You don't have permission to access this page."})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Attendance Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Mark and manage attendance for teachers and students"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"date",value:t,onChange:j=>r(j.target.value),className:"px-3 py-2 border border-input rounded-md text-sm","data-testid":"input-attendance-date"})]})})]}),s.jsxs(Km,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(tf,{className:"grid w-full grid-cols-2",children:[s.jsx(ni,{value:"teachers","data-testid":"tab-teachers",children:"Teachers Attendance"}),s.jsx(ni,{value:"students","data-testid":"tab-students",children:"Students Attendance"})]}),s.jsx(si,{value:"teachers",className:"space-y-4",children:s.jsxs(Qe,{children:[s.jsx(qe,{children:s.jsxs(rt,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yr,{className:"h-5 w-5"}),s.jsxs("span",{children:["Teachers Attendance - ",Yr(new Date(t),"MMMM d, yyyy")]})]}),s.jsxs(Jo,{children:[s.jsx(Yg,{asChild:!0,children:s.jsxs(oe,{disabled:he.isPending||h.length===0,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"button-mark-all-teachers-present",children:[s.jsx(tg,{className:"h-4 w-4 mr-2"}),he.isPending?"Marking...":"Mark All Present"]})}),s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Mark All Teachers Present"}),s.jsxs(go,{children:["Are you sure you want to mark all ",h.length," teachers as present for ",Yr(new Date(t),"MMMM d, yyyy"),"? This will only mark teachers who don't already have attendance recorded for this date."]})]}),s.jsxs(Zo,{children:[s.jsx(vo,{children:"Cancel"}),s.jsx(xo,{onClick:()=>he.mutate(),className:"bg-green-600 hover:bg-green-700",children:"Mark All Present"})]})]})]})]})}),s.jsxs(Pe,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search teachers by name, school ID, or class taught...",value:c,onChange:j=>d(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring","data-testid":"search-teachers"})]}),c&&s.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Showing ",se.length," of ",h.length," teachers"]})]}),x||E?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-4",children:[se.map(j=>{const k=de(j.id,F);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`teacher-attendance-${j.id}`,children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsxs(qt,{children:[s.jsx(so,{asChild:!0,children:s.jsx("h3",{className:"font-medium text-blue-600 cursor-pointer hover:text-blue-800 hover:underline","data-testid":`teacher-name-${j.id}`,children:j.name||`${j.firstName} ${j.lastName}`})}),s.jsxs(er,{className:"max-w-2xl",children:[s.jsx(sr,{children:s.jsxs(ar,{children:["Teacher Details - ",j.name||`${j.firstName} ${j.lastName}`]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Personal Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",j.name||`${j.firstName} ${j.lastName}`]}),s.jsxs("p",{children:[s.jsx("strong",{children:"School ID Number:"})," ",j.schoolIdNumber||"Not assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",j.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Active:"})," ",j.isActive?"Yes":"No"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",j.email||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Contact Number:"})," ",j.contactNumber||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Teaching Assignment"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Subjects:"})," ",p(j.subjects)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Classes:"})," ",m(j.classes)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Max Load:"})," ",j.maxLoad||"Not specified"," periods per week"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Max Daily Periods:"})," ",j.maxDailyPeriods||"Not specified"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Availability"}),j.availability?s.jsx("div",{className:"text-sm",children:Object.entries(j.availability).map(([M,S])=>s.jsxs("p",{children:[s.jsxs("strong",{children:[M.charAt(0).toUpperCase()+M.slice(1),":"]})," ",Array.isArray(S)&&S.length>0?S.join(", "):"Not available"]},M))}):s.jsx("p",{children:"No availability information"})]})]})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["School ID: ",j.schoolIdNumber||"Not assigned"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Classes: ",m(j.classes)]}),s.jsx("div",{className:"mt-2",children:J(k?k.status:"not_marked")})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Yt,{value:(k==null?void 0:k.status)||"",onValueChange:M=>ne(j.id,M),disabled:X.isPending,children:[s.jsx(Wt,{className:"w-40","data-testid":`select-teacher-status-${j.id}`,children:s.jsx(Jt,{placeholder:"Mark attendance"})}),s.jsxs(zt,{children:[s.jsx($e,{value:"present",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Th,{className:"h-4 w-4 text-green-600"}),"Present"]})}),s.jsx($e,{value:"absent",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4 text-red-600"}),"Absent"]})}),s.jsx($e,{value:"late",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-4 w-4 text-yellow-600"}),"Late"]})})]})]})})]},j.id)}),se.length===0&&h.length>0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['No teachers found matching "',c,'"']}),h.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No teachers found"})]})]})]})}),s.jsx(si,{value:"students",className:"space-y-4",children:s.jsxs(Qe,{children:[s.jsxs(qe,{children:[s.jsxs(rt,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yr,{className:"h-5 w-5"}),s.jsxs("span",{children:["Students Attendance - ",Yr(new Date(t),"MMMM d, yyyy")]})]}),n&&s.jsxs(Jo,{children:[s.jsx(Yg,{asChild:!0,children:s.jsxs(oe,{disabled:q.isPending||!n||C.length===0,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"button-mark-all-students-present",children:[s.jsx(tg,{className:"h-4 w-4 mr-2"}),q.isPending?"Marking...":"Mark All Present"]})}),s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Mark All Students Present"}),s.jsxs(go,{children:["Are you sure you want to mark all ",C.length," students in the selected class as present for ",Yr(new Date(t),"MMMM d, yyyy"),"? This will only mark students who don't already have attendance recorded for this date."]})]}),s.jsxs(Zo,{children:[s.jsx(vo,{children:"Cancel"}),s.jsx(xo,{onClick:()=>q.mutate(),className:"bg-green-600 hover:bg-green-700",children:"Mark All Present"})]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs(Yt,{value:n,onValueChange:a,children:[s.jsx(Wt,{className:"w-64","data-testid":"select-class",children:s.jsx(Jt,{placeholder:"Select a class"})}),s.jsx(zt,{children:y.sort((j,k)=>{const M=parseInt(j.grade)-parseInt(k.grade);return M!==0?M:!j.section&&!k.section?0:j.section?k.section?j.section.localeCompare(k.section):1:-1}).map(j=>{const k=j.section?`Grade ${j.grade} - ${j.section}`:`Grade ${j.grade}`;return s.jsx($e,{value:j.id,children:k},j.id)})})]})})]}),s.jsxs(Pe,{children:[n&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search students by name, admission number, or roll number...",value:u,onChange:j=>f(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring","data-testid":"search-students"})]}),u&&s.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Showing ",D.length," of ",C.length," students"]})]}),n?N||P?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):B?s.jsxs("div",{className:"text-center py-8 text-red-600",children:[s.jsxs("p",{children:["Error loading students: ",(B==null?void 0:B.message)||"Unable to fetch students"]}),s.jsx(oe,{onClick:()=>window.location.reload(),variant:"outline",size:"sm",className:"mt-2",children:"Retry"})]}):s.jsxs("div",{className:"space-y-4",children:[Array.isArray(D)&&D.map(j=>{const k=de(j.id,U);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`student-attendance-${j.id}`,children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsxs(qt,{children:[s.jsx(so,{asChild:!0,children:s.jsxs("h3",{className:"font-medium text-blue-600 cursor-pointer hover:text-blue-800 hover:underline","data-testid":`student-name-${j.id}`,children:[j.firstName," ",j.lastName]})}),s.jsxs(er,{className:"max-w-2xl",children:[s.jsx(sr,{children:s.jsxs(ar,{children:["Student Details - ",j.firstName," ",j.lastName]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Personal Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",j.firstName," ",j.lastName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Admission Number:"})," ",j.admissionNumber]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Roll Number:"})," ",j.rollNumber||"Not assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Gender:"})," ",j.gender||"Not specified"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date of Birth:"})," ",j.dateOfBirth||"Not specified"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Blood Group:"})," ",j.bloodGroup||"Not specified"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",j.status]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",j.email||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Contact Number:"})," ",j.contactNumber||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",j.address||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Emergency Contact:"})," ",j.emergencyContact||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Guardian Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Guardian Name:"})," ",j.guardianName||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Relation:"})," ",j.guardianRelation||"Not specified"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Guardian Contact:"})," ",j.guardianContact||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Medical Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Medical Info:"})," ",j.medicalInfo||"None specified"]})]})]})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Admission No: ",j.admissionNumber]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Roll No: ",j.rollNumber||"Not assigned"]}),s.jsx("div",{className:"mt-2",children:J(k?k.status:"not_marked")})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Yt,{value:(k==null?void 0:k.status)||"",onValueChange:M=>H(j.id,M),disabled:ae.isPending,children:[s.jsx(Wt,{className:"w-40","data-testid":`select-student-status-${j.id}`,children:s.jsx(Jt,{placeholder:"Mark attendance"})}),s.jsxs(zt,{children:[s.jsx($e,{value:"present",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Th,{className:"h-4 w-4 text-green-600"}),"Present"]})}),s.jsx($e,{value:"absent",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4 text-red-600"}),"Absent"]})}),s.jsx($e,{value:"late",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-4 w-4 text-yellow-600"}),"Late"]})})]})]})})]},j.id)}),D.length===0&&C.length>0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['No students found matching "',u,'"']}),(!C||C.length===0)&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No students found in the selected class"})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Please select a class to view student attendance"})]})]})})]})]})}function x0e(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Qe,{className:"w-full max-w-md mx-4",children:s.jsxs(Pe,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx($7,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const iw=768;function v0e(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${iw-1}px)`),n=()=>{t(window.innerWidth<iw)};return r.addEventListener("change",n),t(window.innerWidth<iw),()=>r.removeEventListener("change",n)},[]),!!e}const y0e=GC,w0e=WC,W6=v.forwardRef(({className:e,...t},r)=>s.jsx(Bm,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));W6.displayName=Bm.displayName;const b0e=Lc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),z6=v.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(w0e,{children:[s.jsx(W6,{}),s.jsxs(jm,{ref:a,className:De(b0e({side:e}),t),...n,children:[r,s.jsxs(Px,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(al,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));z6.displayName=jm.displayName;const X6=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",e),...t});X6.displayName="SheetHeader";const q6=v.forwardRef(({className:e,...t},r)=>s.jsx(Nm,{ref:r,className:De("text-lg font-semibold text-foreground",e),...t}));q6.displayName=Nm.displayName;const Y6=v.forwardRef(({className:e,...t},r)=>s.jsx(Em,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));Y6.displayName=Em.displayName;const C0e="sidebar_state",B0e=60*60*24*7,j0e="16rem",N0e="18rem",E0e="3rem",S0e="b",J6=v.createContext(null);function Ev(){const e=v.useContext(J6);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Z6=v.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const A=v0e(),[c,d]=v.useState(!1),[u,f]=v.useState(e),m=t??u,p=v.useCallback(g=>{const w=typeof g=="function"?g(m):g;r?r(w):f(w),document.cookie=`${C0e}=${w}; path=/; max-age=${B0e}`},[r,m]),h=v.useCallback(()=>A?d(g=>!g):p(g=>!g),[A,p,d]);v.useEffect(()=>{const g=w=>{w.key===S0e&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),h())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[h]);const x=m?"expanded":"collapsed",y=v.useMemo(()=>({state:x,open:m,setOpen:p,isMobile:A,openMobile:c,setOpenMobile:d,toggleSidebar:h}),[x,m,p,A,c,d,h]);return s.jsx(J6.Provider,{value:y,children:s.jsx(MC,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":j0e,"--sidebar-width-icon":E0e,...a},className:De("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});Z6.displayName="SidebarProvider";const e8=v.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:A,openMobile:c,setOpenMobile:d}=Ev();return r==="none"?s.jsx("div",{className:De("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(y0e,{open:c,onOpenChange:d,...i,children:s.jsxs(z6,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":N0e},side:e,children:[s.jsxs(X6,{className:"sr-only",children:[s.jsx(q6,{children:"Sidebar"}),s.jsx(Y6,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":A,"data-collapsible":A==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:De("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:De("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});e8.displayName="Sidebar";const t8=v.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Ev();return s.jsxs(oe,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:De("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(oV,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});t8.displayName="SidebarTrigger";const r8=v.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Ev();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:De("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});r8.displayName="SidebarRail";const n8=v.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:De("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));n8.displayName="SidebarInset";const F0e=v.forwardRef(({className:e,...t},r)=>s.jsx(Fe,{ref:r,"data-sidebar":"input",className:De("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));F0e.displayName="SidebarInput";const s8=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:De("flex flex-col gap-2 p-2",e),...t}));s8.displayName="SidebarHeader";const a8=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:De("flex flex-col gap-2 p-2",e),...t}));a8.displayName="SidebarFooter";const T0e=v.forwardRef(({className:e,...t},r)=>s.jsx(Uc,{ref:r,"data-sidebar":"separator",className:De("mx-2 w-auto bg-sidebar-border",e),...t}));T0e.displayName="SidebarSeparator";const i8=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:De("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));i8.displayName="SidebarContent";const xb=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:De("relative flex w-full min-w-0 flex-col p-2",e),...t}));xb.displayName="SidebarGroup";const vb=v.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Oc:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:De("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});vb.displayName="SidebarGroupLabel";const _0e=v.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Oc:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:De("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});_0e.displayName="SidebarGroupAction";const yb=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:De("w-full text-sm",e),...t}));yb.displayName="SidebarGroupContent";const Rf=v.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:De("flex w-full min-w-0 flex-col gap-1",e),...t}));Rf.displayName="SidebarMenu";const pd=v.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:De("group/menu-item relative",e),...t}));pd.displayName="SidebarMenuItem";const k0e=Lc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),gd=v.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const A=e?Oc:"button",{isMobile:c,state:d}=Ev(),u=s.jsx(A,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:De(k0e({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(qQ,{children:[s.jsx(YQ,{asChild:!0,children:u}),s.jsx(HC,{side:"right",align:"center",hidden:d!=="collapsed"||c,...a})]})):u});gd.displayName="SidebarMenuButton";const I0e=v.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?Oc:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:De("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});I0e.displayName="SidebarMenuAction";const U0e=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:De("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));U0e.displayName="SidebarMenuBadge";const Q0e=v.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:De("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&s.jsx(Kt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Kt,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Q0e.displayName="SidebarMenuSkeleton";const D0e=v.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:De("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));D0e.displayName="SidebarMenuSub";const P0e=v.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));P0e.displayName="SidebarMenuSubItem";const O0e=v.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?Oc:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:De("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});O0e.displayName="SidebarMenuSubButton";const R0e=e=>e==="super_admin"?[{path:"/",icon:m0,label:"Dashboard"},{path:"/admin-dashboard",icon:ic,label:"School Administration"},{path:"/attendance",icon:MN,label:"Attendance"},{path:"/system-modules",icon:z7,label:"System Modules"}]:e==="admin"?[{path:"/",icon:m0,label:"Dashboard"},{path:"/timetable",icon:ns,label:"Timetables"},{path:"/attendance",icon:MN,label:"Attendance"},{path:"/students",icon:ss,label:"Students"},{path:"/teachers",icon:Th,label:"Teachers"},{path:"/classes",icon:yr,label:"Classes"}]:e==="student"?[{path:"/",icon:m0,label:"Dashboard"},{path:"/my-class",icon:yr,label:"My Class"},{path:"/my-profile",icon:wr,label:"My Profile"}]:[{path:"/",icon:m0,label:"Dashboard"}];function L0e(){const[e]=Da(),{user:t,logout:r}=Ns(),n=R0e(t==null?void 0:t.role),a=l=>{switch(l){case"super_admin":return bx;case"admin":return co;default:return wr}},i=l=>{switch(l){case"super_admin":return"Super Admin";case"admin":return"School Admin";case"student":return"Student";default:return"User"}},o=a((t==null?void 0:t.role)||"");return s.jsxs(e8,{collapsible:"icon",variant:"inset",children:[s.jsx(s8,{children:s.jsx(Rf,{children:s.jsx(pd,{children:s.jsx(gd,{size:"lg",asChild:!0,children:s.jsxs(sc,{href:"/",children:[s.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:s.jsx(ss,{className:"size-4"})}),s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[s.jsx("span",{className:"truncate font-semibold",children:"Chrona"}),s.jsx("span",{className:"truncate text-xs text-muted-foreground",children:"Smart Timetable Management"})]})]})})})})}),s.jsxs(i8,{children:[t&&s.jsxs(xb,{children:[s.jsx(vb,{children:"Account"}),s.jsx(yb,{children:s.jsx(Rf,{children:s.jsx(pd,{children:s.jsxs(gd,{size:"sm",className:"bg-accent/50",children:[s.jsx(o,{className:"size-4"}),s.jsxs("div",{className:"grid flex-1 text-left text-xs leading-tight",children:[s.jsxs("span",{className:"truncate font-medium",children:[t.firstName," ",t.lastName]}),s.jsx("span",{className:"truncate text-muted-foreground",children:i(t.role)})]})]})})})})]}),s.jsxs(xb,{children:[s.jsx(vb,{children:"Navigation"}),s.jsx(yb,{children:s.jsx(Rf,{children:n.map(l=>{const A=l.icon;return s.jsx(pd,{children:s.jsx(gd,{asChild:!0,isActive:e===l.path,tooltip:l.label,children:s.jsxs(sc,{href:l.path,children:[s.jsx(A,{className:"size-4"}),s.jsx("span",{children:l.label})]})})},l.path)})})})]})]}),s.jsx(a8,{children:s.jsxs(Rf,{children:[s.jsx(pd,{children:s.jsx(gd,{asChild:!0,tooltip:"Settings",children:s.jsxs(sc,{href:"/settings",children:[s.jsx(uA,{className:"size-4"}),s.jsx("span",{children:"Settings"})]})})}),s.jsx(pd,{children:s.jsxs(gd,{onClick:r,tooltip:"Logout",className:"text-destructive hover:text-destructive",children:[s.jsx(nV,{className:"size-4"}),s.jsx("span",{children:"Logout"})]})})]})}),s.jsx(r8,{})]})}function M0e({children:e}){return s.jsxs(Z6,{children:[s.jsx(L0e,{}),s.jsxs(n8,{children:[s.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 px-4 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:[s.jsx(t8,{className:"-ml-1"}),s.jsx(Uc,{orientation:"vertical",className:"mr-2 h-4"})]}),s.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:e})]})]})}function H0e(){const[e,t]=v.useState(""),[r,n]=v.useState(""),{loginMutation:a,user:i,isAuthenticated:o}=Ns(),[,l]=Da();v.useEffect(()=>{o&&i&&l("/")},[o,i,l]);const A=c=>{c.preventDefault(),a.mutate({email:e,password:r})};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs(Qe,{className:"w-full max-w-md",children:[s.jsxs(qe,{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(co,{className:"h-8 w-8 text-primary mr-2"}),s.jsx("span",{className:"text-2xl font-bold",children:"Chrona"})]}),s.jsx(rt,{children:"Welcome Back"}),s.jsx(ys,{children:"Sign in to your AI-powered school management platform"})]}),s.jsx(Pe,{children:s.jsxs("form",{onSubmit:A,className:"space-y-4","data-testid":"form-login",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"email",children:"Email / User ID"}),s.jsx(Fe,{id:"email",type:"text",placeholder:"Enter your email or user ID",value:e,onChange:c=>t(c.target.value),required:!0,"data-testid":"input-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"password",children:"Password"}),s.jsx(Fe,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:c=>n(c.target.value),required:!0,"data-testid":"input-password"})]}),s.jsx(oe,{type:"submit",className:"w-full",disabled:a.isPending,"data-testid":"button-login",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(la,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})}),s.jsx("div",{className:"flex-1 bg-gradient-to-br from-blue-50/80 via-indigo-50/60 to-purple-50/40 dark:from-blue-950/20 dark:via-indigo-950/15 dark:to-purple-950/10 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-lg text-center space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-full p-3 mr-3",children:s.jsx(cV,{className:"h-6 w-6 text-white"})})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-700 via-indigo-700 to-purple-700 bg-clip-text text-transparent",children:"AI Powered School Management Solution"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Transform your educational institution with intelligent automation, seamless communication, and comprehensive management tools."}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/60 dark:bg-slate-800/40 rounded-xl backdrop-blur-sm border border-white/20 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg p-2",children:s.jsx(ns,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"AI-Powered Scheduling"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate optimal timetables automatically"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/60 dark:bg-slate-800/40 rounded-xl backdrop-blur-sm border border-white/20 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-lg p-2",children:s.jsx(mp,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"AI Chroney Chat"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Intelligent assistant for school operations"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/60 dark:bg-slate-800/40 rounded-xl backdrop-blur-sm border border-white/20 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-2",children:s.jsx(iV,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"School & Class Newsfeed"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stay connected with real-time updates"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/60 dark:bg-slate-800/40 rounded-xl backdrop-blur-sm border border-white/20 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg p-2",children:s.jsx(yr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Multi-Role Access"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrators, teachers, students & parents"})]})]})]})]})})]})}function K0e(){const[e,t]=v.useState(""),[r,n]=v.useState(""),{toast:a}=On(),[,i]=Da(),o=Ct({mutationFn:async A=>await(await Ne("POST","/api/auth/first-login-password-change",A)).json(),onSuccess:A=>{a({title:"Success",description:"Password changed successfully! You can now access the dashboard."}),Ee.invalidateQueries({queryKey:["/api/auth/user"]}),A.token&&localStorage.setItem("authToken",A.token),i("/")},onError:A=>{a({title:"Error",description:A.message||"Failed to change password",variant:"destructive"})}}),l=A=>{if(A.preventDefault(),e!==r){a({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(e.length<8){a({title:"Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}o.mutate({newPassword:e})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-8 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:s.jsxs(Qe,{className:"w-full max-w-md",children:[s.jsxs(qe,{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(co,{className:"h-8 w-8 text-primary mr-2"}),s.jsx("span",{className:"text-2xl font-bold",children:"Chrona"})]}),s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx(Sh,{className:"h-6 w-6 text-orange-500 mr-2"}),s.jsx(rt,{children:"Change Password Required"})]}),s.jsx(ys,{children:"This is your first login. Please change your temporary password to continue."})]}),s.jsx(Pe,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4","data-testid":"form-change-password",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"newPassword",children:"New Password"}),s.jsx(Fe,{id:"newPassword",type:"password",placeholder:"Enter your new password",value:e,onChange:A=>t(A.target.value),required:!0,minLength:8,"data-testid":"input-new-password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(Fe,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",value:r,onChange:A=>n(A.target.value),required:!0,minLength:8,"data-testid":"input-confirm-password"})]}),s.jsx(oe,{type:"submit",className:"w-full",disabled:o.isPending,"data-testid":"button-change-password",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(la,{className:"mr-2 h-4 w-4 animate-spin"}),"Changing Password..."]}):"Change Password"})]})})]})})}function V0e(){const{isAuthenticated:e,isLoading:t,user:r}=Ns();if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});if(!e)return s.jsx(H0e,{});if(r!=null&&r.isFirstLogin)return s.jsx(K0e,{});const n=(r==null?void 0:r.role)==="super_admin",a=(r==null?void 0:r.role)==="admin",i=(r==null?void 0:r.role)==="student";return s.jsx(M0e,{children:s.jsxs(A9,{children:[s.jsx(Rn,{path:"/",component:Qae}),n&&s.jsx(Rn,{path:"/schools",component:phe}),n&&s.jsx(Rn,{path:"/admin-dashboard",component:h0e}),n&&s.jsx(Rn,{path:"/system-modules",component:f0e}),a&&s.jsx(Rn,{path:"/classes",component:she}),a&&s.jsx(Rn,{path:"/classes/:id",component:Ahe}),a&&s.jsx(Rn,{path:"/students",component:Mfe}),a&&s.jsx(Rn,{path:"/students/:id",component:the}),a&&s.jsx(Rn,{path:"/subjects",component:che}),a&&s.jsx(Rn,{path:"/timetable",component:_fe}),a&&s.jsx(Rn,{path:"/timetable/settings",component:Rfe}),a&&s.jsx(Rn,{path:"/teachers",component:rhe}),a&&s.jsx(Rn,{path:"/teacher/:id",component:d0e}),(a||n)&&s.jsx(Rn,{path:"/attendance",component:g0e}),i&&s.jsx(Rn,{path:"/my-class",component:p0e}),i&&s.jsx(Rn,{path:"/my-profile",component:m0e}),s.jsx(Rn,{path:"/settings",component:ghe}),s.jsx(Rn,{component:x0e})]})})}function $0e(){return s.jsx(U9,{client:Ee,children:s.jsx(IG,{children:s.jsxs(MC,{children:[s.jsx(WV,{}),s.jsx(V0e,{})]})})})}JI(document.getElementById("root")).render(s.jsx($0e,{}));
